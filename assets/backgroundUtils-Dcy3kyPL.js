const b=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];const d=e=>b.includes(e.type)?e.size>5242880?{valid:!1,error:"图片文件过大。请上传小于 5MB 的图片。"}:{valid:!0}:{valid:!1,error:"不支持的图片格式。请上传 JPG、PNG、GIF 或 WebP 格式的图片。"},v=(e,l=1920,r=1080,s=.8)=>new Promise((c,g)=>{const n=document.createElement("canvas"),u=n.getContext("2d"),t=new Image;t.onload=()=>{let{width:a,height:o}=t;if(a>l||o>r){const i=Math.min(l/a,r/o);a*=i,o*=i}n.width=a,n.height=o,u?.drawImage(t,0,0,a,o);const p=n.toDataURL("image/jpeg",s);c(p)},t.onerror=()=>g(new Error("Failed to load image")),t.src=URL.createObjectURL(e)}),m=e=>!e.enabled||!e.imageUrl?{}:{backgroundImage:`url(${e.imageUrl})`,backgroundSize:e.size,backgroundPosition:e.position,backgroundRepeat:e.repeat,backgroundAttachment:"local",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(255, 255, 255, ${1-e.opacity})`,pointerEvents:"none",zIndex:1},"& > *":{position:"relative",zIndex:2}},I=e=>{e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)},f=()=>[{label:"覆盖",value:"cover",description:"图片覆盖整个区域，可能会裁剪"},{label:"包含",value:"contain",description:"图片完整显示，可能有空白区域"},{label:"原始大小",value:"auto",description:"图片按原始大小显示"}],h=()=>[{label:"居中",value:"center"},{label:"顶部",value:"top"},{label:"底部",value:"bottom"},{label:"左侧",value:"left"},{label:"右侧",value:"right"}],E=()=>[{label:"不重复",value:"no-repeat"},{label:"重复",value:"repeat"},{label:"水平重复",value:"repeat-x"},{label:"垂直重复",value:"repeat-y"}];export{h as a,E as b,I as c,v as d,m as e,f as g,d as v};
