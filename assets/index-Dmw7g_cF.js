const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/veo-CMrMwxKK.js","assets/index-Bp4oiTTd.js","assets/index-ow1R_qFW.css"])))=>i.map(i=>d[i]);
import{c as ot,fW as sr,bE as qe,bF as tt,aA as er,l as Wn,p as De,ea as He,fX as ei,fu as Ge,fY as Or,fZ as p8,f_ as Up,f$ as Bt,e9 as g8,g0 as yn,g1 as Cn,g2 as m8,g3 as b8,g4 as w8,ad as U3,g5 as _n,eK as y8,g6 as x8,ae as M3,g7 as Q3,fp as lr,fq as hn,g8 as zr,g9 as ps,ga as v8,gb as B8,gc as C8,gd as E8,ge as Mp,eJ as fm,gf as R3,gg as O3,gh as N3,gi as L3,gj as ma,fn as pm,M as H3,gk as S8,gl as T8,fh as F8,gm as bi,gn as D8,aZ as Kl,eb as ql,go as k8,gp as I8,gq as _8,gr as U8,ec as P3,gs as Vl,gt as Nf,gu as Dc,gv as aa,gw as Qp,u as Rp,a0 as Ht,a1 as ba,r as q,U as Sr,V as dt,gx as G0,gy as M8,gz as Q8,gA as R8,gB as sn,gC as O8,gD as j3,gE as N8,dm as Un,dn as wA,gF as Ja,gG as L8,gH as xo,c_ as Tr,b7 as gs,fv as Xt,gI as H8,fi as Op,gJ as z3,gK as gm,j as h,aj as Zt,B as de,d as Se,gL as P8,gM as j8,k as kr,m as an,n as Ir,G as Er,o as on,f as ut,W as z8,b6 as K8,em as Mn,gN as kc,aU as Vr,aV as Np,aW as Gr,aX as vo,t as Kt,gO as K3,gP as q8,gQ as V8,eq as Js,K as Ze,a4 as xn,bm as $n,Z as Ft,bC as Bo,e as St,E as Lp,H as Di,fj as Lf,bo as Hf,af as Gs,bp as sa,a2 as rt,bn as ms,I as Ye,bw as G8,ac as Dt,an as Mi,b1 as Pf,fl as mm,i as ki,gR as W8,X as ti,Y as cr,bc as vs,er as Co,Q as Nr,R as Qi,P as hr,gS as Ws,gT as $8,C as KA,e3 as Hp,gU as jf,gV as Pp,bG as X8,g as Sn,gW as Y8,bH as bm,bA as J8,ak as Z8,a3 as ri,aR as Gl,br as eC,h as jp,a as $s,a5 as Gn,bu as Ii,O as Bs,gX as tC,bD as rC,a9 as q3,eG as ic,gY as wm,gZ as nC,a6 as Ic,g_ as sC,g$ as W0,d0 as zf,h0 as V3,dR as iC,fo as ac,ft as zp,h1 as Kp,h2 as ym,h3 as sA,fr as G3,bz as xm,h4 as aC,h5 as oC,h6 as AC,h7 as uC,h8 as lC,$ as cC,ah as qp,ab as W3,c$ as Vp,e6 as $3,h9 as X3,a_ as da,b4 as Y3,D as _c,ha as J3,bk as Uc,b as dC,aP as hC,dE as Z3,hb as Mc,b2 as Gp,b3 as Wp,b5 as $p,hc as e5,hd as t5,he as fC,hf as pC,dW as Xp,hg as r5,e5 as gC,hh as vm,bx as mC,S as UA,ag as qn,J as Kf,N as _u,hi as bC,hj as wC,hk as yC,hl as xC,hm as vC,hn as BC,ho as CC,hp as EC,hq as $0,hr as SC,hs as ci,A as TC,T as FC,ht as Bm}from"./index-Bp4oiTTd.js";import{A as DC,a as n5}from"./AvatarUploader-BsyVzYtY.js";import{i as kC,M as IC,H as _C,T as UC,d as MC,e as QC,C as RC,E as OC,f as NC,B as LC,h as HC,j as PC,L as jC,D as zC,W as KC,P as qC,k as VC,l as GC,c as WC,s as $C}from"./agentPrompts-DfG1P-kc.js";import{C as Cm}from"./CustomIcon-BwQ5xTbP.js";import{getUserAvatar as s5,getAssistantAvatar as XC,getModelAvatar as YC,saveUserAvatar as JC}from"./avatarUtils-j6uOuBhu.js";import{I as Yp}from"./image-BjcbBBct.js";import{F as wa}from"./file-text-DZ4vpcFj.js";import{TTSService as Em}from"./TTSService-DykV9jE_.js";import{C as i5}from"./chevron-left-Vkamism1.js";import{H as Sm,V as Tm,M as a5,u as ZC,c as o5,b as e7,I as t7,C as r7,a as n7}from"./ChatToolbar-EjLi_rGk.js";import{V as Fm}from"./volume-2-Dt-DxoHy.js";import{n as qA,o as s7,q as i7,r as Dm,u as km,v as oc,w as A5,R as a7,x as o7,M as A7,A as u7,H as u5,F as Ac}from"./MobileFileViewer-CDIoDpLT.js";import{G as Im}from"./git-branch-BuO_iVEf.js";import{P as VA}from"./plus-DzgKc2iD.js";import{A as l7}from"./arrow-left-right-BKlZY3e1.js";import{T as GA,a as Ei}from"./Tabs-DaoLBDmq.js";import{C as l5}from"./clock-D7gqbdlO.js";import{C as c5}from"./Card-CqCVDSy1.js";import{C as d5}from"./CardContent-BsEX79yU.js";import{Z as Jp}from"./zap-clYWn07Q.js";import{C as c7}from"./CardActions-BJYc64Kz.js";import{F as d7}from"./file-CpslafFf.js";import{S as ys}from"./search-ujF0MOD3.js";import{U as Eo}from"./user-DN8k6tLZ.js";import{u as h7}from"./useScrollPosition-DKqdkmjy.js";import{G as f7}from"./grip-vertical-3U_b-469.js";import{B as Zp}from"./book-open-DmWp_J3c.js";import{F as h5}from"./folder-C81CAi5A.js";import{C as f5}from"./camera-NkArBSeE.js";import{V as p5}from"./video-B2DVWIco.js";import{P as g5}from"./puzzle-CUwsOzNr.js";import{S as eg}from"./smartphone-BrksCJ-I.js";import{W as m5}from"./wifi-B68UshGE.js";import{A as b5}from"./arrow-right-epb4MLWZ.js";import{C as p7}from"./check-BtCcYkea.js";import{M as g7}from"./minus-DnfR3ao7.js";import{S as m7}from"./shield-BWCLBdfz.js";import{K as b7,n as w7,s as y7,a as x7}from"./notionApiUtils-TpZoD0fd.js";import{L as WA}from"./ListItemButton-ypcwwCi0.js";import{L as w5}from"./ListItemAvatar-6gKGS2AR.js";import{I as ya}from"./InputAdornment-DlY_7arK.js";import{L as Oo}from"./ListSubheader-elT9MM7C.js";import{S as v7}from"./sliders-vertical-BJZxsx6K.js";import{D as B7}from"./DialogModelSelector-DMw3Zh2P.js";import{D as C7,U as E7}from"./DropdownModelSelector-K1il0az4.js";import{e as S7}from"./backgroundUtils-Dcy3kyPL.js";import"./square-CnXLMq5X.js";import"./send-C23wWMB1.js";import"./useVoiceRecognition-DTL0fVi9.js";import"./VoiceRecognitionService-C2ff6Zt2.js";import"./mic-BSbeGKkG.js";import"./keyboard-BCTqdcay.js";import"./folder-open-B975vLfv.js";import"./play-Db5Cd-lZ.js";import"./QuickPhraseService-CBF9ax2g.js";import"./index-DTxJt4jI.js";var X0={exports:{}},Y0,_m;function T7(){if(_m)return Y0;_m=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y0=t,Y0}var J0,Um;function F7(){if(Um)return J0;Um=1;var t=T7();function e(){}function r(){}return r.resetWarningCache=e,J0=function(){function n(a,o,A,u,l,c){if(c!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},J0}var Mm;function D7(){return Mm||(Mm=1,X0.exports=F7()()),X0.exports}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],I7=ot("activity",k7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],U7=ot("arrow-down-a-z",_7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Q7=ot("arrow-down",M7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],O7=ot("arrow-up-a-z",R7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],L7=ot("arrow-up",N7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tg=ot("briefcase",H7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],j7=ot("calculator",P7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y5=ot("calendar",z7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],q7=ot("chef-hat",K7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],G7=ot("clipboard",V7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],x5=ot("coffee",W7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],X7=ot("cog",$7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rg=ot("dollar-sign",Y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Z7=ot("file-down",J7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],tE=ot("film",eE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],v5=ot("gamepad-2",rE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ng=ot("graduation-cap",nE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],B5=ot("handshake",sE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aE=ot("hash",iE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],C5=ot("headphones",oE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],uE=ot("heart-handshake",AE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],sg=ot("heart",lE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],dE=ot("languages",cE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],E5=ot("laptop",hE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pE=ot("loader-circle",fE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mE=ot("lock",gE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]],wE=ot("magnet",bE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S5=ot("mail",yE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],T5=ot("maximize-2",xE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],BE=ot("menu",vE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],F5=ot("microscope",CE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],D5=ot("pen-line",EE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],TE=ot("pen-tool",SE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],ig=ot("pin",FE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],kE=ot("plane",DE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],k5=ot("rocket",IE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],UE=ot("scale",_E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],I5=ot("server",ME);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],qf=ot("share",QE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_5=ot("shopping-cart",RE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],U5=ot("star",OE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M5=ot("target",NE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Q5=ot("test-tube",LE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],R5=ot("trending-up",HE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],O5=ot("trophy",PE);class N5{content="";getContent(){return this.content}clear(){this.content=""}}class jE extends N5{accumulate(e){this.content.length>0&&e.includes(this.content)?this.content=e:this.content+=e}}class zE extends N5{accumulate(e){e.length>this.content.length&&e.startsWith(this.content)?this.content=e:e!==this.content&&!this.content.endsWith(e)&&(this.content+=e)}}class KE{constructor(e,r,n){this.stateService=e,this.storageService=r,console.log("[ThrottledBlockUpdater] 创建节流更新器，间隔:",n+"ms"),this.throttledStorageUpdate=Wn.throttle((s,i)=>r.updateBlock(s,i),n),this.throttledStateUpdate=Wn.throttle((s,i)=>{console.log("[ThrottledBlockUpdater] 节流更新Redux状态"),e.updateBlock(s,i)},n)}throttledStorageUpdate;throttledStateUpdate;async updateBlock(e,r){this.throttledStateUpdate(e,r),this.throttledStorageUpdate(e,r)}async createBlock(e){this.stateService.addBlock(e),await this.storageService.saveBlock(e),this.stateService.addBlockReference(e.messageId,e.id,e.status)}}class qE{state="initial";initialBlockId;textBlockId=null;thinkingBlockId=null;constructor(e){this.initialBlockId=e}transitionToText(){switch(this.state){case"initial":return this.state="text_only",this.textBlockId=this.initialBlockId,{blockId:this.initialBlockId,isNewBlock:!1};case"thinking_only":return this.state="both",this.textBlockId=er(),{blockId:this.textBlockId,isNewBlock:!0};default:return{blockId:this.textBlockId,isNewBlock:!1}}}transitionToThinking(){switch(this.state){case"initial":return this.state="thinking_only",this.thinkingBlockId=this.initialBlockId,{blockId:this.initialBlockId,isNewBlock:!1};default:return{blockId:this.thinkingBlockId,isNewBlock:!1}}}getTextBlockId(){return this.textBlockId}getThinkingBlockId(){return this.thinkingBlockId}getInitialBlockId(){return this.initialBlockId}getCurrentState(){return this.state}}class VE{constructor(e,r,n,s,i){this.messageId=e,this.blockStateManager=new qE(r),this.blockUpdater=new KE(n,s,i)}textAccumulator=new jE;thinkingAccumulator=new zE;blockStateManager;blockUpdater;async handleChunk(e){if(!e)throw new Error("Chunk 不能为空");try{switch(e.type){case sr.TEXT_DELTA:await this.handleTextDelta(e);break;case sr.TEXT_COMPLETE:await this.handleTextComplete(e);break;case sr.THINKING_DELTA:await this.handleThinkingDelta(e);break;case sr.THINKING_COMPLETE:await this.handleThinkingComplete(e);break;default:console.warn(`[ResponseChunkProcessor] 未知的 chunk 类型: ${e.type}`)}}catch(r){const n=r instanceof Error?r.message:"未知错误";throw console.error(`[ResponseChunkProcessor] 处理 ${e.type} 失败: ${n}`,r),new Error(`处理 chunk 失败: ${n}`)}}async handleTextDelta(e){this.textAccumulator.accumulate(e.text),await this.processTextContent()}async handleTextComplete(e){this.textAccumulator.accumulate(e.text),await this.processTextContent()}async handleThinkingDelta(e){this.thinkingAccumulator.accumulate(e.text),await this.processThinkingContent(e.thinking_millsec)}async handleThinkingComplete(e){this.thinkingAccumulator.accumulate(e.text),await this.processThinkingContent(e.thinking_millsec)}async processTextContent(){const{blockId:e,isNewBlock:r}=this.blockStateManager.transitionToText();r?await this.createTextBlock(e):await this.updateTextBlock(e)}async processThinkingContent(e){const{blockId:r}=this.blockStateManager.transitionToThinking();await this.updateThinkingBlock(r,e)}async createTextBlock(e){const r={id:e,messageId:this.messageId,type:tt.MAIN_TEXT,content:this.textAccumulator.getContent(),createdAt:new Date().toISOString(),status:qe.STREAMING};await this.blockUpdater.createBlock(r)}async updateTextBlock(e){const r={type:tt.MAIN_TEXT,content:this.textAccumulator.getContent(),status:qe.STREAMING,updatedAt:new Date().toISOString()};await this.blockUpdater.updateBlock(e,r)}async updateThinkingBlock(e,r){const n={type:tt.THINKING,content:this.thinkingAccumulator.getContent(),status:qe.STREAMING,thinking_millsec:r||0,updatedAt:new Date().toISOString()};await this.blockUpdater.updateBlock(e,n)}get content(){return this.textAccumulator.getContent()}get thinking(){return this.thinkingAccumulator.getContent()}get textBlockId(){return this.blockStateManager.getTextBlockId()}get thinkingId(){return this.blockStateManager.getThinkingBlockId()}get currentBlockId(){return this.blockStateManager.getInitialBlockId()}get blockType(){switch(this.blockStateManager.getCurrentState()){case"thinking_only":return tt.THINKING;case"text_only":return tt.MAIN_TEXT;case"both":return tt.THINKING;default:return tt.MAIN_TEXT}}}function GE(t,e,r,n,s,i){const a={updateBlock:(A,u)=>r.dispatch(s.updateOneBlock({id:A,changes:u})),addBlock:A=>r.dispatch(s.addOneBlock(A)),addBlockReference:(A,u,l)=>r.dispatch(s.upsertBlockReference({messageId:A,blockId:u,status:l}))},o={updateBlock:(A,u)=>n.updateMessageBlock(A,u),saveBlock:A=>n.saveMessageBlock(A)};return new VE(t,e,a,o,i)}async function Qm(t,e={}){const{interval:r=100,timeout:n=3e4}=e,s=Date.now();for(;;){try{if(await t())return}catch(i){console.warn("[ToolExecutionSync] 条件检查失败:",i)}if(Date.now()-s>n)throw new Error(`等待条件超时 (${n}ms)`);await new Promise(i=>setTimeout(i,r))}}class WE{executingTools=new Set;completedTools=new Set;failedTools=new Set;startTool(e){console.log(`[ToolExecutionTracker] 工具开始执行: ${e}`),this.executingTools.add(e),this.completedTools.delete(e),this.failedTools.delete(e)}completeTool(e,r=!0){console.log(`[ToolExecutionTracker] 工具执行完成: ${e}, 成功: ${r}`),this.executingTools.delete(e),r?(this.completedTools.add(e),this.failedTools.delete(e)):(this.failedTools.add(e),this.completedTools.delete(e))}hasExecutingTools(){return this.executingTools.size>0}isToolExecuting(e){return this.executingTools.has(e)}isToolCompleted(e){return this.completedTools.has(e)||this.failedTools.has(e)}async waitForAllToolsComplete(e=6e4){console.log(`[ToolExecutionTracker] 等待所有工具执行完成，当前执行中: ${this.executingTools.size}`),await Qm(()=>!this.hasExecutingTools(),{interval:100,timeout:e}),console.log("[ToolExecutionTracker] 所有工具执行完成")}async waitForToolComplete(e,r=3e4){console.log(`[ToolExecutionTracker] 等待工具完成: ${e}`),await Qm(()=>this.isToolCompleted(e),{interval:100,timeout:r});const n=this.completedTools.has(e);return console.log(`[ToolExecutionTracker] 工具完成: ${e}, 成功: ${n}`),n}getStats(){return{executing:this.executingTools.size,completed:this.completedTools.size,failed:this.failedTools.size,executingTools:Array.from(this.executingTools),completedTools:Array.from(this.completedTools),failedTools:Array.from(this.failedTools)}}cleanup(){console.log(`[ToolExecutionTracker] 清理工具记录 - 完成: ${this.completedTools.size}, 失败: ${this.failedTools.size}`),this.completedTools.clear(),this.failedTools.clear()}reset(){console.log("[ToolExecutionTracker] 重置所有工具状态"),this.executingTools.clear(),this.completedTools.clear(),this.failedTools.clear()}}const to=new WE;class $E{messageId;toolCallIdToBlockIdMap=new Map;constructor(e){this.messageId=e}async atomicToolBlockOperation(e,r,n){try{await De.transaction("rw",[De.message_blocks,De.messages],async()=>{n==="create"&&(this.toolCallIdToBlockIdMap.set(e,r.id),He.dispatch(ei(r)),await De.saveMessageBlock(r),He.dispatch(Ge.upsertBlockReference({messageId:this.messageId,blockId:r.id,status:r.status})))}),console.log(`[ToolResponseHandler] 原子性工具块操作完成: ${n} - toolId: ${e}, blockId: ${r.id}`)}catch(s){throw console.error(`[ToolResponseHandler] 原子性工具块操作失败: ${n} - toolId: ${e}:`,s),s}}async handleSingleToolError(e,r){try{const n=this.toolCallIdToBlockIdMap.get(e);if(n){const s={status:qe.ERROR,error:{message:r.message||"工具执行失败",details:r.stack||r.toString()},updatedAt:new Date().toISOString()};He.dispatch(Or({id:n,changes:s})),await De.updateMessageBlock(n,s)}}catch(n){console.error("[ToolResponseHandler] 更新工具错误状态失败:",n)}}async handleToolProgress(e){try{if(console.log(`[ToolResponseHandler] 处理工具进行中，工具数量: ${e.responses?.length||0}`),!e.responses||e.responses.length===0)return;for(const r of e.responses)try{if(console.log(`[ToolResponseHandler] 处理工具响应: toolResponse.id=${r.id}, tool.name=${r.tool.name}, tool.id=${r.tool.id}`),r.status==="invoking"){const n=this.toolCallIdToBlockIdMap.get(r.id);if(n){console.log(`[ToolResponseHandler] 工具块已存在: ${n} (toolId: ${r.id})`);continue}to.startTool(r.id);const s=p8(this.messageId,r.id,{toolName:r.tool.name,arguments:r.arguments,status:qe.PROCESSING,metadata:{rawMcpToolResponse:r,toolUseId:r.id,startTime:new Date().toISOString(),serverName:r.tool.serverName||"unknown"}});console.log(`[ToolResponseHandler] 创建工具块: ${s.id} (${s.toolName})`),this.toolCallIdToBlockIdMap.set(r.id,s.id),He.dispatch(ei(s)),await De.saveMessageBlock(s),He.dispatch(Ge.upsertBlockReference({messageId:this.messageId,blockId:s.id,status:s.status}))}else console.warn(`[ToolResponseHandler] 收到未处理的工具状态: ${r.status} for ID: ${r.id}`)}catch(n){console.error(`[ToolResponseHandler] 处理单个工具失败 (toolId: ${r.id}):`,n),await this.handleSingleToolError(r.id,n)}}catch(r){console.error("[ToolResponseHandler] 处理工具进行中事件失败:",r)}}async atomicToolBlockUpdate(e,r){try{await De.transaction("rw",[De.message_blocks],async()=>{He.dispatch(Or({id:e,changes:r})),await De.updateMessageBlock(e,r)}),console.log(`[ToolResponseHandler] 原子性工具块更新完成: blockId: ${e}`)}catch(n){throw console.error(`[ToolResponseHandler] 原子性工具块更新失败: blockId: ${e}:`,n),n}}calculateToolDuration(e){try{const r=this.toolCallIdToBlockIdMap.get(e);if(!r)return;const n=He.getState().messageBlocks.entities[r];if(!n?.metadata||typeof n.metadata!="object")return;const s=n.metadata;if(!s.startTime)return;const i=new Date(s.startTime).getTime();return new Date().getTime()-i}catch(r){console.error("[ToolResponseHandler] 计算工具执行时长失败:",r);return}}async cleanupToolExecution(e){try{console.log(`[ToolResponseHandler] 清理工具执行: toolId: ${e}`)}catch(r){console.error("[ToolResponseHandler] 清理工具执行失败:",r)}}async handleToolComplete(e){try{if(console.log(`[ToolResponseHandler] 处理工具完成，工具数量: ${e.responses?.length||0}`),!e.responses||e.responses.length===0)return;for(const r of e.responses)try{const n=this.toolCallIdToBlockIdMap.get(r.id);if(r.status==="done"||r.status==="error"){if(!n){console.error(`[ToolResponseHandler] 未找到工具调用 ${r.id} 对应的工具块ID`);continue}const s=r.status==="done"?qe.SUCCESS:qe.ERROR,i={content:r.response,status:s,metadata:{rawMcpToolResponse:r,endTime:new Date().toISOString(),duration:this.calculateToolDuration(r.id)},updatedAt:new Date().toISOString()};s===qe.ERROR&&(i.error={message:"Tool execution failed/error",details:r.response}),console.log(`[ToolResponseHandler] 更新工具块 ${n} (toolId: ${r.id}) 状态为 ${s}`),He.dispatch(Or({id:n,changes:i})),await De.updateMessageBlock(n,i),to.completeTool(r.id,s===qe.SUCCESS),await this.cleanupToolExecution(r.id)}else console.warn(`[ToolResponseHandler] 收到未处理的工具状态: ${r.status} for ID: ${r.id}`)}catch(n){console.error(`[ToolResponseHandler] 处理单个工具完成失败 (toolId: ${r.id}):`,n),to.completeTool(r.id,!1),await this.handleSingleToolError(r.id,n)}}catch(r){console.error("[ToolResponseHandler] 处理工具完成事件失败:",r)}}async handleChunk(e){try{switch(e.type){case sr.MCP_TOOL_IN_PROGRESS:console.log("[ToolResponseHandler] 处理工具调用进行中事件"),await this.handleToolProgress(e);break;case sr.MCP_TOOL_COMPLETE:console.log("[ToolResponseHandler] 处理工具调用完成事件"),await this.handleToolComplete(e);break;default:break}}catch(r){throw console.error("[ToolResponseHandler] 处理 chunk 事件失败:",r),r}}get toolMapping(){return this.toolCallIdToBlockIdMap}}function XE(t,e){return{id:er(),messageId:e,type:tt.MULTI_MODEL,subType:"comparison",status:qe.SUCCESS,comboResult:t,isSelectionPending:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function YE(t){try{return JSON.parse(t)}catch(e){return console.error("[modelComparisonUtils] 解析对比结果失败:",e),null}}function JE(t,e){return{id:er(),messageId:e,type:tt.MAIN_TEXT,status:qe.SUCCESS,content:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}async function ZE(t,e,r){try{const n=He.getState(),s=Up.selectAll(n),i=s.find(c=>c.messageId===t&&"subType"in c&&c.subType==="comparison");if(!i){console.error("[modelComparisonUtils] 找不到对比块");return}const a={...i,selectedModelId:e,selectedContent:r,isSelectionPending:!1};He.dispatch(Or({id:i.id,changes:a})),await De.updateMessageBlock(i.id,a);const o=JE(r,t);He.dispatch(ei(o)),await De.saveMessageBlock(o);const A=He.getState().messages.entities[t];if(A){const c=[...A.blocks||[],o.id];He.dispatch(Ge.updateMessage({id:t,changes:{blocks:c}})),await De.updateMessage(t,{blocks:c}),console.log(`[modelComparisonUtils] 已更新消息 ${t} 的blocks数组: [${c.join(", ")}]`)}else console.error(`[modelComparisonUtils] 找不到消息: ${t}`);const u=s.filter(c=>c.messageId===t&&c.type===tt.UNKNOWN&&c.status===qe.PROCESSING);for(const c of u)He.dispatch(Or({id:c.id,changes:{status:qe.SUCCESS,updatedAt:new Date().toISOString()}})),await De.updateMessageBlock(c.id,{status:qe.SUCCESS,updatedAt:new Date().toISOString()}),console.log(`[modelComparisonUtils] 已更新占位符块状态: ${c.id}`);He.dispatch(Ge.updateMessage({id:t,changes:{status:Bt.SUCCESS,updatedAt:new Date().toISOString()}}));const l=await De.getMessage(t);if(l){const c=l.topicId;He.dispatch(Ge.setTopicStreaming({topicId:c,streaming:!1})),He.dispatch(Ge.setTopicLoading({topicId:c,loading:!1})),console.log(`[modelComparisonUtils] 已重置话题 ${c} 的流式状态和加载状态`)}await De.transaction("rw",[De.messages,De.topics],async()=>{const c=await De.getMessage(t);if(!c){console.error(`[modelComparisonUtils] 找不到消息: ${t}`);return}let f=c.versions||[];f.length>0&&(f=f.map(g=>g.isActive?{...g,metadata:{...g.metadata,content:r,selectedFromComparison:!0}}:g),console.log(`[modelComparisonUtils] 已更新活跃版本的metadata，内容长度: ${r.length}`)),await De.updateMessage(t,{status:Bt.SUCCESS,updatedAt:new Date().toISOString(),versions:f});const m=await De.topics.get(c.topicId);if(m&&m.messages){const g=m.messages.findIndex(b=>b.id===t);if(g>=0){const b=m.messages[g],w=He.getState().messages.entities[t]?.blocks||[],B={...b,status:Bt.SUCCESS,updatedAt:new Date().toISOString(),content:r,versions:f,blocks:w};m.messages[g]=B,await De.topics.put(m),console.log(`[modelComparisonUtils] 已更新话题中的消息状态和内容，内容长度: ${r.length}，blocks: [${w.join(", ")}]`)}}}),console.log(`[modelComparisonUtils] 用户选择了模型 ${e} 的回答，已完整保存到数据库和消息历史`)}catch(n){console.error("[modelComparisonUtils] 处理用户选择失败:",n)}}class e9{messageId;constructor(e){this.messageId=e}async handleComparisonResult(e){try{console.log(`[ComparisonResultHandler] 处理对比结果，数据长度: ${e.length}`);const r=YE(e);if(!r){console.error("[ComparisonResultHandler] 解析对比结果失败");return}console.log(`[ComparisonResultHandler] 成功解析对比结果，模型数量: ${r.modelResults.length}`);const n=XE(r,this.messageId);He.dispatch(ei(n)),await De.saveMessageBlock(n);const s=He.getState().messages.entities[this.messageId];if(s){const i=[...s.blocks||[],n.id];He.dispatch(Ge.updateMessage({id:this.messageId,changes:{blocks:i}})),await De.updateMessage(this.messageId,{blocks:i}),console.log(`[ComparisonResultHandler] 已更新消息 ${this.messageId} 的blocks数组: [${i.join(", ")}]`)}else console.error(`[ComparisonResultHandler] 找不到消息: ${this.messageId}`);console.log(`[ComparisonResultHandler] 对比块创建完成: ${n.id}`),He.dispatch(Ge.updateMessage({id:this.messageId,changes:{status:Bt.SUCCESS,updatedAt:new Date().toISOString()}}))}catch(r){console.error("[ComparisonResultHandler] 处理对比结果失败:",r)}}isComparisonResult(e,r){return e==="__COMPARISON_RESULT__"&&!!r}}class t9{messageId;constructor(e){this.messageId=e}async handleKnowledgeSearchComplete(e){try{console.log(`[KnowledgeSearchHandler] 处理知识库搜索完成，创建综合引用块，包含 ${e.searchResults.length} 个结果`);const r=e.searchResults.map((i,a)=>`[${a+1}] ${i.content} (相似度: ${(i.similarity*100).toFixed(1)}%)`).join(`

`),n=g8(this.messageId,r,e.knowledgeBaseId,{searchQuery:e.searchQuery,source:e.knowledgeBaseName,metadata:{isCombined:!0,resultCount:e.searchResults.length,results:e.searchResults.map((i,a)=>({index:a+1,content:i.content,similarity:i.similarity,documentId:i.documentId}))}});console.log(`[KnowledgeSearchHandler] 创建综合知识库引用块: ${n.id}`),He.dispatch(ei(n)),await De.saveMessageBlock(n);const s=He.getState().messages.entities[this.messageId];if(s){const i=[n.id,...s.blocks||[]];He.dispatch(Ge.updateMessage({id:this.messageId,changes:{blocks:i}})),await De.updateMessage(this.messageId,{blocks:i}),console.log(`[KnowledgeSearchHandler] 知识库引用块已添加到消息顶部: ${n.id}`)}console.log(`[KnowledgeSearchHandler] 综合知识库引用块创建完成，包含 ${e.searchResults.length} 个结果`)}catch(r){console.error("[KnowledgeSearchHandler] 处理知识库搜索完成事件失败:",r)}}}const L5=["\\",'"'],H5=[...L5,"(",")"],r9=new Set(L5.map(t=>t.charCodeAt(0))),Rm=new Set(H5.map(t=>t.charCodeAt(0))),Za=new Set([...H5,"~","^","$","*","+","!","|",":","[","]"," ","."].map(t=>t.charCodeAt(0)));function P5(t){return t.map(e=>e.map(n9).join("")).join(", ")}function n9(t,e,r){switch(t.type){case yn.Child:return e===0?"> ":" > ";case yn.Parent:return e===0?"< ":" < ";case yn.Sibling:return e===0?"~ ":" ~ ";case yn.Adjacent:return e===0?"+ ":" + ";case yn.Descendant:return" ";case yn.ColumnCombinator:return e===0?"|| ":" || ";case yn.Universal:return t.namespace==="*"&&e+1<r.length&&"name"in r[e+1]?"":`${j5(t.namespace)}*`;case yn.Tag:return Om(t);case yn.PseudoElement:return`::${qs(t.name,Za)}${t.data===null?"":`(${qs(t.data,Rm)})`}`;case yn.Pseudo:return`:${qs(t.name,Za)}${t.data===null?"":`(${typeof t.data=="string"?qs(t.data,Rm):P5(t.data)})`}`;case yn.Attribute:{if(t.name==="id"&&t.action===Cn.Equals&&t.ignoreCase==="quirks"&&!t.namespace)return`#${qs(t.value,Za)}`;if(t.name==="class"&&t.action===Cn.Element&&t.ignoreCase==="quirks"&&!t.namespace)return`.${qs(t.value,Za)}`;const n=Om(t);return t.action===Cn.Exists?`[${n}]`:`[${n}${s9(t.action)}="${qs(t.value,r9)}"${t.ignoreCase===null?"":t.ignoreCase?" i":" s"}]`}}}function s9(t){switch(t){case Cn.Equals:return"";case Cn.Element:return"~";case Cn.Start:return"^";case Cn.End:return"$";case Cn.Any:return"*";case Cn.Not:return"!";case Cn.Hyphen:return"|";case Cn.Exists:throw new Error("Shouldn't be here")}}function Om(t){return`${j5(t.namespace)}${qs(t.name,Za)}`}function j5(t){return t!==null?`${t==="*"?"*":qs(t,Za)}|`:""}function qs(t,e){let r=0,n="";for(let s=0;s<t.length;s++)e.has(t.charCodeAt(s))&&(n+=`${t.slice(r,s)}\\${t.charAt(s)}`,r=s+1);return n.length>0?n+t.slice(r):t}const i9=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return Cn},IgnoreCaseMode:m8,get SelectorType(){return yn},isTraversal:b8,parse:w8,stringify:P5},Symbol.toStringTag,{value:"Module"}));class Vf{static shouldNameTopic(e){const r=He.getState().settings.enableTopicNaming;if(!r)return console.log("话题命名功能已禁用"),!1;if(e.isNameManuallyEdited)return console.log("话题已被手动编辑，跳过自动命名"),!1;const n=e.messages||[],s=n.filter(u=>u.role==="user"),i=n.filter(u=>u.role!=="assistant"?!1:!u.status||u.status==="success"),a=e.name||e.title||"";console.log(`话题命名检查 [${e.id}]: 启用=${r}, 手动编辑=${e.isNameManuallyEdited}, 有效消息数=${s.length}/${i.length}, 话题名="${a}"`);const o=a.includes("新话题")||a.includes("New Topic")||a.includes("新的对话")||a.includes("新对话")||a===""||a.trim()==="",A=s.length>=1&&i.length>=1;return o&&A}static async generateTopicName(e,r,n=!1){try{if(!n){const c=`topic_naming_${e.id}`;if(await U3(c))return console.log("该话题已经完成自动命名，跳过"),null}const s=e.messages||[];if(s.length<2)return console.log("消息数量不足，无法生成有意义的标题"),null;const i=[];for(const c of s){if(c.role!=="user"&&c.role!=="assistant")continue;let f="";try{f=_n(c)}catch(m){console.warn("从块系统获取内容失败:",m)}if(!f||f.trim().length===0)try{const g=(await De.getMessageBlocksByMessageId(c.id)).find(b=>b.type==="main_text");g&&"content"in g&&(f=g.content)}catch(m){console.warn("从数据库获取块内容失败:",m)}if((!f||f.trim().length===0)&&typeof c.content=="string"&&(f=c.content),f&&f.trim().length>0&&i.push({...c,extractedContent:f}),i.length>=6)break}if(i.length<2)return console.log("有效消息数量不足，无法生成有意义的标题"),null;const a=i.map(c=>{const m=c.extractedContent.slice(0,150);return`${c.role==="user"?"用户":"AI"}: ${m}`}).join(`
`);console.log("话题命名内容摘要:",a.substring(0,300)+"...");const A=He.getState().settings.topicNamingPrompt||"你是一个话题生成专家。根据对话内容生成一个简洁、精确、具有描述性的标题。标题应简洁，不超过10个字。你只需要返回标题文本，不需要解释或扩展。",u=r||He.getState().settings.topicNamingModelId||He.getState().settings.defaultModelId||"gpt-3.5-turbo";console.log(`正在使用模型 ${u} 为话题生成标题...`);const l=await y8({messages:[{role:"system",content:A},{role:"user",content:`以下是一些对话内容，请为这个话题生成一个标题：

${a}`}],modelId:u});if(l.success&&l.content){let c=l.content.trim();c.startsWith('"')&&c.endsWith('"')&&(c=c.slice(1,-1).trim());const f=e.name||e.title||"";if(c&&c!==f&&c.length>0){console.log(`生成新标题: "${c}"`);const m={...e,name:c,title:c,isNameManuallyEdited:!n};try{if(await x8(m),!n){const g=`topic_naming_${e.id}`;await M3(g,!0)}return c}catch(g){return console.error("更新数据库中的话题失败:",g),null}}else return console.log("生成的话题标题无效或与旧标题相同，保持旧标题"),null}else return console.error("生成话题标题失败:",l.error),null}catch(s){return console.error("在生成话题标题时发生错误:",s),null}}}class a9{messageId;blockId;topicId;constructor(e,r,n){this.messageId=e,this.blockId=r,this.topicId=n}async complete(e,r){if(console.log(`[ResponseCompletionHandler] 完成处理 - finalContent长度: ${e?.length||0}, accumulatedContent长度: ${r.content.length}`),this.isComparisonResult(e,r))return r.content;await this.waitForToolsCompletion();const n=this.resolveAccumulatedContent(e,r);return await this.handleNewBlockCreation(e,r),await this.finalizeResponse(n,r,!1)}async completeWithInterruption(e){console.log(`[ResponseCompletionHandler] 响应被中断 - 消息ID: ${this.messageId}`);try{const r=this.createInterruptedContent(e.content),n={interrupted:!0,interruptedAt:new Date().toISOString()};return await this.handleInterruptedCompletion(r,n),r}catch(r){return console.error("[ResponseCompletionHandler] 中断处理失败:",r),await this.complete(e.content,e)}}async handleInterruptedCompletion(e,r){const n=r.interruptedAt;this.updateSingleBlock(this.blockId,e,n,void 0,r),this.updateStates(n,r),await this.saveInterruptedState(e,r),this.emitEvents(e,!0),this.cleanupToolTracker()}async finalizeResponse(e,r,n=!1,s){const i=new Date().toISOString();return n||this.updateAllBlockStates(r,e,i),this.updateStates(i,s),this.emitEvents(e,n),n||(await this.batchSaveToDatabase(r,e,i),this.triggerTopicNaming()),this.cleanupToolTracker(),e}async batchSaveToDatabase(e,r,n){try{const s=this.calculateFinalBlockIds(e);await this.updateBlocksInDatabase(e,r,n),await this.updateMessageAndTopicReferences(s,n),console.log("[ResponseCompletionHandler] 批量数据库操作完成")}catch(s){throw console.error("[ResponseCompletionHandler] 批量数据库操作失败:",s),s}}async updateBlocksInDatabase(e,r,n){const s=[];e.blockType===tt.THINKING?s.push(De.updateMessageBlock(this.blockId,{type:tt.THINKING,content:e.thinking,status:qe.SUCCESS,updatedAt:n})):s.push(De.updateMessageBlock(this.blockId,{type:tt.MAIN_TEXT,content:r,status:qe.SUCCESS,updatedAt:n})),e.textBlockId&&e.textBlockId!==this.blockId&&s.push(De.updateMessageBlock(e.textBlockId,{type:tt.MAIN_TEXT,content:r,status:qe.SUCCESS,updatedAt:n})),await Promise.all(s)}isComparisonResult(e,r){return e==="__COMPARISON_RESULT__"||r.content==="__COMPARISON_RESULT__"?(console.log("[ResponseCompletionHandler] 检测到对比结果，跳过常规完成处理"),!0):!1}async waitForToolsCompletion(){try{console.log("[ResponseCompletionHandler] 等待所有工具执行完成..."),await to.waitForAllToolsComplete(6e4),console.log("[ResponseCompletionHandler] 所有工具执行完成")}catch(e){console.warn("[ResponseCompletionHandler] 等待工具完成超时:",e)}}resolveAccumulatedContent(e,r){let n=r.content;return!n.trim()&&e?(n=e,console.log("[ResponseCompletionHandler] 使用 finalContent 作为最终内容")):console.log("[ResponseCompletionHandler] 保持 accumulatedContent 作为最终内容"),this.logToolUsage(n),n}logToolUsage(e){try{Q3(e)&&console.log("[ResponseCompletionHandler] 内容包含工具标签，将在原位置渲染工具块")}catch(r){console.error("[ResponseCompletionHandler] 检查工具标签失败:",r)}}async handleNewBlockCreation(e,r){if(e&&e.trim()&&!r.textBlockId){console.log("[ResponseCompletionHandler] 创建新的主文本块");const n={id:er(),messageId:this.messageId,type:tt.MAIN_TEXT,content:e,createdAt:new Date().toISOString(),status:qe.SUCCESS};He.dispatch(ei(n)),await De.saveMessageBlock(n),He.dispatch(Ge.upsertBlockReference({messageId:this.messageId,blockId:n.id,status:qe.SUCCESS})),r.textBlockId=n.id}}createInterruptedContent(e){return e.trim()?e+`

---

> ⚠️ **此回复已被用户中断**
> 
> 以上内容为中断前已生成的部分内容。`:`> ⚠️ **回复已被中断，未生成任何内容**
> 
> 请重新发送消息以获取完整回复。`}async saveInterruptedState(e,r){await Promise.all([De.updateMessageBlock(this.blockId,{content:e,status:qe.SUCCESS,updatedAt:r.interruptedAt,metadata:r}),De.updateMessage(this.messageId,{status:qe.SUCCESS,updatedAt:r.interruptedAt,metadata:r})])}updateSingleBlock(e,r,n,s,i){const a={content:r,status:qe.SUCCESS,updatedAt:n};s&&(a.type=s),i&&(a.metadata={...He.getState().messageBlocks.entities[e]?.metadata,...i}),console.log(`[ResponseCompletionHandler] 更新块 ${e} 状态为 SUCCESS`),He.dispatch(Or({id:e,changes:a}))}updateAllBlockStates(e,r,n){switch(console.log(`[ResponseCompletionHandler] 更新块状态 - blockType: ${e.blockType}, blockId: ${this.blockId}, textBlockId: ${e.textBlockId}`),e.blockType){case tt.MAIN_TEXT:this.updateSingleBlock(this.blockId,r,n,tt.MAIN_TEXT);break;case tt.THINKING:this.updateSingleBlock(this.blockId,e.thinking,n,tt.THINKING),e.textBlockId&&e.textBlockId!==this.blockId&&this.updateSingleBlock(e.textBlockId,r,n,tt.MAIN_TEXT);break;default:this.updateSingleBlock(this.blockId,r,n,tt.MAIN_TEXT);break}if(e.thinkingId&&e.thinkingId!==this.blockId){const s=He.getState().messageBlocks.entities[e.thinkingId];s&&s.type===tt.THINKING&&(this.updateSingleBlock(e.thinkingId,s.content||"",n,tt.THINKING),console.log(`[ResponseCompletionHandler] 更新额外思考块 ${e.thinkingId}`))}}updateStates(e,r){const n={status:Bt.SUCCESS,updatedAt:e};r&&(n.metadata=r),He.dispatch(Ge.updateMessage({id:this.messageId,changes:n})),He.dispatch(Ge.setTopicStreaming({topicId:this.topicId,streaming:!1})),He.dispatch(Ge.setTopicLoading({topicId:this.topicId,loading:!1}))}emitEvents(e,r=!1){const n={messageId:this.messageId,blockId:this.blockId,topicId:this.topicId};lr.emit(hn.STREAM_TEXT_COMPLETE,{text:e,...n,...r&&{interrupted:!0}}),lr.emit(hn.MESSAGE_COMPLETE,{id:this.messageId,topicId:this.topicId,status:"success",...r&&{interrupted:!0}})}calculateFinalBlockIds(e){const n=He.getState().messages.entities[this.messageId]?.blocks||[];let s=[];if(e.textBlockId&&e.textBlockId!==this.blockId){for(const i of n)i===this.blockId?e.blockType===tt.THINKING?(this.addUniqueBlockId(s,this.blockId),this.addUniqueBlockId(s,e.textBlockId)):this.addUniqueBlockId(s,e.textBlockId):this.addUniqueBlockId(s,i);this.addUniqueBlockId(s,e.textBlockId)}else s=[...n],this.addUniqueBlockId(s,this.blockId);return console.log(`[ResponseCompletionHandler] 计算得出的最终块ID: [${s.join(", ")}]`),s}async updateMessageAndTopicReferences(e,r){await De.updateMessage(this.messageId,{status:Bt.SUCCESS,updatedAt:r,blocks:e});const n=await De.topics.get(this.topicId);if(n){n.messages||(n.messages=[]);const s=He.getState().messages.entities[this.messageId];if(s){const i={...s,blocks:e,status:Bt.SUCCESS,updatedAt:r},a=n.messages.findIndex(o=>o.id===this.messageId);a>=0?n.messages[a]=i:n.messages.push(i),await De.topics.put(n)}}He.dispatch(Ge.updateMessage({id:this.messageId,changes:{blocks:e,status:Bt.SUCCESS,updatedAt:r}}))}addUniqueBlockId(e,r){e.includes(r)||e.push(r)}cleanupToolTracker(){try{to.cleanup(),console.log("[ResponseCompletionHandler] 工具跟踪器清理完成")}catch(e){console.error("[ResponseCompletionHandler] 工具跟踪器清理失败:",e)}}triggerTopicNaming(){try{setTimeout(async()=>{const e=await De.topics.get(this.topicId);if(e&&Vf.shouldNameTopic(e)){console.log(`[ResponseCompletionHandler] 触发话题自动命名: ${this.topicId}`);const r=await Vf.generateTopicName(e);r&&console.log(`[ResponseCompletionHandler] 话题自动命名成功: ${r}`)}},1e3)}catch(e){console.error("[ResponseCompletionHandler] 话题自动命名失败:",e)}}}function o9(t={}){return e=>{try{if(e.type===sr.BLOCK_COMPLETE){t.onComplete?.(Bt.SUCCESS,e.response);return}if(e.type===sr.ERROR){t.onError?.(e.error);return}if(e.type===sr.TEXT_DELTA&&t.onTextChunk&&t.onTextChunk(e.text),e.type===sr.TEXT_COMPLETE&&t.onTextComplete&&t.onTextComplete(e.text),e.type===sr.THINKING_DELTA&&t.onThinkingChunk){const r=e;t.onThinkingChunk(r.text,r.thinking_millsec)}if(e.type===sr.THINKING_COMPLETE&&t.onThinkingComplete){const r=e;t.onThinkingComplete(r.text,r.thinking_millsec)}}catch(r){console.error("处理流数据块时出错:",r),t.onError?.(r)}}}function A9(t){const e=(t?.message||"").toLowerCase(),r=t?.status||t?.code;return r===403||r===401?!0:["api key","api_key","permission denied","suspended","invalid key","unauthorized","authentication failed","token","密钥","认证失败","权限","暂停"].some(s=>e.includes(s))}function u9(t){const e=(t?.message||"").toLowerCase(),r=t?.status||t?.code;return r===403?e.includes("suspended")?"API Key 已被暂停，请检查您的账户状态或更换 API Key":"API Key 权限不足，请检查 API Key 是否有效":r===401?"API Key 认证失败，请检查 API Key 是否正确":e.includes("suspended")?"API Key 已被暂停，请联系服务提供商或更换 API Key":e.includes("invalid")?"API Key 无效，请检查 API Key 格式是否正确":"API Key 存在问题，请检查配置或联系技术支持"}async function l9(t,e,r){if(!A9(t))return!1;console.log("[ApiKeyErrorHandler] 检测到 API Key 错误:",t);const n=u9(t);return zr.emit(ps.API_KEY_ERROR,{error:t,messageId:e,topicId:r,userMessage:n,canRetry:!0,showRetryButton:!0,showConfigButton:!0}),!1}class c9{messageId;blockId;topicId;constructor(e,r,n){this.messageId=e,this.blockId=r,this.topicId=n}async fail(e){console.error(`[ResponseErrorHandler] 响应失败 - 消息ID: ${this.messageId}, 错误: ${e.message}`),await l9(e,this.messageId,this.topicId);const r=e.message||"响应处理失败",n=v8(e),s=B8(e),i={message:r,timestamp:new Date().toISOString(),code:e.name||"ERROR",type:n},a={message:r,code:e.name||"ERROR",type:n,timestamp:new Date().toISOString(),details:s,context:{messageId:this.messageId,blockId:this.blockId,topicId:this.topicId}},o={type:sr.ERROR,error:{message:r,details:s,type:n}};o9({onError:u=>{He.dispatch(Ge.updateMessage({id:this.messageId,changes:{status:Bt.ERROR}})),He.dispatch(Ge.setTopicStreaming({topicId:this.topicId,streaming:!1})),He.dispatch(Ge.setTopicLoading({topicId:this.topicId,loading:!1})),He.dispatch(Ge.setError({error:a,topicId:this.topicId})),He.dispatch(Or({id:this.blockId,changes:{type:tt.ERROR,status:qe.ERROR,content:r,error:i,message:r,details:s}}))}})(o),lr.emit(hn.STREAM_ERROR,{error:a,messageId:this.messageId,blockId:this.blockId,topicId:this.topicId}),await Promise.all([De.updateMessageBlock(this.blockId,{type:tt.ERROR,status:qe.ERROR,content:r,error:i,message:r,details:s}),De.updateMessage(this.messageId,{status:Bt.ERROR})]),lr.emit(hn.MESSAGE_COMPLETE,{id:this.messageId,topicId:this.topicId,status:"error",error:r});try{to.reset(),console.log("[ResponseErrorHandler] 工具跟踪器重置完成（错误处理）")}catch(u){console.error("[ResponseErrorHandler] 工具跟踪器重置失败:",u)}throw e}}const z5="highPerformanceStreaming";function K5(){try{const t=localStorage.getItem(z5);return t!==null?JSON.parse(t):!0}catch(t){return console.error("[performanceSettings] 获取高性能流式输出设置失败:",t),!0}}function d9(t){try{localStorage.setItem(z5,JSON.stringify(t)),console.log(`[performanceSettings] 高性能流式输出设置已更新: ${t}`)}catch(e){console.error("[performanceSettings] 保存高性能流式输出设置失败:",e)}}function q5(t){return t?K5():!1}function V5(){try{const t=localStorage.getItem("highPerformanceThrottleLevel");return t||"medium"}catch(t){return console.error("[performanceSettings] 获取节流强度失败:",t),"medium"}}function h9(t){try{localStorage.setItem("highPerformanceThrottleLevel",t),console.log(`[performanceSettings] 节流强度已更新: ${t}`)}catch(e){console.error("[performanceSettings] 保存节流强度失败:",e)}}function ag(){switch(V5()){case"light":return 200;case"medium":return 500;case"heavy":return 800;case"extreme":return 1200;default:return 500}}function f9(){try{const t=localStorage.getItem("highPerformanceRenderMode");return t||"virtual"}catch(t){return console.error("[performanceSettings] 获取渲染模式失败:",t),"virtual"}}function p9({messageId:t,blockId:e,topicId:r}){const n=GE(t,e,He,De,{updateOneBlock:Or,addOneBlock:ei,upsertBlockReference:Ge.upsertBlockReference},ag()),s=new $E(t),i=new e9(t),a=new t9(t),o=new a9(t,e,r),A=new c9(t,e,r);let u=[];const l=()=>(console.log("[ResponseHandler] 设置知识库搜索事件监听器"),u=[lr.on(hn.KNOWLEDGE_SEARCH_COMPLETED,async m=>{m.messageId===t&&(console.log(`[ResponseHandler] 处理知识库搜索完成事件，结果数量: ${m.searchResults?.length||0}`),await a.handleKnowledgeSearchComplete(m))})],()=>{u.forEach(m=>m())}),c={async handleChunk(f){try{switch(f.type){case sr.THINKING_DELTA:case sr.THINKING_COMPLETE:case sr.TEXT_DELTA:case sr.TEXT_COMPLETE:await n.handleChunk(f);break;case sr.MCP_TOOL_IN_PROGRESS:case sr.MCP_TOOL_COMPLETE:await s.handleChunk(f);break;default:console.log(`[ResponseHandler] 忽略未处理的 chunk 类型: ${f.type}`);break}}catch(m){throw console.error("[ResponseHandler] 处理 chunk 事件失败:",m),m}},async handleStringContent(f,m){if(He.getState().messages.entities[t]?.status===Bt.SUCCESS)return console.log("[ResponseHandler] 消息已完成，停止处理"),n.content;if(i.isComparisonResult(f,m))return console.log("[ResponseHandler] 检测到对比结果"),i.handleComparisonResult(m),n.content;try{if(m?.trim()){const v={type:sr.THINKING_DELTA,text:m,thinking_millsec:0};await this.handleChunk(v)}else{let v=f;try{const B=JSON.parse(f);if(B?.reasoning){const C={type:sr.THINKING_DELTA,text:B.reasoning,thinking_millsec:B.reasoningTime||0};return await this.handleChunk(C),n.content}v=B?.text||f}catch{}const w={type:sr.TEXT_DELTA,text:v};await this.handleChunk(w)}}catch(v){throw console.error("[ResponseHandler] 处理字符串内容失败:",v),v}return n.content},async complete(f){return await o.complete(f,n)},async completeWithInterruption(){return await o.completeWithInterruption(n)},async fail(f){return await A.fail(f)},getStatus(){return{textContent:n.content,thinkingContent:n.thinking,textBlockId:n.textBlockId,thinkingBlockId:n.thinkingId}},cleanup:()=>{u.forEach(f=>f())}};return l(),c}class g9{model;constructor(e){this.model=e,console.log(`[ModelComboProvider] 初始化模型组合提供商: ${e.id}`)}async sendChatMessage(e,r){try{console.log(`[ModelComboProvider] 开始处理模型组合请求: ${this.model.id}`);const n=this.model.comboConfig;if(!n)throw new Error(`模型组合 ${this.model.id} 的配置信息不存在`);return console.log(`[ModelComboProvider] 传递完整消息历史，消息数量: ${e.length}`),console.log(`[ModelComboProvider] 组合策略: ${n.strategy}`),n.strategy==="comparison"?await this.executeComparisonStrategy(n,e,r):await this.executeComboWithStreaming(n,e,r)}catch(n){throw console.error("[ModelComboProvider] 模型组合请求失败:",n),new Error(`模型组合执行失败: ${n instanceof Error?n.message:String(n)}`)}}async executeComparisonStrategy(e,r,n){const s=Date.now();console.log(`[ModelComboProvider] 执行对比策略，模型数量: ${e.models.length}`);const i=[],a=e.models.map(async c=>{try{console.log(`[ModelComboProvider] 调用模型: ${c.modelId}`);const f=await this.getModelById(c.modelId);if(!f)throw new Error(`找不到模型: ${c.modelId}`);const g=await yA.get(f).sendChatMessage(r,{onUpdate:(w,B)=>{console.log(`[ModelComboProvider] 模型 ${c.modelId} 更新: ${w.length} 字符${B?", 推理: "+B.length+" 字符":""}`)}});let b="",v="";return typeof g=="string"?b=g:g&&typeof g=="object"&&(b=g.content||"",v=g.reasoning||""),{modelId:c.modelId,role:c.role||"assistant",content:b,reasoning:v,confidence:.8,cost:0,latency:Date.now()-s,status:"success"}}catch(f){return console.error(`[ModelComboProvider] 模型 ${c.modelId} 调用失败:`,f),{modelId:c.modelId,role:c.role||"assistant",content:`模型调用失败: ${f instanceof Error?f.message:"未知错误"}`,cost:0,latency:Date.now()-s,status:"error",error:f instanceof Error?f.message:"未知错误"}}}),o=await Promise.all(a);i.push(...o);const A=Date.now()-s,u=o.filter(c=>c.status==="success"),l={comboId:this.model.id,strategy:"comparison",modelResults:o,finalResult:{content:"",confidence:0,explanation:"请从多个模型的回答中选择最佳答案"},stats:{totalCost:o.reduce((c,f)=>c+(f.cost||0),0),totalLatency:A,modelsUsed:u.length,strategy:"comparison"},timestamp:new Date().toISOString(),comparisonData:{allResults:o,selectedResult:null,userSelection:!1}};return console.log(`[ModelComboProvider] 对比策略完成，成功模型: ${u.length}/${o.length}`),n?.onUpdate&&n.onUpdate("__COMPARISON_RESULT__",JSON.stringify(l)),{content:"__COMPARISON_RESULT__",reasoning:JSON.stringify(l),reasoningTime:A,comboResult:l}}async executeComboWithStreaming(e,r,n){const s=Date.now(),i=[...e.models].sort((l,c)=>(l.priority||0)-(c.priority||0));if(i.length<2)throw new Error("顺序策略需要至少2个模型");const a=i[0],o=i[1];let A="",u="";try{console.log(`[ModelComboProvider] 第一阶段：调用推理模型 ${a.modelId}`);const l=r,c=await this.getModelById(a.modelId);if(!c)throw new Error(`找不到推理模型: ${a.modelId}`);const f=yA.get(c),m=[];A=await new Promise((D,_)=>{f.sendChatMessage(l,{onUpdate:(L,I)=>{if(I&&(m.push(I),console.log(`[ModelComboProvider] 收到推理片段，长度: ${I.length}`),n?.onUpdate&&n.onUpdate("",I)),L&&!I){console.log(`[ModelComboProvider] 推理阶段结束，收到内容: ${L.length} 字符`),console.log(L==="[REASONING_COMPLETE]"?"[ModelComboProvider] 收到推理完成信号":`[ModelComboProvider] 收到实际内容: ${L.substring(0,50)}...`);const G=m.join("");console.log(`[ModelComboProvider] 推理完成，总长度: ${G.length}`),D(G)}}}).catch(_)}),console.log(`[ModelComboProvider] 推理阶段完成，推理内容长度: ${A.length}`),console.log(`[ModelComboProvider] 第二阶段：调用生成模型 ${o.modelId}`);const v=JSON.parse(JSON.stringify(r)),w=`
******以上是用户信息*****
以下是另一个模型的推理过程：****
${A}

****
基于以上推理过程，结合你的知识，当推理过程与你的知识冲突时，你可以采用自己的知识，这是完全可以接受的。请直接为用户提供完整的答案。你不需要重复请求或进行自己的推理。请务必完整回复：`;let B=!1;for(let D=v.length-1;D>=0;D--)if(v[D].role==="user"){const _=_n(v[D]);console.log(`[ModelComboProvider] 找到最后一个用户消息，原始内容: ${_.substring(0,50)}...`);const L=`这是我的原始输入：
${_}

${w}`;console.log(`[ModelComboProvider] 修改后的内容长度: ${L.length}`),console.log(`[ModelComboProvider] 修改后的内容预览: ${L.substring(0,200)}...`);const{message:I}=C8({role:"user",content:L,topicId:v[D].topicId,assistantId:v[D].assistantId});I.content=L,v[D]=I,B=!0,console.log(`[ModelComboProvider] 已替换索引 ${D} 的用户消息`);break}B||console.error("[ModelComboProvider] 警告：没有找到用户消息进行修改"),console.log(`[ModelComboProvider] 最终消息数组长度: ${v.length}`),console.log(`[ModelComboProvider] 最后一个消息角色: ${v[v.length-1]?.role}`),console.log(`[ModelComboProvider] 最后一个消息内容预览: ${_n(v[v.length-1]||{}).substring(0,100)}...`);const C=await this.getModelById(o.modelId);if(!C)throw new Error(`找不到生成模型: ${o.modelId}`);const x=yA.get(C);console.log(`[ModelComboProvider] 即将传递给生成模型的消息数量: ${v.length}`),v.forEach((D,_)=>{const L=_n(D);console.log(`[ModelComboProvider] 消息 ${_}: 角色=${D.role}, 内容长度=${L.length}, 内容预览=${L.substring(0,100)}...`)});const E=await x.sendChatMessage(v,{onUpdate:D=>{u=D,console.log(`[ModelComboProvider] 生成更新，长度: ${D.length}`),n?.onUpdate&&n.onUpdate(D)}});return console.log("[ModelComboProvider] 生成模型调用完成，响应类型:",typeof E),!u&&typeof E=="object"&&E.content&&(u=E.content),!u&&typeof E=="string"&&(u=E),console.log(`[ModelComboProvider] 生成阶段完成，最终内容长度: ${u.length}`),{content:u||"模型组合执行完成，但没有生成最终内容",reasoning:A||void 0,reasoningTime:Date.now()-s}}catch(l){throw console.error("[ModelComboProvider] 流式执行失败:",l),l}}async testConnection(){try{console.log(`[ModelComboProvider] 测试模型组合连接: ${this.model.id}`);const e=this.model.comboConfig;return e?!e.models||e.models.length===0?(console.error(`[ModelComboProvider] 模型组合中没有配置任何模型: ${this.model.id}`),!1):(console.log(`[ModelComboProvider] 模型组合连接测试通过: ${this.model.id}`),!0):(console.error(`[ModelComboProvider] 模型组合配置不存在: ${this.model.id}`),!1)}catch(e){return console.error("[ModelComboProvider] 模型组合连接测试失败:",e),!1}}async getModels(){return[]}async getModelById(e){try{const r=He.getState();for(const n of r.settings.providers){const s=n.models.find(i=>i.id===e);if(s)return{...s,apiKey:s.apiKey||n.apiKey,baseUrl:s.baseUrl||n.baseUrl,providerType:s.providerType||n.providerType||n.id}}return console.warn(`[ModelComboProvider] 未找到模型: ${e}`),null}catch(r){return console.error("[ModelComboProvider] 获取模型失败:",r),null}}}class m9{keyManager;constructor(){this.keyManager=DC.getInstance()}async callWithMultiKey(e,r,n,s={}){const{maxRetries:i=3,retryDelay:a=1e3,enableFallback:o=!0,onKeyUsed:A}=s;if(!e.apiKeys||e.apiKeys.length===0)return this.callWithSingleKey(r,n,s);let u="",l=0;for(let c=0;c<i;c++){const f=this.keyManager.selectApiKey(e.apiKeys,e.keyManagement?.strategy||"round_robin");if(!f.key){u=f.reason;break}const m=f.key;try{console.log(`[EnhancedApiProvider] 尝试使用 Key: ${m.name||m.id} (${f.reason})`);const g=await n(m.key),b=this.keyManager.updateKeyStatus(m,!0);return this.updateProviderKey(e,b),this.keyManager.recordKeyUsage(m.id,!0),A?.(m.id,!0),console.log(`[EnhancedApiProvider] API 调用成功，使用 Key: ${m.name||m.id}`),{success:!0,data:g,keyUsed:m.id,retryCount:c}}catch(g){l=c+1,u=g instanceof Error?g.message:String(g),console.error(`[EnhancedApiProvider] API 调用失败 (尝试 ${c+1}/${i}):`,u);const b=this.keyManager.updateKeyStatus(m,!1,u);this.updateProviderKey(e,b),this.keyManager.recordKeyUsage(m.id,!1,u),A?.(m.id,!1,u),c<i-1&&await this.delay(a*(c+1))}}return o&&e.apiKey?(console.log("[EnhancedApiProvider] 多 Key 调用失败，尝试回退到单 Key 模式"),this.callWithSingleKey(r,n,s)):{success:!1,error:`所有 API Key 调用失败。最后错误: ${u}`,retryCount:l}}async callWithSingleKey(e,r,n={}){const{maxRetries:s=3,retryDelay:i=1e3,onKeyUsed:a}=n;if(!e.apiKey)return{success:!1,error:"未配置 API Key"};let o="";for(let A=0;A<s;A++)try{console.log(`[EnhancedApiProvider] 单 Key 模式调用 (尝试 ${A+1}/${s})`);const u=await r(e.apiKey);return a?.("single-key",!0),{success:!0,data:u,keyUsed:"single-key",retryCount:A}}catch(u){o=u instanceof Error?u.message:String(u),console.error(`[EnhancedApiProvider] 单 Key 调用失败 (尝试 ${A+1}/${s}):`,o),a?.("single-key",!1,o),A<s-1&&await this.delay(i*(A+1))}return{success:!1,error:`API 调用失败: ${o}`,retryCount:s}}updateProviderKey(e,r){if(e.apiKeys){const n=e.apiKeys.findIndex(s=>s.id===r.id);if(n!==-1){const s=[...e.apiKeys];s[n]=r;const i={...e,apiKeys:s};this.updateProviderInStore(i)}}}updateProviderInStore(e){try{const r=new CustomEvent("provider-config-update",{detail:{providerId:e.id,updates:{apiKeys:e.apiKeys,keyManagement:e.keyManagement}}});typeof window<"u"&&window.dispatchEvent(r),console.log("[EnhancedApiProvider] 已发出供应商配置更新事件:",e.id)}catch(r){console.error("[EnhancedApiProvider] 更新供应商配置失败:",r)}}delay(e){return new Promise(r=>setTimeout(r,e))}getProviderKeyStats(e){if(!e.apiKeys||e.apiKeys.length===0)return{totalKeys:0,activeKeys:0,errorKeys:0,totalRequests:0,successRate:0};const r=this.keyManager.getKeyStats(e.apiKeys);return{totalKeys:r.total,activeKeys:r.active,errorKeys:r.error,totalRequests:r.totalRequests,successRate:r.successRate}}hasAvailableKeys(e){return!e.apiKeys||e.apiKeys.length===0?!!e.apiKey:e.apiKeys.some(r=>r.isEnabled&&r.status==="active")}getNextAvailableKey(e){return!e.apiKeys||e.apiKeys.length===0?null:this.keyManager.selectApiKey(e.apiKeys,e.keyManagement?.strategy||"round_robin").key}resetKeyErrors(e){e.apiKeys&&e.apiKeys.forEach(r=>{r.status==="error"&&(r.status="active",r.usage.consecutiveFailures=0,r.lastError=void 0,r.updatedAt=Date.now())})}}function b9(t){try{const r=He.getState().settings.providers;return!r||!Array.isArray(r)?null:r.find(s=>s.id===t.provider)||null}catch(e){return console.error("[ApiProvider] 获取供应商配置失败:",e),null}}function w9(t,e,r){return!r?.apiKeys||r.apiKeys.length===0?t:(console.log(`[ApiProvider] 🚀 为 ${e.provider} 创建增强 Provider，支持 ${r.apiKeys.length} 个 Key，策略: ${r.keyManagement?.strategy||"round_robin"}`),{...t,sendChatMessage:async(n,s)=>{const i=new m9,a=async A=>{const u={...e,apiKey:A};let l;switch(Mp(e)){case"anthropic":l=new L3(u);break;case"gemini":l=new N3({id:u.id,name:u.name||"Gemini",apiKey:u.apiKey,apiHost:u.baseUrl||"https://generativelanguage.googleapis.com/v1beta",models:[{id:u.id}]});break;case"openai-aisdk":l=new O3(u);break;default:l=new R3(u);break}return await l.sendChatMessage(n,s)},o=await i.callWithMultiKey(r,e,a,{maxRetries:3,retryDelay:1e3,enableFallback:!0,onKeyUsed:(A,u,l)=>{const c=r.apiKeys?.find(f=>f.id===A)?.name||A;console.log(`[ApiProvider] 🔑 ${c} ${u?"✅ 成功":"❌ 失败"}${l?`: ${l}`:""}`)}});if(!o.success)throw new Error(o.error||"多 Key API 调用失败");return o.data}})}function y9(t){return t.modelTypes&&t.modelTypes.includes("video_gen")||t.videoGeneration||t.capabilities?.videoGeneration?!0:t.id.includes("HunyuanVideo")||t.id.includes("Wan-AI/Wan2.1-T2V")||t.id.includes("Wan-AI/Wan2.1-I2V")||t.id.toLowerCase().includes("video")}function x9(t){return!!(["gpt-4o","gpt-4o-mini","gpt-4o-2024-11-20","gpt-4o-2024-08-06","gpt-4o-mini-2024-07-18","o1-preview","o1-mini"].includes(t.id)||t.useResponsesAPI===!0)}const yA={get(t){if(y9(t))throw console.log(`[ApiProviderRegistry] 检测到视频生成模型: ${t.id}`),new Error(`模型 ${t.name||t.id} 是视频生成模型，不支持聊天对话。请使用专门的视频生成功能。`);const e=b9(t),r=Mp(t);let n;switch(r){case"model-combo":return new g9(t);case"anthropic":n=new L3(t);break;case"gemini":n=new N3({id:t.id,name:t.name||"Gemini",apiKey:t.apiKey,apiHost:t.baseUrl||"https://generativelanguage.googleapis.com/v1beta",models:[{id:t.id}]});break;case"openai-aisdk":n=new O3(t);break;case"openai-response":console.log(`[ApiProvider] 🚀 使用 OpenAI Responses API for ${t.id}`),n=new fm(t);break;case"azure-openai":case"openai":case"deepseek":case"google":case"grok":case"zhipu":case"siliconflow":case"volcengine":default:r==="openai"&&x9(t)?(console.log(`[ApiProvider] 🚀 自动使用 OpenAI Responses API for ${t.id}`),n=new fm(t)):n=new R3(t);break}return w9(n,t,e)},async testConnection(t){return await E8(t)}},v9=async(t,e)=>{try{console.log("[performKnowledgeSearchIfNeeded] 开始检查知识库选择状态...");const r=window.sessionStorage.getItem("selectedKnowledgeBase");if(console.log("[performKnowledgeSearchIfNeeded] sessionStorage数据:",r),!r){console.log("[performKnowledgeSearchIfNeeded] 没有选中知识库，直接返回");return}const n=JSON.parse(r);if(console.log("[performKnowledgeSearchIfNeeded] 解析后的上下文数据:",n),!n.isSelected||!n.searchOnSend){console.log("[performKnowledgeSearchIfNeeded] 不需要搜索，直接返回",{isSelected:n.isSelected,searchOnSend:n.searchOnSend});return}console.log("[performKnowledgeSearchIfNeeded] 检测到知识库选择，开始搜索..."),He.dispatch(Ge.updateMessage({id:e,changes:{status:Bt.SEARCHING}}));const s=await De.getTopicMessages(t);if(!s||s.length===0){console.warn("[performKnowledgeSearchIfNeeded] 无法获取话题消息");return}const i=s.filter(u=>u.role==="user").pop();if(!i){console.warn("[performKnowledgeSearchIfNeeded] 未找到用户消息");return}const a=ma(i);if(!a){console.warn("[performKnowledgeSearchIfNeeded] 用户消息内容为空");return}console.log("[performKnowledgeSearchIfNeeded] 用户消息内容:",a);const A=await H3.getInstance().search({knowledgeBaseId:n.knowledgeBase.id,query:a.trim(),threshold:.6,limit:n.knowledgeBase.documentCount||5,useEnhancedRAG:!0});if(console.log(`[performKnowledgeSearchIfNeeded] 搜索到 ${A.length} 个相关内容`),A.length>0){const u=A.map((c,f)=>({id:f+1,content:c.content,type:"file",similarity:c.similarity,knowledgeBaseId:n.knowledgeBase.id,knowledgeBaseName:n.knowledgeBase.name,sourceUrl:`knowledge://${n.knowledgeBase.id}/${c.documentId||f}`})),l=`knowledge-search-${i.id}`;window.sessionStorage.setItem(l,JSON.stringify(u)),console.log(`[performKnowledgeSearchIfNeeded] 知识库搜索结果已缓存: ${l}`),lr.emit(hn.KNOWLEDGE_SEARCH_COMPLETED,{messageId:e,knowledgeBaseId:n.knowledgeBase.id,knowledgeBaseName:n.knowledgeBase.name,searchQuery:a,searchResults:A,references:u}),console.log(`[performKnowledgeSearchIfNeeded] 已发送知识库搜索完成事件，结果数量: ${A.length}`)}window.sessionStorage.removeItem("selectedKnowledgeBase")}catch(r){console.error("[performKnowledgeSearchIfNeeded] 知识库搜索失败:",r),window.sessionStorage.removeItem("selectedKnowledgeBase")}},B9=async(t,e,r,n)=>{console.log("[prepareMessagesForApi] 开始准备API消息",{topicId:t,assistantMessageId:e,options:n}),console.log("[prepareMessagesForApi] 跳过知识库搜索检查");const i=[...await De.getTopicMessages(t)].sort((b,v)=>{const w=new Date(b.createdAt).getTime(),B=new Date(v.createdAt).getTime();return w-B}),a=i.find(b=>b.id===e);if(!a)throw new Error(`找不到助手消息 ${e}`);const o=new Date(a.createdAt).getTime(),A=await De.getTopic(t),u=A?.assistantId;let l="";if(u){const b=await De.getAssistant(u);b&&(l=b.systemPrompt||"",A&&A.prompt&&A.prompt.trim()&&(l?l=l+`

`+A.prompt:l=A.prompt))}else A&&A.prompt&&A.prompt.trim()&&(l=A.prompt);const c=[];for(const b of i){if(b.id===e||b.role==="system"||new Date(b.createdAt).getTime()>=o)continue;let w=ma(b);if(b.role==="user"){const x=`knowledge-search-${b.id}`,E=window.sessionStorage.getItem(x);if(E&&w)try{const D=JSON.parse(E);if(D&&D.length>0){const _=`\`\`\`json
${JSON.stringify(D,null,2)}
\`\`\``;w=pm.replace("{question}",w).replace("{references}",_),console.log(`[prepareMessagesForApi] 为消息 ${b.id} 应用了知识库上下文，引用数量: ${D.length}`),window.sessionStorage.removeItem(x)}}catch(D){console.error("[prepareMessagesForApi] 解析知识库缓存失败:",D)}else{const D=window.sessionStorage.getItem("selectedKnowledgeBase");if(D&&w)try{const _=JSON.parse(D);if(_.isSelected&&_.searchOnSend){console.log("[prepareMessagesForApi] 检测到选中的知识库但没有缓存结果，进行实时搜索...");const I=await H3.getInstance().search({knowledgeBaseId:_.knowledgeBase.id,query:w.trim(),threshold:.6,limit:_.knowledgeBase.documentCount||5});if(I.length>0){const G=I.map((Q,j)=>({id:j+1,content:Q.content,type:"file",similarity:Q.similarity,knowledgeBaseId:_.knowledgeBase.id,knowledgeBaseName:_.knowledgeBase.name,sourceUrl:`knowledge://${_.knowledgeBase.id}/${Q.documentId}`})),W=`\`\`\`json
${JSON.stringify(G,null,2)}
\`\`\``;w=pm.replace("{question}",w).replace("{references}",W),console.log(`[prepareMessagesForApi] 实时搜索并应用了知识库上下文，引用数量: ${G.length}`)}}}catch(_){console.error("[prepareMessagesForApi] 实时知识库搜索失败:",_)}}}const B=S8(b),C=T8(b);if(B.length===0&&C.length===0)c.push({role:b.role,content:w||""});else{const x=[];x.push({type:"text",text:w||""});for(const E of B)if(E.url)x.push({type:"image_url",image_url:{url:E.url}});else if(E.file&&E.file.base64Data){let D=E.file.base64Data;D&&typeof D=="string"&&D.includes(",")&&(D=D.split(",")[1]),x.push({type:"image_url",image_url:{url:`data:${E.file.mimeType||"image/jpeg"};base64,${D}`}})}for(const E of C)if(E.file){const D=F8(E.file.name||E.file.origin_name||"");if(D===bi.TEXT||D===bi.CODE||D===bi.DOCUMENT)try{const _=await D8(E.file);if(_){const L=E.file.origin_name||E.file.name||"未知文件";x.push({type:"text",text:`${L}
${_}`})}}catch(_){console.error("[prepareMessagesForApi] 读取文件内容失败:",_)}}c.push({role:b.role,content:x})}}const m=He.getState().settings.systemPromptVariables,g=kC(l,m||{});return c.unshift({role:"system",content:g}),console.log(`[prepareMessagesForApi] 准备完成，系统提示词长度: ${g.length}，API消息数量: ${c.length}`),c},og=async(t,e,r,n,s,i)=>{try{let a=null;try{const C=await De.getTopic(n);C?.assistantId&&(a=await De.getAssistant(C.assistantId),console.log("[processAssistantResponse] 获取到助手信息:",{id:a?.id,name:a?.name,temperature:a?.temperature,topP:a?.topP,maxTokens:a?.maxTokens,model:a?.model}))}catch(C){console.error("[processAssistantResponse] 获取助手信息失败:",C)}let o=[];if(i)try{o=await Kl.getAllAvailableTools(),console.log(`[MCP] 获取到 ${o.length} 个可用工具`),o.length>0&&console.log("[MCP] 工具列表:",o.map(C=>C.name||C.id).join(", "))}catch(C){console.error("[MCP] 获取工具失败:",C)}else console.log(`[MCP] 工具未启用 (toolsEnabled=${i})`);const A=await B9(n,r.id,o,{skipKnowledgeSearch:!0}),l=[...await De.getTopicMessages(n)].sort((C,x)=>{const E=new Date(C.createdAt).getTime(),D=new Date(x.createdAt).getTime();return E-D}),c=new Date(r.createdAt).getTime(),f=l.filter(C=>C.id===r.id||C.role==="system"?!1:new Date(C.createdAt).getTime()<c);t(Ge.updateMessage({id:r.id,changes:{status:Bt.PROCESSING}}));const m={id:er(),messageId:r.id,type:tt.UNKNOWN,content:"",createdAt:new Date().toISOString(),status:qe.PROCESSING};console.log(`[sendMessage] 创建占位符块: ${m.id}`),t(ql(m)),await De.saveMessageBlock(m),t(Ge.updateMessage({id:r.id,changes:{blocks:[m.id]}})),await De.transaction("rw",[De.messages,De.topics],async()=>{await De.updateMessage(r.id,{blocks:[m.id]});const C=await De.topics.get(n);if(C&&C.messages){const x=C.messages.findIndex(E=>E.id===r.id);x>=0&&(C.messages[x]={...C.messages[x],blocks:[m.id]},await De.topics.put(C))}});const{abortController:g,cleanup:b}=k8(r.askId,!0),v=p9({messageId:r.id,blockId:m.id,topicId:n});await v9(n,r.id);const w=yA.get(s),B=s.modelTypes&&s.modelTypes.includes("image_gen")||s.imageGeneration||s.capabilities?.imageGeneration||s.modelTypes&&s.modelTypes.includes("image-generation")||s.id.toLowerCase().includes("flux")||s.id.toLowerCase().includes("black-forest")||s.id.toLowerCase().includes("stable-diffusion")||s.id.toLowerCase().includes("sd")||s.id.toLowerCase().includes("dalle")||s.id.toLowerCase().includes("midjourney")||s.id.toLowerCase().includes("grok-2-image")||s.id==="grok-2-image-1212"||s.id==="grok-2-image"||s.id==="grok-2-image-latest"||s.id==="gemini-2.0-flash-exp-image-generation"||s.id==="gemini-2.0-flash-preview-image-generation"||s.id==="gemini-2.0-flash-exp"&&s.imageGeneration;try{let C;if(B){const _=A.filter(G=>G.role==="user").pop();let L="生成一张图片";_?.content&&(typeof _.content=="string"?L=_.content:Array.isArray(_.content)&&(L=_.content.filter(W=>W.type==="text").map(W=>W.text).join(" ")||"生成一张图片"));let I=[];if(s.provider==="google"||s.id.startsWith("gemini-")?(I=await I8(s,{prompt:L,imageSize:"1024x1024",batchSize:1}),v.handleStringContent("Gemini 图像生成完成！")):(I=await _8(s,{prompt:L,imageSize:"1024x1024",batchSize:1}),v.handleStringContent("图像生成完成！")),I&&I.length>0){const G=I[0];let W=G;if(G.startsWith("data:image/"))try{W=`[图片:${await De.saveBase64Image(G,{topicId:n,messageId:r.id,source:"ai_generated",model:s.id})}]`}catch(T){console.error("保存生成的图片失败，使用原始base64:",T)}const Q=U8(r.id,{url:W,mimeType:G.startsWith("data:image/png")?"image/png":G.startsWith("data:image/jpeg")?"image/jpeg":"image/png"});t(ei(Q)),await De.saveMessageBlock(Q),t(Ge.upsertBlockReference({messageId:r.id,blockId:Q.id,status:Q.status}));const j={...r,blocks:[...r.blocks||[],Q.id],updatedAt:new Date().toISOString()};t(Ge.updateMessage({id:r.id,changes:j})),await De.transaction("rw",[De.messages,De.topics],async()=>{await De.updateMessage(r.id,j);const T=await De.topics.get(n);if(T&&T.messages){const V=T.messages.findIndex(J=>J.id===r.id);V>=0&&(T.messages[V]=j,await De.topics.put(T))}}),C="图像生成完成！"}else C="图像生成失败，没有返回有效的图像URL。"}else{const _=Mp(s),L=_==="gemini",I=L?f:A;console.log(`[processAssistantResponse] Provider类型: ${s.provider} -> 实际类型: ${_}, 使用${L?"原始":"API"}格式消息，消息数量: ${I.length}`),L?(console.log("[processAssistantResponse] Gemini使用原始消息，包含完整的blocks信息"),f.forEach((Q,j)=>{console.log(`[processAssistantResponse] 原始消息 ${j}:`,{role:Q.role,hasBlocks:!!(Q.blocks&&Q.blocks.length>0),blocksCount:Q.blocks?.length||0,messageId:Q.id})})):(console.log("[processAssistantResponse] OpenAI使用API格式消息"),A.forEach((Q,j)=>{console.log(`[processAssistantResponse] API消息 ${j}:`,{role:Q.role,contentType:typeof Q.content,isArray:Array.isArray(Q.content),contentLength:typeof Q.content=="string"||Array.isArray(Q.content)?Q.content.length:0})}));const G=localStorage.getItem("mcp-mode")||"function";console.log(`[MCP] 当前模式: ${G}`);let W="";if(L){const Q=A.find(T=>T.role==="system"),j=Q?.content;W=typeof j=="string"?j:"",console.log("[processAssistantResponse] Gemini提取到系统提示词:",{hasSystemMessage:!!Q,systemPromptLength:W.length,systemPromptPreview:W.substring(0,50)+(W.length>50?"...":""),apiMessagesCount:A.length})}C=await w.sendChatMessage(I,{onUpdate:(Q,j)=>{v.handleStringContent(Q,j)},onChunk:Q=>{v.handleChunk(Q)},enableTools:i!==!1,mcpTools:o,mcpMode:G,abortSignal:g.signal,assistant:a,systemPrompt:L?W:void 0})}let x,E=!1;typeof C=="string"?x=C:C&&typeof C=="object"&&"content"in C?(x=C.content,E=C.interrupted===!0):x="",console.log("[processAssistantResponse] 工具调用已在 AI 提供者层面处理完成");const D=v.getStatus();return console.log(`[processAssistantResponse] 非流式响应处理完成，内容长度: ${x.length}, 思考过程长度: ${D.thinkingContent?.length||0}, 是否被中断: ${E}`),E?await v.completeWithInterruption():await v.complete(x)}catch(C){return C?.name==="AbortError"||C?.message?.includes("aborted")?(console.log("[processAssistantResponse] 请求被用户中断"),await v.completeWithInterruption()):await v.fail(C)}finally{b&&b()}}catch(a){throw console.error("处理助手响应失败:",a),t(Ge.setTopicLoading({topicId:n,loading:!1})),t(Ge.setTopicStreaming({topicId:n,streaming:!1})),a}},C9=(t,e,r,n,s,i)=>async(a,o)=>{try{const A=await P3.topics.getById(e);if(!A)throw new Error(`主题 ${e} 不存在`);const u=A.assistantId||"";if(!u)throw new Error("找不到当前助手ID");const{message:l,blocks:c}=Vl({content:t,assistantId:u,topicId:e,modelId:r.id,model:r,images:n,files:i});await Nf(l,c),a(Ge.addMessage({topicId:e,message:l})),c.length>0&&a(Dc(c));const{message:f,blocks:m}=aa({assistantId:u,topicId:e,modelId:r.id,model:r,askId:l.id});return await Nf(f,m),a(Ge.addMessage({topicId:e,message:f})),a(Ge.setTopicLoading({topicId:e,loading:!0})),a(Ge.setTopicStreaming({topicId:e,streaming:!0})),await og(a,o,f,e,r,s),l.id}catch(A){throw console.error("发送消息失败:",A),a(Ge.setTopicLoading({topicId:e,loading:!1})),a(Ge.setTopicStreaming({topicId:e,streaming:!1})),A}};class E9{MAX_VERSIONS_PER_MESSAGE=20;async saveCurrentAsVersion(e,r,n,s="regenerate"){try{console.log(`[VersionService] 保存当前内容为版本 - 消息ID: ${e}`);const i=await De.getMessage(e);if(!i)throw new Error(`消息 ${e} 不存在`);let a=r;if(a||(a=await this.getMessageContent(e)),!a?.trim())return console.log("[VersionService] 内容为空，跳过版本保存"),"";const o=er(),A=new Date().toISOString(),u={id:o,messageId:e,blocks:i.blocks?[...i.blocks]:[],createdAt:A,modelId:n?.id||i.modelId,model:n||i.model,isActive:!1,metadata:{contentSnapshot:String(a),originalContent:String(a),source:s,previousVersionId:i.currentVersionId,tokenCount:i.metrics&&"tokenCount"in i.metrics?i.metrics.tokenCount:void 0,timestamp:Date.now()}},l=[...i.versions||[]];if(l.push(u),l.length>this.MAX_VERSIONS_PER_MESSAGE){const c=l.sort((f,m)=>{const g=new Date(f.createdAt).getTime();return new Date(m.createdAt).getTime()-g}).slice(0,this.MAX_VERSIONS_PER_MESSAGE);console.log(`[VersionService] 清理旧版本，从 ${l.length} 减少到 ${c.length}`),l.length=0,l.push(...c)}return await De.updateMessage(e,{versions:l}),He.dispatch(Ge.updateMessage({id:e,changes:{versions:l}})),console.log(`[VersionService] 版本保存成功 - 版本ID: ${o}, 总版本数: ${l.length}`),o}catch(i){throw console.error("[VersionService] 保存版本失败:",i),i}}async createManualVersion(e){try{const r=await this.getMessageContent(e),n=await De.getMessage(e);if(!n)throw new Error(`消息 ${e} 不存在`);return this.saveCurrentAsVersion(e,r,n.model,"manual")}catch(r){throw console.error("[VersionService] 手动创建版本失败:",r),r}}async switchToVersion(e){try{console.log(`[VersionService] 切换到版本 - 版本ID: ${e}`);const r=await De.getAllMessages();let n,s;for(const u of r)if(u.versions){const l=u.versions.find(c=>c.id===e);if(l){n=u,s=l;break}}if(!n||!s)return console.error(`[VersionService] 找不到版本 ${e}`),!1;const i=n.id,a=s.metadata?.contentSnapshot;if(!a)return console.error(`[VersionService] 版本 ${e} 没有内容快照`),!1;if(!n.currentVersionId){const u=await this.getMessageContent(i);u&&(await De.saveSetting(`original_content_${i}`,u),console.log(`[VersionService] 已保存原始内容，长度: ${u.length}`))}const A=(await De.getMessageBlocksByMessageId(i)).find(u=>u.type==="main_text");if(A){const u={...A,content:a,updatedAt:new Date().toISOString()};await De.updateMessageBlock(A.id,u),He.dispatch(Or({id:A.id,changes:{content:a,updatedAt:new Date().toISOString()}}))}else return console.error(`[VersionService] 找不到消息 ${i} 的主文本块`),!1;return await De.updateMessage(i,{currentVersionId:e}),He.dispatch(Ge.updateMessage({id:i,changes:{currentVersionId:e}})),console.log(`[VersionService] 版本切换成功 - 版本ID: ${e}`),!0}catch(r){return console.error("[VersionService] 切换版本失败:",r),!1}}async switchToLatest(e){try{console.log(`[VersionService] 切换到最新版本 - 消息ID: ${e}`);const r=await De.getMessage(e);if(!r)throw new Error(`消息 ${e} 不存在`);if(!r.currentVersionId)return!0;const n=await De.getSetting(`original_content_${e}`);if(!n)return console.warn(`[VersionService] 找不到消息 ${e} 的原始内容备份`),this.fallbackToLatestContent(e);console.log(`[VersionService] 已找到原始内容备份，长度: ${n.length}`);const i=(await De.getMessageBlocksByMessageId(e)).find(a=>a.type==="main_text");if(i){const a={...i,content:n,updatedAt:new Date().toISOString()};return await De.updateMessageBlock(i.id,a),He.dispatch(Or({id:i.id,changes:{content:n,updatedAt:new Date().toISOString()}})),await De.updateMessage(e,{currentVersionId:void 0}),He.dispatch(Ge.updateMessage({id:e,changes:{currentVersionId:void 0}})),console.log("[VersionService] 已切换到最新版本，使用原始内容"),!0}else return console.error(`[VersionService] 找不到消息 ${e} 的主文本块`),!1}catch(r){return console.error("[VersionService] 切换到最新版本失败:",r),this.fallbackToLatestContent(e)}}async fallbackToLatestContent(e){try{console.log(`[VersionService] 使用后备策略恢复最新内容 - 消息ID: ${e}`);const r=await De.getMessage(e);if(!r)throw new Error(`消息 ${e} 不存在`);let n="";if(r.versions&&r.versions.length>0){const a=r.versions.filter(o=>o.id!==r.currentVersionId);if(a.length>0){const o=[...a].sort((A,u)=>new Date(u.createdAt).getTime()-new Date(A.createdAt).getTime());for(const A of o)if(A.metadata?.originalContent){n=A.metadata.originalContent,console.log(`[VersionService] 使用最新版本(ID: ${A.id})的原始内容，长度: ${n.length}`);break}}}if(!n&&r.currentVersionId&&r.versions){const a=r.versions.find(o=>o.id===r.currentVersionId);a?.metadata?.originalContent&&(n=a.metadata.originalContent,console.log(`[VersionService] 使用当前版本的原始内容，长度: ${n.length}`))}if(n||(n=await this.getMessageContent(e),console.log(`[VersionService] 使用当前块内容，长度: ${n.length}`)),!n)return console.error("[VersionService] 找不到任何可用内容"),!1;const i=(await De.getMessageBlocksByMessageId(e)).find(a=>a.type==="main_text");return i?(await De.updateMessageBlock(i.id,{content:n,updatedAt:new Date().toISOString()}),He.dispatch(Or({id:i.id,changes:{content:n,updatedAt:new Date().toISOString()}})),await De.updateMessage(e,{currentVersionId:void 0}),He.dispatch(Ge.updateMessage({id:e,changes:{currentVersionId:void 0}})),await De.saveSetting(`original_content_${e}`,n),console.log("[VersionService] 后备策略恢复成功"),!0):(console.error(`[VersionService] 找不到消息 ${e} 的主文本块`),!1)}catch(r){return console.error("[VersionService] 后备策略恢复失败:",r),!1}}async getMessageContent(e){try{return(await De.getMessageBlocksByMessageId(e)).find(s=>s.type==="main_text")?.content||""}catch(r){return console.error("[VersionService] 获取消息内容失败:",r),""}}async getMessageVersions(e){try{const r=await De.getMessage(e);if(!r)throw new Error(`消息 ${e} 不存在`);return{versions:r.versions||[],currentVersionId:r.currentVersionId}}catch(r){return console.error("[VersionService] 获取消息版本信息失败:",r),{versions:[]}}}async deleteVersion(e){try{const r=await De.getAllMessages();let n;for(const i of r)if(i.versions?.some(a=>a.id===e)){n=i;break}if(!n)return console.error(`[VersionService] 找不到包含版本 ${e} 的消息`),!1;n.currentVersionId===e&&await this.switchToLatest(n.id);const s=(n.versions||[]).filter(i=>i.id!==e);return await De.updateMessage(n.id,{versions:s}),He.dispatch(Ge.updateMessage({id:n.id,changes:{versions:s}})),console.log(`[VersionService] 成功删除版本 ${e}`),!0}catch(r){return console.error("[VersionService] 删除版本失败:",r),!1}}}const iA=new E9,S9=(t,e)=>async r=>{try{if(!await De.getMessage(t))throw new Error(`消息 ${t} 不存在`);const i=(await De.getMessageBlocksByMessageId(t)).map(a=>a.id);return i.length>0&&r(Qp(i)),r(Ge.removeMessage({topicId:e,messageId:t})),await De.transaction("rw",[De.messages,De.message_blocks,De.topics],async()=>{i.length>0&&await De.message_blocks.bulkDelete(i),await De.messages.delete(t);const a=await De.topics.get(e);if(a){if(a.messageIds&&(a.messageIds=a.messageIds.filter(o=>o!==t)),a.messageIds&&a.messageIds.length>0){const o=a.messageIds[a.messageIds.length-1],A=await De.messages.get(o);a.lastMessageTime=A?.createdAt||A?.updatedAt||new Date().toISOString()}else a.lastMessageTime=new Date().toISOString();await De.topics.put(a)}}),!0}catch(n){throw console.error("删除消息失败:",n),n}},T9=(t,e,r)=>async(n,s)=>{try{const i=await De.getMessage(t);if(!i)throw new Error(`用户消息 ${t} 不存在`);if(i.role!=="user")throw new Error("只能重新发送用户消息");const a=await P3.topics.getById(e);if(!a)throw new Error(`主题 ${e} 不存在`);const o=a.assistantId||"";if(!o)throw new Error("找不到当前助手ID");const u=(await De.getMessagesByTopicId(e)).filter(f=>f.role==="assistant"&&f.askId===t),l=[],c=[];if(u.length===0){const{message:f}=aa({assistantId:o,topicId:e,modelId:r.id,model:r,askId:t});l.push(f),n(Ge.addMessage({topicId:e,message:f})),await Nf(f,[])}else{for(const f of u){const m=[...f.blocks||[]];c.push(...m);const g={...f,status:Bt.PENDING,updatedAt:new Date().toISOString(),model:r,modelId:r.id,blocks:[]};l.push(g),n(Ge.updateMessage({id:g.id,changes:g}))}c.length>0&&(n(Qp(c)),await De.transaction("rw",[De.message_blocks,De.messages,De.topics],async()=>{await De.deleteMessageBlocksByIds(c);for(const m of l)await De.updateMessage(m.id,m);const f=await De.topics.get(e);if(f&&f.messages){for(const m of l){const g=f.messages.findIndex(b=>b.id===m.id);g>=0&&(f.messages[g]=m)}await De.topics.put(f)}}))}n(Ge.setTopicLoading({topicId:e,loading:!0})),n(Ge.setTopicStreaming({topicId:e,streaming:!0}));for(const f of l)await og(n,s,f,e,r,!1);return!0}catch(i){throw console.error("重新发送用户消息失败:",i),n(Ge.setTopicLoading({topicId:e,loading:!1})),n(Ge.setTopicStreaming({topicId:e,streaming:!1})),i}},F9=(t,e,r)=>async(n,s)=>{try{console.log(`[regenerateMessage] 开始重新生成消息: ${t}`,{topicId:e,newModel:{id:r.id,name:r.name,provider:r.provider}});const i=await De.getMessage(t);if(!i)throw new Error(`消息 ${t} 不存在`);if(console.log("[regenerateMessage] 原始消息模型信息:",{originalModelId:i.modelId,originalModel:i.model,newModelId:r.id,newModelName:r.name}),i.role!=="assistant")throw new Error("只能重新生成助手消息");const a=i.askId;if(!a)throw new Error("找不到原始用户消息ID");if(!await De.getMessage(a))throw new Error(`找不到原始用户消息 ${a}`);const u=(await De.getMessageBlocksByMessageId(t)).map(f=>f.id);let l=i;try{const f=ma(i);if(f.trim()){await iA.saveCurrentAsVersion(t,f,{...r,id:r.id||i.modelId},"regenerate"),console.log(`[regenerateMessage] 当前内容已保存为版本，内容长度: ${f.length}`);const m=await De.getMessage(t);m&&(l=m,console.log(`[regenerateMessage] 获取到更新后的消息，版本数: ${m.versions?.length||0}`))}}catch(f){console.error("[regenerateMessage] 保存版本失败:",f)}u.length>0&&n(Qp(u));const c={...l,status:Bt.PENDING,updatedAt:new Date().toISOString(),model:r,modelId:r.id,blocks:[],versions:l.versions||[]};return console.log("[regenerateMessage] 重置消息完成，模型已更新:",{messageId:c.id,originalModelId:l.modelId,newModelId:c.modelId,newModelName:c.model?.name,newModelProvider:c.model?.provider}),n(Ge.updateMessage({id:t,changes:c})),await De.transaction("rw",[De.messages,De.message_blocks,De.topics],async()=>{u.length>0&&await De.deleteMessageBlocksByIds(u),await De.updateMessage(t,c);const f=await De.topics.get(e);f&&(f.messageIds||(f.messageIds=[]),f.messageIds.includes(c.id)||f.messageIds.push(c.id),await De.topics.put(f))}),n(Ge.setTopicLoading({topicId:e,loading:!0})),n(Ge.setTopicStreaming({topicId:e,streaming:!0})),await og(n,s,c,e,r,!0),!0}catch(i){throw console.error(`重新生成消息 ${t} 失败:`,i),n(Ge.setTopicLoading({topicId:e,loading:!1})),n(Ge.setTopicStreaming({topicId:e,streaming:!1})),i}},D9=()=>{const t=Rp(),e=Ht(),r=ba(e.breakpoints.down("md")),[n,s]=q.useState(!r),i=q.useCallback(a=>{s(a)},[]);return q.useEffect(()=>{s(a=>{const o=!r;return a!==o?o:a})},[r]),{isMobile:r,drawerOpen:n,setDrawerOpen:i,navigate:t}};function k9(){const t=Sr(),e=dt(g=>g.settings),r=dt(g=>g.settings.currentModelId),[n,s]=q.useState(!1),[i,a]=q.useState(null),[o,A]=q.useState([]),[u,l]=q.useState(!0),c=q.useCallback(()=>{s(!0)},[]),f=q.useCallback(()=>{s(!1)},[]),m=q.useCallback(g=>{if(!g||!g.id){console.error("尝试选择无效的模型:",g);return}requestAnimationFrame(()=>{a(g),t(G0(g.id)),f()})},[t,f]);return q.useEffect(()=>{(async()=>{l(!0);try{const b=[];if(e.providers&&e.providers.forEach(v=>{v.isEnabled&&v.models.forEach(w=>{if(w.enabled){const B={...w,apiKey:w.apiKey||v.apiKey,baseUrl:w.baseUrl||v.baseUrl,providerType:w.providerType||v.providerType||v.id,description:w.description||`${v.name}的${w.name}模型`};b.push(B)}})}),b.length===0){console.warn("未找到用户配置的模型，使用默认测试模型");const v=[{id:"gpt-4",name:"GPT-4",description:"最强大的大语言模型",provider:"OpenAI",enabled:!0},{id:"gpt-3.5-turbo",name:"GPT-3.5",description:"平衡性能和速度",provider:"OpenAI",enabled:!0},{id:"claude-3",name:"Claude 3",description:"优秀的文本理解能力",provider:"Anthropic",enabled:!0},{id:"deepseek",name:"DeepSeek",description:"国内领先大模型",provider:"DeepSeek",enabled:!0}];if(A(v),r){const w=v.find(B=>B.id===r);a(w||v[0])}else a(v[0])}else if(A(b),r){const v=b.find(w=>w.id===r);if(v)a(v);else{const w=b.find(B=>B.isDefault)||b[0];a(w),w&&t(G0(w.id))}}else{const v=b.find(w=>w.isDefault)||b[0];a(v),v&&t(G0(v.id))}}catch(b){console.error("加载模型数据失败",b),A([]),a(null)}finally{l(!1)}})()},[t,e,r]),{selectedModel:i,availableModels:o,handleModelSelect:m,handleModelMenuClick:c,handleModelMenuClose:f,menuOpen:n,isLoading:u}}const Ag=t=>t.messages,I9=t=>t.messageBlocks,ha=M8,_9=sn([I9],t=>t?.entities||{});sn([_9,(t,e)=>U9(t,e)?.blocks||$5],(t,e)=>e.map(r=>t[r]).filter(Boolean));const U9=(t,e)=>t.messages.entities[e],G5=R8,W5=Q8,Qc=O8;sn([Qc],t=>t?{id:t}:null);const $5=[];sn([Qc,Ag],(t,e)=>t?ha({messages:e},t):$5);sn([Qc,Ag],(t,e)=>t?G5({messages:e},t):!1);sn([Qc,Ag],(t,e)=>t?W5({messages:e},t):!1);const M9=(t,e)=>{const r=Sr(),n=q.useCallback(async(u,l,c,f)=>{if(!e||!u.trim()||!t)return null;try{const m=l?.map(b=>({url:b.image_url?.url||""})),g=f?.map(b=>b.fileRecord).filter(Boolean);return r(C9(u.trim(),e.id,t,m,c,g)),!0}catch(m){return console.error("发送消息失败:",m),null}},[r,e,t]),s=q.useCallback(async u=>{if(e)try{await r(S9(u,e.id))}catch(l){console.error("删除消息失败:",l)}},[r,e]),i=q.useCallback(async u=>{if(!e)return null;try{const l=He.getState(),c=l.settings.currentModelId,f=l.settings.providers||[];if(!c)return console.error("[handleRegenerateMessage] Redux中没有当前模型ID"),null;const g=f.flatMap(v=>(v.models?.filter(w=>w.enabled)||[]).map(w=>({...w,provider:v.id,providerType:w.providerType||v.providerType||v.id,apiKey:w.apiKey||v.apiKey,baseUrl:w.baseUrl||v.baseUrl}))).find(v=>v.id===c);if(!g){if(console.error("[handleRegenerateMessage] 找不到对应的模型:",c),!t)return console.error("[handleRegenerateMessage] 组件状态中也没有模型"),null;console.warn("[handleRegenerateMessage] 回退使用组件状态中的模型:",t.id)}const b=g||t;return console.log(`[handleRegenerateMessage] 使用模型重新生成消息: ${u}`,{modelId:b.id,modelName:b.name,provider:b.provider,source:g?"Redux-Direct":"Component-Fallback"}),r(F9(u,e.id,b)),!0}catch(l){return console.error("重新生成消息失败:",l),null}},[r,e,t]),a=q.useCallback(async u=>{try{return await r(j3(u)),ha(He.getState(),u)?.length||0}catch(l){throw console.error("加载主题消息失败:",l),l}},[r]),o=q.useCallback(async u=>{try{if(u==="latest"){const f=ha(He.getState(),e.id).find(m=>m.currentVersionId);return f?await iA.switchToLatest(f.id):!1}if(u==="create"){const f=ha(He.getState(),e.id).filter(m=>m.role==="assistant");if(f.length>0){const m=f[f.length-1];return!!await iA.createManualVersion(m.id)}return!1}if(u.startsWith("delete:")){const c=u.substring(7);return await iA.deleteVersion(c)}return await iA.switchToVersion(u)}catch(l){return console.error("[handleSwitchMessageVersion] 版本操作异常:",l),!1}},[e]),A=q.useCallback(async u=>{if(!e||!t)return null;try{return r(T9(u,e.id,t)),!0}catch(l){return console.error("重新发送消息失败:",l),null}},[r,e,t]);return{handleSendMessage:n,handleDeleteMessage:s,handleRegenerateMessage:i,handleSwitchMessageVersion:o,handleResendMessage:A,loadTopicMessages:a}};class Q9{async createMultiModelBlock(e,r,n="horizontal"){if(!e||typeof e!="string")throw new Error("messageId 不能为空且必须是字符串");if(!r||!Array.isArray(r)||r.length===0)throw new Error("模型列表不能为空");const s=await De.getMessage(e);if(!s)throw new Error(`消息 ${e} 不存在`);const i=`multi-model-${er()}`,a=r.map(A=>({modelId:A.id,modelName:A.name||A.id,content:"",status:qe.PENDING})),o={id:i,messageId:e,type:tt.MULTI_MODEL,responses:a,displayStyle:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:qe.PENDING};try{await De.saveMessageBlock(o),He.dispatch(ei(o));const A=[...s.blocks||[],i];await De.updateMessage(e,{blocks:A}),He.dispatch(Ge.updateMessage({id:e,changes:{blocks:A}}));const u=await De.getMessage(e),l=He.getState().messages.entities[e];console.log(`[MultiModelService] 数据一致性验证 - 数据库blocks: [${u?.blocks?.join(", ")}], Redux blocks: [${l?.blocks?.join(", ")}]`)}catch(A){console.error(`[MultiModelService] 创建多模型块失败: ${i}`,A);try{await De.deleteMessageBlock(i),He.dispatch(N8(i))}catch(u){console.error("[MultiModelService] 清理失败的块时出错:",u)}throw A}return zr.emit(ps.BLOCK_CREATED,{blockId:i,type:tt.MULTI_MODEL}),i}async updateModelResponse(e,r,n,s=qe.STREAMING){const i=await De.getMessageBlock(e);if(!i||i.type!==tt.MULTI_MODEL)throw new Error(`块 ${e} 不是多模型响应块`);if("subType"in i&&i.subType==="comparison"){console.warn(`[MultiModelService] 跳过对比块的更新: ${e}`);return}if(!("responses"in i)||!Array.isArray(i.responses))throw new Error(`块 ${e} 没有 responses 属性`);const a=i.responses;if(!a.some(c=>c.modelId===r))throw new Error(`模型 ${r} 不存在于块 ${e} 中`);const A=a.map(c=>c.modelId===r?{...c,content:n,status:s}:c);let u;A.some(c=>c.status===qe.ERROR)?u=qe.ERROR:A.some(c=>c.status===qe.STREAMING)?u=qe.STREAMING:A.some(c=>c.status===qe.PENDING)?u=qe.PENDING:u=qe.SUCCESS;const l={...i,responses:A,status:u,updatedAt:new Date().toISOString()};try{await De.updateMessageBlock(e,l),He.dispatch(Or({id:e,changes:{responses:A,status:u,updatedAt:new Date().toISOString()}}))}catch(c){throw console.error(`[MultiModelService] 更新多模型响应失败: ${e}`,c),c}zr.emit(ps.BLOCK_UPDATED,{blockId:e,modelId:r,status:u})}async completeModelResponse(e,r,n){await this.updateModelResponse(e,r,n,qe.SUCCESS)}}const No=new Q9;function Tn(t){return t.replace(/\s+/g," ").replace(/[\r\n\t]/g," ").trim()}function $A(t,e="https://cn.bing.com"){try{if(!t||typeof t!="string")return t||"";if(t.startsWith("/"))return`${e}${t}`;if(t.includes("bing.com/ck/a?")){const r=t.split("?"),n=r.length>1?r[1]:"";if(n){const i=new URLSearchParams(n).get("u");if(i)return decodeURIComponent(i)}}return t}catch(r){return console.warn("[SearchUtils] URL标准化失败:",r),t}}async function XA(t,e){const r={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8",DNT:"1",Connection:"keep-alive","Upgrade-Insecure-Requests":"1"};if(Un.isNativePlatform()){console.log("[SearchUtils] 使用 CorsBypass 插件请求");const n=await wA.request({url:t,method:"GET",headers:r,timeout:e,responseType:"text"});return console.log("[SearchUtils] 插件响应:",{status:n.status,dataLength:n.data?.length||0,headers:Object.keys(n.headers||{})}),n}else{console.log("[SearchUtils] 使用标准 fetch 请求");const n=await fetch(t,{method:"GET",headers:r,signal:AbortSignal.timeout(e)});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return{data:await n.text(),status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries())}}}function R9(t){return[/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|zip|rar|7z)$/i,/\.(jpg|jpeg|png|gif|bmp|svg|webp)$/i,/\.(mp3|mp4|avi|mov|wmv|flv)$/i,/^mailto:/,/^tel:/,/^javascript:/,/#$/].some(r=>r.test(t))}function Nm(t,e){try{const n=new DOMParser().parseFromString(t,"text/html");n.querySelectorAll("script, style, nav, header, footer, aside").forEach(o=>o.remove());const i=["main","article",".content",".main-content",".post-content",".entry-content","#content",".container"];let a="";for(const o of i){const A=n.querySelector(o);if(A){a=A.textContent||"";break}}return a||(a=n.body?.textContent||""),a=a.replace(/\s+/g," ").replace(/\n\s*\n/g,`
`).trim(),a.length>e&&(a=a.substring(0,e)+"..."),a||"无法提取内容"}catch(r){return console.warn("[SearchUtils] 文本提取失败:",r),"内容解析失败"}}var br={},_a={},Uu={},aA={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var O9=aA.exports,Lm;function ug(){return Lm||(Lm=1,function(t,e){(function(r){var n=e,s=t&&t.exports==n&&t,i=typeof Ja=="object"&&Ja;(i.global===i||i.window===i)&&(r=i);var a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[\x01-\x7F]/g,A=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,u=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},c=/["&'<>`]/g,f={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},m=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,g=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,v={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},w={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},B={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},C=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,E={},D=E.hasOwnProperty,_=function(re,pe){return D.call(re,pe)},L=function(re,pe){for(var te=-1,$=re.length;++te<$;)if(re[te]==pe)return!0;return!1},I=function(re,pe){if(!re)return pe;var te={},$;for($ in pe)te[$]=_(re,$)?re[$]:pe[$];return te},G=function(re,pe){var te="";return re>=55296&&re<=57343||re>1114111?(pe&&j("character reference outside the permissible Unicode range"),"�"):_(B,re)?(pe&&j("disallowed character reference"),B[re]):(pe&&L(C,re)&&j("disallowed character reference"),re>65535&&(re-=65536,te+=x(re>>>10&1023|55296),re=56320|re&1023),te+=x(re),te)},W=function(re){return"&#x"+re.toString(16).toUpperCase()+";"},Q=function(re){return"&#"+re+";"},j=function(re){throw Error("Parse error: "+re)},T=function(re,pe){pe=I(pe,T.options);var te=pe.strict;te&&g.test(re)&&j("forbidden code point");var $=pe.encodeEverything,he=pe.useNamedReferences,me=pe.allowUnsafeSymbols,ye=pe.decimal?Q:W,ce=function(H){return ye(H.charCodeAt(0))};return $?(re=re.replace(o,function(H){return he&&_(l,H)?"&"+l[H]+";":ce(H)}),he&&(re=re.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),he&&(re=re.replace(u,function(H){return"&"+l[H]+";"}))):he?(me||(re=re.replace(c,function(H){return"&"+l[H]+";"})),re=re.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),re=re.replace(u,function(H){return"&"+l[H]+";"})):me||(re=re.replace(c,ce)),re.replace(a,function(H){var P=H.charCodeAt(0),ge=H.charCodeAt(1),ie=(P-55296)*1024+ge-56320+65536;return ye(ie)}).replace(A,ce)};T.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var V=function(re,pe){pe=I(pe,V.options);var te=pe.strict;return te&&m.test(re)&&j("malformed character reference"),re.replace(b,function($,he,me,ye,ce,H,P,ge,ie){var Z,se,Ce,O,ue,N;return he?(ue=he,v[ue]):me?(ue=me,N=ye,N&&pe.isAttributeValue?(te&&N=="="&&j("`&` did not start a character reference"),$):(te&&j("named character reference was not terminated by a semicolon"),w[ue]+(N||""))):ce?(Ce=ce,se=H,te&&!se&&j("character reference was not terminated by a semicolon"),Z=parseInt(Ce,10),G(Z,te)):P?(O=P,se=ge,te&&!se&&j("character reference was not terminated by a semicolon"),Z=parseInt(O,16),G(Z,te)):(te&&j("named character reference was not terminated by a semicolon"),$)})};V.options={isAttributeValue:!1,strict:!1};var J=function(re){return re.replace(c,function(pe){return f[pe]})},Y={version:"1.2.0",encode:T,decode:V,escape:J,unescape:V};if(n&&!n.nodeType)if(s)s.exports=Y;else for(var oe in Y)_(Y,oe)&&(n[oe]=Y[oe]);else r.he=Y})(O9)}(aA,aA.exports)),aA.exports}var Hm;function Rc(){if(Hm)return Uu;Hm=1,Object.defineProperty(Uu,"__esModule",{value:!0});const t=ug();class e{constructor(n=null,s){this.parentNode=n,this.childNodes=[],Object.defineProperty(this,"range",{enumerable:!1,writable:!0,configurable:!0,value:s??[-1,-1]})}remove(){if(this.parentNode){const n=this.parentNode.childNodes;this.parentNode.childNodes=n.filter(s=>this!==s),this.parentNode=null}return this}get innerText(){return this.rawText}get textContent(){return(0,t.decode)(this.rawText)}set textContent(n){this.rawText=(0,t.encode)(n)}}return Uu.default=e,Uu}var Mu={},Pm;function YA(){if(Pm)return Mu;Pm=1,Object.defineProperty(Mu,"__esModule",{value:!0});var t;return function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"}(t||(t={})),Mu.default=t,Mu}var jm;function X5(){if(jm)return _a;jm=1;var t=_a&&_a.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_a,"__esModule",{value:!0});const e=t(Rc()),r=t(YA());class n extends e.default{clone(){return new n(this.rawText,null,void 0,this.rawTagName)}constructor(i,a=null,o,A="!--"){super(a,o),this.rawText=i,this.rawTagName=A,this.nodeType=r.default.COMMENT_NODE}get text(){return this.rawText}toString(){return`<!--${this.rawText}-->`}}return _a.default=n,_a}var ns={},Hn={},Pi={},ss={},ji={},Z0={},zm;function Oc(){return zm||(zm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(Z0)),Z0}var ct={},Km;function qm(){if(Km)return ct;Km=1;var t=ct&&ct.__extends||function(){var E=function(D,_){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,I){L.__proto__=I}||function(L,I){for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&(L[G]=I[G])},E(D,_)};return function(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");E(D,_);function L(){this.constructor=D}D.prototype=_===null?Object.create(_):(L.prototype=_.prototype,new L)}}(),e=ct&&ct.__assign||function(){return e=Object.assign||function(E){for(var D,_=1,L=arguments.length;_<L;_++){D=arguments[_];for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(E[I]=D[I])}return E},e.apply(this,arguments)};Object.defineProperty(ct,"__esModule",{value:!0}),ct.cloneNode=ct.hasChildren=ct.isDocument=ct.isDirective=ct.isComment=ct.isText=ct.isCDATA=ct.isTag=ct.Element=ct.Document=ct.CDATA=ct.NodeWithChildren=ct.ProcessingInstruction=ct.Comment=ct.Text=ct.DataNode=ct.Node=void 0;var r=Oc(),n=function(){function E(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(E.prototype,"parentNode",{get:function(){return this.parent},set:function(D){this.parent=D},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"previousSibling",{get:function(){return this.prev},set:function(D){this.prev=D},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"nextSibling",{get:function(){return this.next},set:function(D){this.next=D},enumerable:!1,configurable:!0}),E.prototype.cloneNode=function(D){return D===void 0&&(D=!1),C(this,D)},E}();ct.Node=n;var s=function(E){t(D,E);function D(_){var L=E.call(this)||this;return L.data=_,L}return Object.defineProperty(D.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),D}(n);ct.DataNode=s;var i=function(E){t(D,E);function D(){var _=E!==null&&E.apply(this,arguments)||this;return _.type=r.ElementType.Text,_}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),D}(s);ct.Text=i;var a=function(E){t(D,E);function D(){var _=E!==null&&E.apply(this,arguments)||this;return _.type=r.ElementType.Comment,_}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),D}(s);ct.Comment=a;var o=function(E){t(D,E);function D(_,L){var I=E.call(this,L)||this;return I.name=_,I.type=r.ElementType.Directive,I}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),D}(s);ct.ProcessingInstruction=o;var A=function(E){t(D,E);function D(_){var L=E.call(this)||this;return L.children=_,L}return Object.defineProperty(D.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),D}(n);ct.NodeWithChildren=A;var u=function(E){t(D,E);function D(){var _=E!==null&&E.apply(this,arguments)||this;return _.type=r.ElementType.CDATA,_}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),D}(A);ct.CDATA=u;var l=function(E){t(D,E);function D(){var _=E!==null&&E.apply(this,arguments)||this;return _.type=r.ElementType.Root,_}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),D}(A);ct.Document=l;var c=function(E){t(D,E);function D(_,L,I,G){I===void 0&&(I=[]),G===void 0&&(G=_==="script"?r.ElementType.Script:_==="style"?r.ElementType.Style:r.ElementType.Tag);var W=E.call(this,I)||this;return W.name=_,W.attribs=L,W.type=G,W}return Object.defineProperty(D.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(L){var I,G;return{name:L,value:_.attribs[L],namespace:(I=_["x-attribsNamespace"])===null||I===void 0?void 0:I[L],prefix:(G=_["x-attribsPrefix"])===null||G===void 0?void 0:G[L]}})},enumerable:!1,configurable:!0}),D}(A);ct.Element=c;function f(E){return(0,r.isTag)(E)}ct.isTag=f;function m(E){return E.type===r.ElementType.CDATA}ct.isCDATA=m;function g(E){return E.type===r.ElementType.Text}ct.isText=g;function b(E){return E.type===r.ElementType.Comment}ct.isComment=b;function v(E){return E.type===r.ElementType.Directive}ct.isDirective=v;function w(E){return E.type===r.ElementType.Root}ct.isDocument=w;function B(E){return Object.prototype.hasOwnProperty.call(E,"children")}ct.hasChildren=B;function C(E,D){D===void 0&&(D=!1);var _;if(g(E))_=new i(E.data);else if(b(E))_=new a(E.data);else if(f(E)){var L=D?x(E.children):[],I=new c(E.name,e({},E.attribs),L);L.forEach(function(j){return j.parent=I}),E.namespace!=null&&(I.namespace=E.namespace),E["x-attribsNamespace"]&&(I["x-attribsNamespace"]=e({},E["x-attribsNamespace"])),E["x-attribsPrefix"]&&(I["x-attribsPrefix"]=e({},E["x-attribsPrefix"])),_=I}else if(m(E)){var L=D?x(E.children):[],G=new u(L);L.forEach(function(T){return T.parent=G}),_=G}else if(w(E)){var L=D?x(E.children):[],W=new l(L);L.forEach(function(T){return T.parent=W}),E["x-mode"]&&(W["x-mode"]=E["x-mode"]),_=W}else if(v(E)){var Q=new o(E.name,E.data);E["x-name"]!=null&&(Q["x-name"]=E["x-name"],Q["x-publicId"]=E["x-publicId"],Q["x-systemId"]=E["x-systemId"]),_=Q}else throw new Error("Not implemented yet: ".concat(E.type));return _.startIndex=E.startIndex,_.endIndex=E.endIndex,E.sourceCodeLocation!=null&&(_.sourceCodeLocation=E.sourceCodeLocation),_}ct.cloneNode=C;function x(E){for(var D=E.map(function(L){return C(L,!0)}),_=1;_<D.length;_++)D[_].prev=D[_-1],D[_-1].next=D[_];return D}return ct}var Vm;function So(){return Vm||(Vm=1,function(t){var e=ji&&ji.__createBinding||(Object.create?function(o,A,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(A,u);(!c||("get"in c?!A.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return A[u]}}),Object.defineProperty(o,l,c)}:function(o,A,u,l){l===void 0&&(l=u),o[l]=A[u]}),r=ji&&ji.__exportStar||function(o,A){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(A,u)&&e(A,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=Oc(),s=qm();r(qm(),t);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function o(A,u,l){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(l=u,u=i),typeof A=="object"&&(u=A,A=void 0),this.callback=A??null,this.options=u??i,this.elementCB=l??null}return o.prototype.onparserinit=function(A){this.parser=A},o.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(A){this.handleCallback(A)},o.prototype.onclosetag=function(){this.lastNode=null;var A=this.tagStack.pop();this.options.withEndIndices&&(A.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(A)},o.prototype.onopentag=function(A,u){var l=this.options.xmlMode?n.ElementType.Tag:void 0,c=new s.Element(A,u,void 0,l);this.addNode(c),this.tagStack.push(c)},o.prototype.ontext=function(A){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=A,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var l=new s.Text(A);this.addNode(l),this.lastNode=l}},o.prototype.oncomment=function(A){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=A;return}var u=new s.Comment(A);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var A=new s.Text(""),u=new s.CDATA([A]);this.addNode(u),A.parent=u,this.lastNode=A},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(A,u){var l=new s.ProcessingInstruction(A,u);this.addNode(l)},o.prototype.handleCallback=function(A){if(typeof this.callback=="function")this.callback(A,this.dom);else if(A)throw A},o.prototype.addNode=function(A){var u=this.tagStack[this.tagStack.length-1],l=u.children[u.children.length-1];this.options.withStartIndices&&(A.startIndex=this.parser.startIndex),this.options.withEndIndices&&(A.endIndex=this.parser.endIndex),u.children.push(A),l&&(A.prev=l,l.next=A),A.parent=u,this.lastNode=null},o}();t.DomHandler=a,t.default=a}(ji)),ji}var en={},ed={},Pn={},Qu={},Gm;function N9(){return Gm||(Gm=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(t){return t.charCodeAt(0)}))),Qu}var Ru={},Wm;function L9(){return Wm||(Wm=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(t){return t.charCodeAt(0)}))),Ru}var td={},$m;function Xm(){return $m||($m=1,function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(i){var a="";return i>65535&&(i-=65536,a+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),a+=String.fromCharCode(i),a};function n(i){var a;return i>=55296&&i<=57343||i>1114111?65533:(a=r.get(i))!==null&&a!==void 0?a:i}t.replaceCodePoint=n;function s(i){return(0,t.fromCodePoint)(n(i))}t.default=s}(td)),td}var Ym;function Jm(){return Ym||(Ym=1,function(t){var e=Pn&&Pn.__createBinding||(Object.create?function(W,Q,j,T){T===void 0&&(T=j);var V=Object.getOwnPropertyDescriptor(Q,j);(!V||("get"in V?!Q.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return Q[j]}}),Object.defineProperty(W,T,V)}:function(W,Q,j,T){T===void 0&&(T=j),W[T]=Q[j]}),r=Pn&&Pn.__setModuleDefault||(Object.create?function(W,Q){Object.defineProperty(W,"default",{enumerable:!0,value:Q})}:function(W,Q){W.default=Q}),n=Pn&&Pn.__importStar||function(W){if(W&&W.__esModule)return W;var Q={};if(W!=null)for(var j in W)j!=="default"&&Object.prototype.hasOwnProperty.call(W,j)&&e(Q,W,j);return r(Q,W),Q},s=Pn&&Pn.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var i=s(N9());t.htmlDecodeTree=i.default;var a=s(L9());t.xmlDecodeTree=a.default;var o=n(Xm());t.decodeCodePoint=o.default;var A=Xm();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return A.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return A.fromCodePoint}});var u;(function(W){W[W.NUM=35]="NUM",W[W.SEMI=59]="SEMI",W[W.EQUALS=61]="EQUALS",W[W.ZERO=48]="ZERO",W[W.NINE=57]="NINE",W[W.LOWER_A=97]="LOWER_A",W[W.LOWER_F=102]="LOWER_F",W[W.LOWER_X=120]="LOWER_X",W[W.LOWER_Z=122]="LOWER_Z",W[W.UPPER_A=65]="UPPER_A",W[W.UPPER_F=70]="UPPER_F",W[W.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var l=32,c;(function(W){W[W.VALUE_LENGTH=49152]="VALUE_LENGTH",W[W.BRANCH_LENGTH=16256]="BRANCH_LENGTH",W[W.JUMP_TABLE=127]="JUMP_TABLE"})(c=t.BinTrieFlags||(t.BinTrieFlags={}));function f(W){return W>=u.ZERO&&W<=u.NINE}function m(W){return W>=u.UPPER_A&&W<=u.UPPER_F||W>=u.LOWER_A&&W<=u.LOWER_F}function g(W){return W>=u.UPPER_A&&W<=u.UPPER_Z||W>=u.LOWER_A&&W<=u.LOWER_Z||f(W)}function b(W){return W===u.EQUALS||g(W)}var v;(function(W){W[W.EntityStart=0]="EntityStart",W[W.NumericStart=1]="NumericStart",W[W.NumericDecimal=2]="NumericDecimal",W[W.NumericHex=3]="NumericHex",W[W.NamedEntity=4]="NamedEntity"})(v||(v={}));var w;(function(W){W[W.Legacy=0]="Legacy",W[W.Strict=1]="Strict",W[W.Attribute=2]="Attribute"})(w=t.DecodingMode||(t.DecodingMode={}));var B=function(){function W(Q,j,T){this.decodeTree=Q,this.emitCodePoint=j,this.errors=T,this.state=v.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=w.Strict}return W.prototype.startEntity=function(Q){this.decodeMode=Q,this.state=v.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},W.prototype.write=function(Q,j){switch(this.state){case v.EntityStart:return Q.charCodeAt(j)===u.NUM?(this.state=v.NumericStart,this.consumed+=1,this.stateNumericStart(Q,j+1)):(this.state=v.NamedEntity,this.stateNamedEntity(Q,j));case v.NumericStart:return this.stateNumericStart(Q,j);case v.NumericDecimal:return this.stateNumericDecimal(Q,j);case v.NumericHex:return this.stateNumericHex(Q,j);case v.NamedEntity:return this.stateNamedEntity(Q,j)}},W.prototype.stateNumericStart=function(Q,j){return j>=Q.length?-1:(Q.charCodeAt(j)|l)===u.LOWER_X?(this.state=v.NumericHex,this.consumed+=1,this.stateNumericHex(Q,j+1)):(this.state=v.NumericDecimal,this.stateNumericDecimal(Q,j))},W.prototype.addToNumericResult=function(Q,j,T,V){if(j!==T){var J=T-j;this.result=this.result*Math.pow(V,J)+parseInt(Q.substr(j,J),V),this.consumed+=J}},W.prototype.stateNumericHex=function(Q,j){for(var T=j;j<Q.length;){var V=Q.charCodeAt(j);if(f(V)||m(V))j+=1;else return this.addToNumericResult(Q,T,j,16),this.emitNumericEntity(V,3)}return this.addToNumericResult(Q,T,j,16),-1},W.prototype.stateNumericDecimal=function(Q,j){for(var T=j;j<Q.length;){var V=Q.charCodeAt(j);if(f(V))j+=1;else return this.addToNumericResult(Q,T,j,10),this.emitNumericEntity(V,2)}return this.addToNumericResult(Q,T,j,10),-1},W.prototype.emitNumericEntity=function(Q,j){var T;if(this.consumed<=j)return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(Q===u.SEMI)this.consumed+=1;else if(this.decodeMode===w.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(Q!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},W.prototype.stateNamedEntity=function(Q,j){for(var T=this.decodeTree,V=T[this.treeIndex],J=(V&c.VALUE_LENGTH)>>14;j<Q.length;j++,this.excess++){var Y=Q.charCodeAt(j);if(this.treeIndex=x(T,V,this.treeIndex+Math.max(1,J),Y),this.treeIndex<0)return this.result===0||this.decodeMode===w.Attribute&&(J===0||b(Y))?0:this.emitNotTerminatedNamedEntity();if(V=T[this.treeIndex],J=(V&c.VALUE_LENGTH)>>14,J!==0){if(Y===u.SEMI)return this.emitNamedEntityData(this.treeIndex,J,this.consumed+this.excess);this.decodeMode!==w.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},W.prototype.emitNotTerminatedNamedEntity=function(){var Q,j=this,T=j.result,V=j.decodeTree,J=(V[T]&c.VALUE_LENGTH)>>14;return this.emitNamedEntityData(T,J,this.consumed),(Q=this.errors)===null||Q===void 0||Q.missingSemicolonAfterCharacterReference(),this.consumed},W.prototype.emitNamedEntityData=function(Q,j,T){var V=this.decodeTree;return this.emitCodePoint(j===1?V[Q]&~c.VALUE_LENGTH:V[Q+1],T),j===3&&this.emitCodePoint(V[Q+2],T),T},W.prototype.end=function(){var Q;switch(this.state){case v.NamedEntity:return this.result!==0&&(this.decodeMode!==w.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case v.NumericDecimal:return this.emitNumericEntity(0,2);case v.NumericHex:return this.emitNumericEntity(0,3);case v.NumericStart:return(Q=this.errors)===null||Q===void 0||Q.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case v.EntityStart:return 0}},W}();t.EntityDecoder=B;function C(W){var Q="",j=new B(W,function(T){return Q+=(0,o.fromCodePoint)(T)});return function(V,J){for(var Y=0,oe=0;(oe=V.indexOf("&",oe))>=0;){Q+=V.slice(Y,oe),j.startEntity(J);var re=j.write(V,oe+1);if(re<0){Y=oe+j.end();break}Y=oe+re,oe=re===0?Y+1:Y}var pe=Q+V.slice(Y);return Q="",pe}}function x(W,Q,j,T){var V=(Q&c.BRANCH_LENGTH)>>7,J=Q&c.JUMP_TABLE;if(V===0)return J!==0&&T===J?j:-1;if(J){var Y=T-J;return Y<0||Y>=V?-1:W[j+Y]-1}for(var oe=j,re=oe+V-1;oe<=re;){var pe=oe+re>>>1,te=W[pe];if(te<T)oe=pe+1;else if(te>T)re=pe-1;else return W[pe+V]}return-1}t.determineBranch=x;var E=C(i.default),D=C(a.default);function _(W,Q){return Q===void 0&&(Q=w.Legacy),E(W,Q)}t.decodeHTML=_;function L(W){return E(W,w.Attribute)}t.decodeHTMLAttribute=L;function I(W){return E(W,w.Strict)}t.decodeHTMLStrict=I;function G(W){return D(W,w.Strict)}t.decodeXML=G}(Pn)),Pn}var Us={},Ou={},Zm;function H9(){if(Zm)return Ou;Zm=1,Object.defineProperty(Ou,"__esModule",{value:!0});function t(e){for(var r=1;r<e.length;r++)e[r][0]+=e[r-1][0]+1;return e}return Ou.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Ou}var rd={},e2;function Gf(){return e2||(e2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(s,i){return s.codePointAt(i)}:function(s,i){return(s.charCodeAt(i)&64512)===55296?(s.charCodeAt(i)-55296)*1024+s.charCodeAt(i+1)-56320+65536:s.charCodeAt(i)};function r(s){for(var i="",a=0,o;(o=t.xmlReplacer.exec(s))!==null;){var A=o.index,u=s.charCodeAt(A),l=e.get(u);l!==void 0?(i+=s.substring(a,A)+l,a=A+1):(i+="".concat(s.substring(a,A),"&#x").concat((0,t.getCodePoint)(s,A).toString(16),";"),a=t.xmlReplacer.lastIndex+=+((u&64512)===55296))}return i+s.substr(a)}t.encodeXML=r,t.escape=r;function n(s,i){return function(o){for(var A,u=0,l="";A=s.exec(o);)u!==A.index&&(l+=o.substring(u,A.index)),l+=i.get(A[0].charCodeAt(0)),u=A.index+1;return l+o.substring(u)}}t.escapeUTF8=n(/[&<>'"]/g,e),t.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(rd)),rd}var t2;function r2(){if(t2)return Us;t2=1;var t=Us&&Us.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Us,"__esModule",{value:!0}),Us.encodeNonAsciiHTML=Us.encodeHTML=void 0;var e=t(H9()),r=Gf(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function s(o){return a(n,o)}Us.encodeHTML=s;function i(o){return a(r.xmlReplacer,o)}Us.encodeNonAsciiHTML=i;function a(o,A){for(var u="",l=0,c;(c=o.exec(A))!==null;){var f=c.index;u+=A.substring(l,f);var m=A.charCodeAt(f),g=e.default.get(m);if(typeof g=="object"){if(f+1<A.length){var b=A.charCodeAt(f+1),v=typeof g.n=="number"?g.n===b?g.o:void 0:g.n.get(b);if(v!==void 0){u+=v,l=o.lastIndex+=1;continue}}g=g.v}if(g!==void 0)u+=g,l=f+1;else{var w=(0,r.getCodePoint)(A,f);u+="&#x".concat(w.toString(16),";"),l=o.lastIndex+=+(w!==m)}}return u+A.substr(l)}return Us}var n2;function P9(){return n2||(n2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Jm(),r=r2(),n=Gf(),s;(function(f){f[f.XML=0]="XML",f[f.HTML=1]="HTML"})(s=t.EntityLevel||(t.EntityLevel={}));var i;(function(f){f[f.UTF8=0]="UTF8",f[f.ASCII=1]="ASCII",f[f.Extensive=2]="Extensive",f[f.Attribute=3]="Attribute",f[f.Text=4]="Text"})(i=t.EncodingMode||(t.EncodingMode={}));function a(f,m){m===void 0&&(m=s.XML);var g=typeof m=="number"?m:m.level;if(g===s.HTML){var b=typeof m=="object"?m.mode:void 0;return(0,e.decodeHTML)(f,b)}return(0,e.decodeXML)(f)}t.decode=a;function o(f,m){var g;m===void 0&&(m=s.XML);var b=typeof m=="number"?{level:m}:m;return(g=b.mode)!==null&&g!==void 0||(b.mode=e.DecodingMode.Strict),a(f,b)}t.decodeStrict=o;function A(f,m){m===void 0&&(m=s.XML);var g=typeof m=="number"?{level:m}:m;return g.mode===i.UTF8?(0,n.escapeUTF8)(f):g.mode===i.Attribute?(0,n.escapeAttribute)(f):g.mode===i.Text?(0,n.escapeText)(f):g.level===s.HTML?g.mode===i.ASCII?(0,r.encodeNonAsciiHTML)(f):(0,r.encodeHTML)(f):(0,n.encodeXML)(f)}t.encode=A;var u=Gf();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var l=r2();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var c=Jm();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return c.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return c.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return c.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return c.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return c.decodeXML}})}(ed)),ed}var zi={},s2;function j9(){return s2||(s2=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.attributeNames=zi.elementNames=void 0,zi.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),zi.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),zi}var i2;function z9(){if(i2)return en;i2=1;var t=en&&en.__assign||function(){return t=Object.assign||function(x){for(var E,D=1,_=arguments.length;D<_;D++){E=arguments[D];for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(x[L]=E[L])}return x},t.apply(this,arguments)},e=en&&en.__createBinding||(Object.create?function(x,E,D,_){_===void 0&&(_=D);var L=Object.getOwnPropertyDescriptor(E,D);(!L||("get"in L?!E.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return E[D]}}),Object.defineProperty(x,_,L)}:function(x,E,D,_){_===void 0&&(_=D),x[_]=E[D]}),r=en&&en.__setModuleDefault||(Object.create?function(x,E){Object.defineProperty(x,"default",{enumerable:!0,value:E})}:function(x,E){x.default=E}),n=en&&en.__importStar||function(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var D in x)D!=="default"&&Object.prototype.hasOwnProperty.call(x,D)&&e(E,x,D);return r(E,x),E};Object.defineProperty(en,"__esModule",{value:!0}),en.render=void 0;var s=n(Oc()),i=P9(),a=j9(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function A(x){return x.replace(/"/g,"&quot;")}function u(x,E){var D;if(x){var _=((D=E.encodeEntities)!==null&&D!==void 0?D:E.decodeEntities)===!1?A:E.xmlMode||E.encodeEntities!=="utf8"?i.encodeXML:i.escapeAttribute;return Object.keys(x).map(function(L){var I,G,W=(I=x[L])!==null&&I!==void 0?I:"";return E.xmlMode==="foreign"&&(L=(G=a.attributeNames.get(L))!==null&&G!==void 0?G:L),!E.emptyAttrs&&!E.xmlMode&&W===""?L:"".concat(L,'="').concat(_(W),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function c(x,E){E===void 0&&(E={});for(var D=("length"in x)?x:[x],_="",L=0;L<D.length;L++)_+=f(D[L],E);return _}en.render=c,en.default=c;function f(x,E){switch(x.type){case s.Root:return c(x.children,E);case s.Doctype:case s.Directive:return v(x);case s.Comment:return C(x);case s.CDATA:return B(x);case s.Script:case s.Style:case s.Tag:return b(x,E);case s.Text:return w(x,E)}}var m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=new Set(["svg","math"]);function b(x,E){var D;E.xmlMode==="foreign"&&(x.name=(D=a.elementNames.get(x.name))!==null&&D!==void 0?D:x.name,x.parent&&m.has(x.parent.name)&&(E=t(t({},E),{xmlMode:!1}))),!E.xmlMode&&g.has(x.name)&&(E=t(t({},E),{xmlMode:"foreign"}));var _="<".concat(x.name),L=u(x.attribs,E);return L&&(_+=" ".concat(L)),x.children.length===0&&(E.xmlMode?E.selfClosingTags!==!1:E.selfClosingTags&&l.has(x.name))?(E.xmlMode||(_+=" "),_+="/>"):(_+=">",x.children.length>0&&(_+=c(x.children,E)),(E.xmlMode||!l.has(x.name))&&(_+="</".concat(x.name,">"))),_}function v(x){return"<".concat(x.data,">")}function w(x,E){var D,_=x.data||"";return((D=E.encodeEntities)!==null&&D!==void 0?D:E.decodeEntities)!==!1&&!(!E.xmlMode&&x.parent&&o.has(x.parent.name))&&(_=E.xmlMode||E.encodeEntities!=="utf8"?(0,i.encodeXML)(_):(0,i.escapeText)(_)),_}function B(x){return"<![CDATA[".concat(x.children[0].data,"]]>")}function C(x){return"<!--".concat(x.data,"-->")}return en}var a2;function Y5(){if(a2)return ss;a2=1;var t=ss&&ss.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ss,"__esModule",{value:!0}),ss.getOuterHTML=s,ss.getInnerHTML=i,ss.getText=a,ss.textContent=o,ss.innerText=A;var e=So(),r=t(z9()),n=Oc();function s(u,l){return(0,r.default)(u,l)}function i(u,l){return(0,e.hasChildren)(u)?u.children.map(function(c){return s(c,l)}).join(""):""}function a(u){return Array.isArray(u)?u.map(a).join(""):(0,e.isTag)(u)?u.name==="br"?`
`:a(u.children):(0,e.isCDATA)(u)?a(u.children):(0,e.isText)(u)?u.data:""}function o(u){return Array.isArray(u)?u.map(o).join(""):(0,e.hasChildren)(u)&&!(0,e.isComment)(u)?o(u.children):(0,e.isText)(u)?u.data:""}function A(u){return Array.isArray(u)?u.map(A).join(""):(0,e.hasChildren)(u)&&(u.type===n.ElementType.Tag||(0,e.isCDATA)(u))?A(u.children):(0,e.isText)(u)?u.data:""}return ss}var jn={},o2;function K9(){if(o2)return jn;o2=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.getChildren=e,jn.getParent=r,jn.getSiblings=n,jn.getAttributeValue=s,jn.hasAttrib=i,jn.getName=a,jn.nextElementSibling=o,jn.prevElementSibling=A;var t=So();function e(u){return(0,t.hasChildren)(u)?u.children:[]}function r(u){return u.parent||null}function n(u){var l,c,f=r(u);if(f!=null)return e(f);for(var m=[u],g=u.prev,b=u.next;g!=null;)m.unshift(g),l=g,g=l.prev;for(;b!=null;)m.push(b),c=b,b=c.next;return m}function s(u,l){var c;return(c=u.attribs)===null||c===void 0?void 0:c[l]}function i(u,l){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,l)&&u.attribs[l]!=null}function a(u){return u.name}function o(u){for(var l,c=u.next;c!==null&&!(0,t.isTag)(c);)l=c,c=l.next;return c}function A(u){for(var l,c=u.prev;c!==null&&!(0,t.isTag)(c);)l=c,c=l.prev;return c}return jn}var Ms={},A2;function q9(){if(A2)return Ms;A2=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.removeElement=t,Ms.replaceElement=e,Ms.appendChild=r,Ms.append=n,Ms.prependChild=s,Ms.prepend=i;function t(a){if(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),a.parent){var o=a.parent.children,A=o.lastIndexOf(a);A>=0&&o.splice(A,1)}a.next=null,a.prev=null,a.parent=null}function e(a,o){var A=o.prev=a.prev;A&&(A.next=o);var u=o.next=a.next;u&&(u.prev=o);var l=o.parent=a.parent;if(l){var c=l.children;c[c.lastIndexOf(a)]=o,a.parent=null}}function r(a,o){if(t(o),o.next=null,o.parent=a,a.children.push(o)>1){var A=a.children[a.children.length-2];A.next=o,o.prev=A}else o.prev=null}function n(a,o){t(o);var A=a.parent,u=a.next;if(o.next=u,o.prev=a,a.next=o,o.parent=A,u){if(u.prev=o,A){var l=A.children;l.splice(l.lastIndexOf(u),0,o)}}else A&&A.children.push(o)}function s(a,o){if(t(o),o.parent=a,o.prev=null,a.children.unshift(o)!==1){var A=a.children[1];A.prev=o,o.next=A}else o.next=null}function i(a,o){t(o);var A=a.parent;if(A){var u=A.children;u.splice(u.indexOf(a),0,o)}a.prev&&(a.prev.next=o),o.parent=A,o.prev=a.prev,o.next=a,a.prev=o}return Ms}var Qs={},u2;function J5(){if(u2)return Qs;u2=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.filter=e,Qs.find=r,Qs.findOneChild=n,Qs.findOne=s,Qs.existsOne=i,Qs.findAll=a;var t=So();function e(o,A,u,l){return u===void 0&&(u=!0),l===void 0&&(l=1/0),r(o,Array.isArray(A)?A:[A],u,l)}function r(o,A,u,l){for(var c=[],f=[Array.isArray(A)?A:[A]],m=[0];;){if(m[0]>=f[0].length){if(m.length===1)return c;f.shift(),m.shift();continue}var g=f[0][m[0]++];if(o(g)&&(c.push(g),--l<=0))return c;u&&(0,t.hasChildren)(g)&&g.children.length>0&&(m.unshift(0),f.unshift(g.children))}}function n(o,A){return A.find(o)}function s(o,A,u){u===void 0&&(u=!0);for(var l=Array.isArray(A)?A:[A],c=0;c<l.length;c++){var f=l[c];if((0,t.isTag)(f)&&o(f))return f;if(u&&(0,t.hasChildren)(f)&&f.children.length>0){var m=s(o,f.children,!0);if(m)return m}}return null}function i(o,A){return(Array.isArray(A)?A:[A]).some(function(u){return(0,t.isTag)(u)&&o(u)||(0,t.hasChildren)(u)&&i(o,u.children)})}function a(o,A){for(var u=[],l=[Array.isArray(A)?A:[A]],c=[0];;){if(c[0]>=l[0].length){if(l.length===1)return u;l.shift(),c.shift();continue}var f=l[0][c[0]++];(0,t.isTag)(f)&&o(f)&&u.push(f),(0,t.hasChildren)(f)&&f.children.length>0&&(c.unshift(0),l.unshift(f.children))}}return Qs}var Rs={},l2;function Z5(){if(l2)return Rs;l2=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.testElement=a,Rs.getElements=o,Rs.getElementById=A,Rs.getElementsByTagName=u,Rs.getElementsByClassName=l,Rs.getElementsByTagType=c;var t=So(),e=J5(),r={tag_name:function(f){return typeof f=="function"?function(m){return(0,t.isTag)(m)&&f(m.name)}:f==="*"?t.isTag:function(m){return(0,t.isTag)(m)&&m.name===f}},tag_type:function(f){return typeof f=="function"?function(m){return f(m.type)}:function(m){return m.type===f}},tag_contains:function(f){return typeof f=="function"?function(m){return(0,t.isText)(m)&&f(m.data)}:function(m){return(0,t.isText)(m)&&m.data===f}}};function n(f,m){return typeof m=="function"?function(g){return(0,t.isTag)(g)&&m(g.attribs[f])}:function(g){return(0,t.isTag)(g)&&g.attribs[f]===m}}function s(f,m){return function(g){return f(g)||m(g)}}function i(f){var m=Object.keys(f).map(function(g){var b=f[g];return Object.prototype.hasOwnProperty.call(r,g)?r[g](b):n(g,b)});return m.length===0?null:m.reduce(s)}function a(f,m){var g=i(f);return g?g(m):!0}function o(f,m,g,b){b===void 0&&(b=1/0);var v=i(f);return v?(0,e.filter)(v,m,g,b):[]}function A(f,m,g){return g===void 0&&(g=!0),Array.isArray(m)||(m=[m]),(0,e.findOne)(n("id",f),m,g)}function u(f,m,g,b){return g===void 0&&(g=!0),b===void 0&&(b=1/0),(0,e.filter)(r.tag_name(f),m,g,b)}function l(f,m,g,b){return g===void 0&&(g=!0),b===void 0&&(b=1/0),(0,e.filter)(n("class",f),m,g,b)}function c(f,m,g,b){return g===void 0&&(g=!0),b===void 0&&(b=1/0),(0,e.filter)(r.tag_type(f),m,g,b)}return Rs}var di={},c2;function V9(){if(c2)return di;c2=1,Object.defineProperty(di,"__esModule",{value:!0}),di.DocumentPosition=void 0,di.removeSubsets=e,di.compareDocumentPosition=n,di.uniqueSort=s;var t=So();function e(i){for(var a=i.length;--a>=0;){var o=i[a];if(a>0&&i.lastIndexOf(o,a-1)>=0){i.splice(a,1);continue}for(var A=o.parent;A;A=A.parent)if(i.includes(A)){i.splice(a,1);break}}return i}var r;(function(i){i[i.DISCONNECTED=1]="DISCONNECTED",i[i.PRECEDING=2]="PRECEDING",i[i.FOLLOWING=4]="FOLLOWING",i[i.CONTAINS=8]="CONTAINS",i[i.CONTAINED_BY=16]="CONTAINED_BY"})(r||(di.DocumentPosition=r={}));function n(i,a){var o=[],A=[];if(i===a)return 0;for(var u=(0,t.hasChildren)(i)?i:i.parent;u;)o.unshift(u),u=u.parent;for(u=(0,t.hasChildren)(a)?a:a.parent;u;)A.unshift(u),u=u.parent;for(var l=Math.min(o.length,A.length),c=0;c<l&&o[c]===A[c];)c++;if(c===0)return r.DISCONNECTED;var f=o[c-1],m=f.children,g=o[c],b=A[c];return m.indexOf(g)>m.indexOf(b)?f===a?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:f===i?r.PRECEDING|r.CONTAINS:r.PRECEDING}function s(i){return i=i.filter(function(a,o,A){return!A.includes(a,o+1)}),i.sort(function(a,o){var A=n(a,o);return A&r.PRECEDING?-1:A&r.FOLLOWING?1:0}),i}return di}var Nu={},d2;function G9(){if(d2)return Nu;d2=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.getFeed=r;var t=Y5(),e=Z5();function r(f){var m=A(c,f);return m?m.name==="feed"?n(m):s(m):null}function n(f){var m,g=f.children,b={type:"atom",items:(0,e.getElementsByTagName)("entry",g).map(function(B){var C,x=B.children,E={media:o(x)};l(E,"id","id",x),l(E,"title","title",x);var D=(C=A("link",x))===null||C===void 0?void 0:C.attribs.href;D&&(E.link=D);var _=u("summary",x)||u("content",x);_&&(E.description=_);var L=u("updated",x);return L&&(E.pubDate=new Date(L)),E})};l(b,"id","id",g),l(b,"title","title",g);var v=(m=A("link",g))===null||m===void 0?void 0:m.attribs.href;v&&(b.link=v),l(b,"description","subtitle",g);var w=u("updated",g);return w&&(b.updated=new Date(w)),l(b,"author","email",g,!0),b}function s(f){var m,g,b=(g=(m=A("channel",f.children))===null||m===void 0?void 0:m.children)!==null&&g!==void 0?g:[],v={type:f.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",f.children).map(function(B){var C=B.children,x={media:o(C)};l(x,"id","guid",C),l(x,"title","title",C),l(x,"link","link",C),l(x,"description","description",C);var E=u("pubDate",C)||u("dc:date",C);return E&&(x.pubDate=new Date(E)),x})};l(v,"title","title",b),l(v,"link","link",b),l(v,"description","description",b);var w=u("lastBuildDate",b);return w&&(v.updated=new Date(w)),l(v,"author","managingEditor",b,!0),v}var i=["url","type","lang"],a=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(f){return(0,e.getElementsByTagName)("media:content",f).map(function(m){for(var g=m.attribs,b={medium:g.medium,isDefault:!!g.isDefault},v=0,w=i;v<w.length;v++){var B=w[v];g[B]&&(b[B]=g[B])}for(var C=0,x=a;C<x.length;C++){var B=x[C];g[B]&&(b[B]=parseInt(g[B],10))}return g.expression&&(b.expression=g.expression),b})}function A(f,m){return(0,e.getElementsByTagName)(f,m,!0,1)[0]}function u(f,m,g){return g===void 0&&(g=!1),(0,t.textContent)((0,e.getElementsByTagName)(f,m,g,1)).trim()}function l(f,m,g,b,v){v===void 0&&(v=!1);var w=u(g,b,v);w&&(f[m]=w)}function c(f){return f==="rss"||f==="feed"||f==="rdf:RDF"}return Nu}var h2;function W9(){return h2||(h2=1,function(t){var e=Pi&&Pi.__createBinding||(Object.create?function(s,i,a,o){o===void 0&&(o=a);var A=Object.getOwnPropertyDescriptor(i,a);(!A||("get"in A?!i.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(s,o,A)}:function(s,i,a,o){o===void 0&&(o=a),s[o]=i[a]}),r=Pi&&Pi.__exportStar||function(s,i){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,s,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(Y5(),t),r(K9(),t),r(q9(),t),r(J5(),t),r(Z5(),t),r(V9(),t),r(G9(),t);var n=So();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(Pi)),Pi}var Ur={};const Nc=L8(i9);var Ua={},f2;function ex(){if(f2)return Ua;f2=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.isTraversal=void 0;var t=Nc,e=new Map([[t.SelectorType.Universal,50],[t.SelectorType.Tag,30],[t.SelectorType.Attribute,1],[t.SelectorType.Pseudo,0]]);function r(a){return!e.has(a.type)}Ua.isTraversal=r;var n=new Map([[t.AttributeAction.Exists,10],[t.AttributeAction.Equals,8],[t.AttributeAction.Not,7],[t.AttributeAction.Start,6],[t.AttributeAction.End,6],[t.AttributeAction.Any,5]]);function s(a){for(var o=a.map(i),A=1;A<a.length;A++){var u=o[A];if(!(u<0))for(var l=A-1;l>=0&&u<o[l];l--){var c=a[l+1];a[l+1]=a[l],a[l]=c,o[l+1]=o[l],o[l]=u}}}Ua.default=s;function i(a){var o,A,u=(o=e.get(a.type))!==null&&o!==void 0?o:-1;return a.type===t.SelectorType.Attribute?(u=(A=n.get(a.action))!==null&&A!==void 0?A:4,a.action===t.AttributeAction.Equals&&a.name==="id"&&(u=9),a.ignoreCase&&(u>>=1)):a.type===t.SelectorType.Pseudo&&(a.data?a.name==="has"||a.name==="contains"?u=0:Array.isArray(a.data)?(u=Math.min.apply(Math,a.data.map(function(l){return Math.min.apply(Math,l.map(i))})),u<0&&(u=0)):u=2:u=3),u}return Ua}var Lo={},Ki={},p2;function $9(){if(p2)return Ki;p2=1;var t=Ki&&Ki.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.attributeRules=void 0;var e=t(xo()),r=/[-[\]{}()*+?.,\\^$|#\s]/g;function n(a){return a.replace(r,"\\$&")}var s=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function i(a,o){return typeof a.ignoreCase=="boolean"?a.ignoreCase:a.ignoreCase==="quirks"?!!o.quirksMode:!o.xmlMode&&s.has(a.name)}return Ki.attributeRules={equals:function(a,o,A){var u=A.adapter,l=o.name,c=o.value;return i(o,A)?(c=c.toLowerCase(),function(f){var m=u.getAttributeValue(f,l);return m!=null&&m.length===c.length&&m.toLowerCase()===c&&a(f)}):function(f){return u.getAttributeValue(f,l)===c&&a(f)}},hyphen:function(a,o,A){var u=A.adapter,l=o.name,c=o.value,f=c.length;return i(o,A)?(c=c.toLowerCase(),function(g){var b=u.getAttributeValue(g,l);return b!=null&&(b.length===f||b.charAt(f)==="-")&&b.substr(0,f).toLowerCase()===c&&a(g)}):function(g){var b=u.getAttributeValue(g,l);return b!=null&&(b.length===f||b.charAt(f)==="-")&&b.substr(0,f)===c&&a(g)}},element:function(a,o,A){var u=A.adapter,l=o.name,c=o.value;if(/\s/.test(c))return e.default.falseFunc;var f=new RegExp("(?:^|\\s)".concat(n(c),"(?:$|\\s)"),i(o,A)?"i":"");return function(g){var b=u.getAttributeValue(g,l);return b!=null&&b.length>=c.length&&f.test(b)&&a(g)}},exists:function(a,o,A){var u=o.name,l=A.adapter;return function(c){return l.hasAttrib(c,u)&&a(c)}},start:function(a,o,A){var u=A.adapter,l=o.name,c=o.value,f=c.length;return f===0?e.default.falseFunc:i(o,A)?(c=c.toLowerCase(),function(m){var g=u.getAttributeValue(m,l);return g!=null&&g.length>=f&&g.substr(0,f).toLowerCase()===c&&a(m)}):function(m){var g;return!!(!((g=u.getAttributeValue(m,l))===null||g===void 0)&&g.startsWith(c))&&a(m)}},end:function(a,o,A){var u=A.adapter,l=o.name,c=o.value,f=-c.length;return f===0?e.default.falseFunc:i(o,A)?(c=c.toLowerCase(),function(m){var g;return((g=u.getAttributeValue(m,l))===null||g===void 0?void 0:g.substr(f).toLowerCase())===c&&a(m)}):function(m){var g;return!!(!((g=u.getAttributeValue(m,l))===null||g===void 0)&&g.endsWith(c))&&a(m)}},any:function(a,o,A){var u=A.adapter,l=o.name,c=o.value;if(c==="")return e.default.falseFunc;if(i(o,A)){var f=new RegExp(n(c),"i");return function(g){var b=u.getAttributeValue(g,l);return b!=null&&b.length>=c.length&&f.test(b)&&a(g)}}return function(m){var g;return!!(!((g=u.getAttributeValue(m,l))===null||g===void 0)&&g.includes(c))&&a(m)}},not:function(a,o,A){var u=A.adapter,l=o.name,c=o.value;return c===""?function(f){return!!u.getAttributeValue(f,l)&&a(f)}:i(o,A)?(c=c.toLowerCase(),function(f){var m=u.getAttributeValue(f,l);return(m==null||m.length!==c.length||m.toLowerCase()!==c)&&a(f)}):function(f){return u.getAttributeValue(f,l)!==c&&a(f)}}},Ki}var nd={},Ho={},sd={},Po={},g2;function X9(){if(g2)return Po;g2=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.parse=void 0;var t=new Set([9,10,12,13,32]),e=48,r=57;function n(s){if(s=s.trim().toLowerCase(),s==="even")return[2,0];if(s==="odd")return[2,1];var i=0,a=0,o=u(),A=l();if(i<s.length&&s.charAt(i)==="n"&&(i++,a=o*(A??1),c(),i<s.length?(o=u(),c(),A=l()):o=A=0),A===null||i<s.length)throw new Error("n-th rule couldn't be parsed ('".concat(s,"')"));return[a,o*A];function u(){return s.charAt(i)==="-"?(i++,-1):(s.charAt(i)==="+"&&i++,1)}function l(){for(var f=i,m=0;i<s.length&&s.charCodeAt(i)>=e&&s.charCodeAt(i)<=r;)m=m*10+(s.charCodeAt(i)-e),i++;return i===f?null:m}function c(){for(;i<s.length&&t.has(s.charCodeAt(i));)i++}}return Po.parse=n,Po}var Os={},m2;function Y9(){if(m2)return Os;m2=1;var t=Os&&Os.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Os,"__esModule",{value:!0}),Os.generate=Os.compile=void 0;var e=t(xo());function r(s){var i=s[0],a=s[1]-1;if(a<0&&i<=0)return e.default.falseFunc;if(i===-1)return function(u){return u<=a};if(i===0)return function(u){return u===a};if(i===1)return a<0?e.default.trueFunc:function(u){return u>=a};var o=Math.abs(i),A=(a%o+o)%o;return i>1?function(u){return u>=a&&u%o===A}:function(u){return u<=a&&u%o===A}}Os.compile=r;function n(s){var i=s[0],a=s[1]-1,o=0;if(i<0){var A=-i,u=(a%A+A)%A;return function(){var l=u+A*o++;return l>a?null:l}}return i===0?a<0?function(){return null}:function(){return o++===0?a:null}:(a<0&&(a+=i*Math.ceil(-a/i)),function(){return i*o+++a})}return Os.generate=n,Os}var b2;function J9(){return b2||(b2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sequence=t.generate=t.compile=t.parse=void 0;var e=X9();Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return e.parse}});var r=Y9();Object.defineProperty(t,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return r.generate}});function n(i){return(0,r.compile)((0,e.parse)(i))}t.default=n;function s(i){return(0,r.generate)((0,e.parse)(i))}t.sequence=s}(sd)),sd}var w2;function Z9(){return w2||(w2=1,function(t){var e=Ho&&Ho.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.filters=void 0;var r=e(J9()),n=e(xo());function s(a,o){return function(A){var u=o.getParent(A);return u!=null&&o.isTag(u)&&a(A)}}t.filters={contains:function(a,o,A){var u=A.adapter;return function(c){return a(c)&&u.getText(c).includes(o)}},icontains:function(a,o,A){var u=A.adapter,l=o.toLowerCase();return function(f){return a(f)&&u.getText(f).toLowerCase().includes(l)}},"nth-child":function(a,o,A){var u=A.adapter,l=A.equals,c=(0,r.default)(o);return c===n.default.falseFunc?n.default.falseFunc:c===n.default.trueFunc?s(a,u):function(m){for(var g=u.getSiblings(m),b=0,v=0;v<g.length&&!l(m,g[v]);v++)u.isTag(g[v])&&b++;return c(b)&&a(m)}},"nth-last-child":function(a,o,A){var u=A.adapter,l=A.equals,c=(0,r.default)(o);return c===n.default.falseFunc?n.default.falseFunc:c===n.default.trueFunc?s(a,u):function(m){for(var g=u.getSiblings(m),b=0,v=g.length-1;v>=0&&!l(m,g[v]);v--)u.isTag(g[v])&&b++;return c(b)&&a(m)}},"nth-of-type":function(a,o,A){var u=A.adapter,l=A.equals,c=(0,r.default)(o);return c===n.default.falseFunc?n.default.falseFunc:c===n.default.trueFunc?s(a,u):function(m){for(var g=u.getSiblings(m),b=0,v=0;v<g.length;v++){var w=g[v];if(l(m,w))break;u.isTag(w)&&u.getName(w)===u.getName(m)&&b++}return c(b)&&a(m)}},"nth-last-of-type":function(a,o,A){var u=A.adapter,l=A.equals,c=(0,r.default)(o);return c===n.default.falseFunc?n.default.falseFunc:c===n.default.trueFunc?s(a,u):function(m){for(var g=u.getSiblings(m),b=0,v=g.length-1;v>=0;v--){var w=g[v];if(l(m,w))break;u.isTag(w)&&u.getName(w)===u.getName(m)&&b++}return c(b)&&a(m)}},root:function(a,o,A){var u=A.adapter;return function(l){var c=u.getParent(l);return(c==null||!u.isTag(c))&&a(l)}},scope:function(a,o,A,u){var l=A.equals;return!u||u.length===0?t.filters.root(a,o,A):u.length===1?function(c){return l(u[0],c)&&a(c)}:function(c){return u.includes(c)&&a(c)}},hover:i("isHovered"),visited:i("isVisited"),active:i("isActive")};function i(a){return function(A,u,l){var c=l.adapter,f=c[a];return typeof f!="function"?n.default.falseFunc:function(g){return f(g)&&A(g)}}}}(Ho)),Ho}var qi={},y2;function eS(){if(y2)return qi;y2=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.verifyPseudoArgs=qi.pseudos=void 0,qi.pseudos={empty:function(e,r){var n=r.adapter;return!n.getChildren(e).some(function(s){return n.isTag(s)||n.getText(s)!==""})},"first-child":function(e,r){var n=r.adapter,s=r.equals;if(n.prevElementSibling)return n.prevElementSibling(e)==null;var i=n.getSiblings(e).find(function(a){return n.isTag(a)});return i!=null&&s(e,i)},"last-child":function(e,r){for(var n=r.adapter,s=r.equals,i=n.getSiblings(e),a=i.length-1;a>=0;a--){if(s(e,i[a]))return!0;if(n.isTag(i[a]))break}return!1},"first-of-type":function(e,r){for(var n=r.adapter,s=r.equals,i=n.getSiblings(e),a=n.getName(e),o=0;o<i.length;o++){var A=i[o];if(s(e,A))return!0;if(n.isTag(A)&&n.getName(A)===a)break}return!1},"last-of-type":function(e,r){for(var n=r.adapter,s=r.equals,i=n.getSiblings(e),a=n.getName(e),o=i.length-1;o>=0;o--){var A=i[o];if(s(e,A))return!0;if(n.isTag(A)&&n.getName(A)===a)break}return!1},"only-of-type":function(e,r){var n=r.adapter,s=r.equals,i=n.getName(e);return n.getSiblings(e).every(function(a){return s(e,a)||!n.isTag(a)||n.getName(a)!==i})},"only-child":function(e,r){var n=r.adapter,s=r.equals;return n.getSiblings(e).every(function(i){return s(e,i)||!n.isTag(i)})}};function t(e,r,n,s){if(n===null){if(e.length>s)throw new Error("Pseudo-class :".concat(r," requires an argument"))}else if(e.length===s)throw new Error("Pseudo-class :".concat(r," doesn't have any arguments"))}return qi.verifyPseudoArgs=t,qi}var jo={},x2;function tS(){return x2||(x2=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.aliases=void 0,jo.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),jo}var Vi={},v2;function lg(){return v2||(v2=1,function(t){var e=Vi&&Vi.__spreadArray||function(u,l,c){if(c||arguments.length===2)for(var f=0,m=l.length,g;f<m;f++)(g||!(f in l))&&(g||(g=Array.prototype.slice.call(l,0,f)),g[f]=l[f]);return u.concat(g||Array.prototype.slice.call(l))},r=Vi&&Vi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.subselects=t.getNextSiblings=t.ensureIsTag=t.PLACEHOLDER_ELEMENT=void 0;var n=r(xo()),s=ex();t.PLACEHOLDER_ELEMENT={};function i(u,l){return u===n.default.falseFunc?n.default.falseFunc:function(c){return l.isTag(c)&&u(c)}}t.ensureIsTag=i;function a(u,l){var c=l.getSiblings(u);if(c.length<=1)return[];var f=c.indexOf(u);return f<0||f===c.length-1?[]:c.slice(f+1).filter(l.isTag)}t.getNextSiblings=a;function o(u){return{xmlMode:!!u.xmlMode,lowerCaseAttributeNames:!!u.lowerCaseAttributeNames,lowerCaseTags:!!u.lowerCaseTags,quirksMode:!!u.quirksMode,cacheResults:!!u.cacheResults,pseudos:u.pseudos,adapter:u.adapter,equals:u.equals}}var A=function(u,l,c,f,m){var g=m(l,o(c),f);return g===n.default.trueFunc?u:g===n.default.falseFunc?n.default.falseFunc:function(b){return g(b)&&u(b)}};t.subselects={is:A,matches:A,where:A,not:function(u,l,c,f,m){var g=m(l,o(c),f);return g===n.default.falseFunc?u:g===n.default.trueFunc?n.default.falseFunc:function(b){return!g(b)&&u(b)}},has:function(u,l,c,f,m){var g=c.adapter,b=o(c);b.relativeSelector=!0;var v=l.some(function(E){return E.some(s.isTraversal)})?[t.PLACEHOLDER_ELEMENT]:void 0,w=m(l,b,v);if(w===n.default.falseFunc)return n.default.falseFunc;var B=i(w,g);if(v&&w!==n.default.trueFunc){var C=w.shouldTestNextSiblings,x=C===void 0?!1:C;return function(E){if(!u(E))return!1;v[0]=E;var D=g.getChildren(E),_=x?e(e([],D,!0),a(E,g),!0):D;return g.existsOne(B,_)}}return function(E){return u(E)&&g.existsOne(B,g.getChildren(E))}}}}(Vi)),Vi}var B2;function tx(){return B2||(B2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compilePseudoSelector=t.aliases=t.pseudos=t.filters=void 0;var e=Nc,r=Z9();Object.defineProperty(t,"filters",{enumerable:!0,get:function(){return r.filters}});var n=eS();Object.defineProperty(t,"pseudos",{enumerable:!0,get:function(){return n.pseudos}});var s=tS();Object.defineProperty(t,"aliases",{enumerable:!0,get:function(){return s.aliases}});var i=lg();function a(o,A,u,l,c){var f,m=A.name,g=A.data;if(Array.isArray(g)){if(!(m in i.subselects))throw new Error("Unknown pseudo-class :".concat(m,"(").concat(g,")"));return i.subselects[m](o,g,u,l,c)}var b=(f=u.pseudos)===null||f===void 0?void 0:f[m],v=typeof b=="string"?b:s.aliases[m];if(typeof v=="string"){if(g!=null)throw new Error("Pseudo ".concat(m," doesn't have any arguments"));var w=(0,e.parse)(v);return i.subselects.is(o,w,u,l,c)}if(typeof b=="function")return(0,n.verifyPseudoArgs)(b,m,g,1),function(C){return b(C,g)&&o(C)};if(m in r.filters)return r.filters[m](o,g,u,l);if(m in n.pseudos){var B=n.pseudos[m];return(0,n.verifyPseudoArgs)(B,m,g,2),function(C){return B(C,u,g)&&o(C)}}throw new Error("Unknown pseudo-class :".concat(m))}t.compilePseudoSelector=a}(nd)),nd}var C2;function rS(){if(C2)return Lo;C2=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.compileGeneralSelector=void 0;var t=$9(),e=tx(),r=Nc;function n(i,a){var o=a.getParent(i);return o&&a.isTag(o)?o:null}function s(i,a,o,A,u){var l=o.adapter,c=o.equals;switch(a.type){case r.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case r.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case r.SelectorType.Attribute:{if(a.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!o.xmlMode||o.lowerCaseAttributeNames)&&(a.name=a.name.toLowerCase()),t.attributeRules[a.action](i,a,o)}case r.SelectorType.Pseudo:return(0,e.compilePseudoSelector)(i,a,o,A,u);case r.SelectorType.Tag:{if(a.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var f=a.name;return(!o.xmlMode||o.lowerCaseTags)&&(f=f.toLowerCase()),function(b){return l.getName(b)===f&&i(b)}}case r.SelectorType.Descendant:{if(o.cacheResults===!1||typeof WeakSet>"u")return function(b){for(var v=b;v=n(v,l);)if(i(v))return!0;return!1};var m=new WeakSet;return function(b){for(var v=b;v=n(v,l);)if(!m.has(v)){if(l.isTag(v)&&i(v))return!0;m.add(v)}return!1}}case"_flexibleDescendant":return function(b){var v=b;do if(i(v))return!0;while(v=n(v,l));return!1};case r.SelectorType.Parent:return function(b){return l.getChildren(b).some(function(v){return l.isTag(v)&&i(v)})};case r.SelectorType.Child:return function(b){var v=l.getParent(b);return v!=null&&l.isTag(v)&&i(v)};case r.SelectorType.Sibling:return function(b){for(var v=l.getSiblings(b),w=0;w<v.length;w++){var B=v[w];if(c(b,B))break;if(l.isTag(B)&&i(B))return!0}return!1};case r.SelectorType.Adjacent:return l.prevElementSibling?function(b){var v=l.prevElementSibling(b);return v!=null&&i(v)}:function(b){for(var v=l.getSiblings(b),w,B=0;B<v.length;B++){var C=v[B];if(c(b,C))break;l.isTag(C)&&(w=C)}return!!w&&i(w)};case r.SelectorType.Universal:{if(a.namespace!=null&&a.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return i}}}return Lo.compileGeneralSelector=s,Lo}var E2;function nS(){if(E2)return Ur;E2=1;var t=Ur&&Ur.__createBinding||(Object.create?function(C,x,E,D){D===void 0&&(D=E);var _=Object.getOwnPropertyDescriptor(x,E);(!_||("get"in _?!x.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return x[E]}}),Object.defineProperty(C,D,_)}:function(C,x,E,D){D===void 0&&(D=E),C[D]=x[E]}),e=Ur&&Ur.__setModuleDefault||(Object.create?function(C,x){Object.defineProperty(C,"default",{enumerable:!0,value:x})}:function(C,x){C.default=x}),r=Ur&&Ur.__importStar||function(C){if(C&&C.__esModule)return C;var x={};if(C!=null)for(var E in C)E!=="default"&&Object.prototype.hasOwnProperty.call(C,E)&&t(x,C,E);return e(x,C),x},n=Ur&&Ur.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.compileToken=Ur.compileUnsafe=Ur.compile=void 0;var s=Nc,i=n(xo()),a=r(ex()),o=rS(),A=lg();function u(C,x,E){var D=l(C,x,E);return(0,A.ensureIsTag)(D,x.adapter)}Ur.compile=u;function l(C,x,E){var D=typeof C=="string"?(0,s.parse)(C):C;return v(D,x,E)}Ur.compileUnsafe=l;function c(C){return C.type===s.SelectorType.Pseudo&&(C.name==="scope"||Array.isArray(C.data)&&C.data.some(function(x){return x.some(c)}))}var f={type:s.SelectorType.Descendant},m={type:"_flexibleDescendant"},g={type:s.SelectorType.Pseudo,name:"scope",data:null};function b(C,x,E){for(var D=x.adapter,_=!!E?.every(function(W){var Q=D.isTag(W)&&D.getParent(W);return W===A.PLACEHOLDER_ELEMENT||Q&&D.isTag(Q)}),L=0,I=C;L<I.length;L++){var G=I[L];if(!(G.length>0&&(0,a.isTraversal)(G[0])&&G[0].type!==s.SelectorType.Descendant))if(_&&!G.some(c))G.unshift(f);else continue;G.unshift(g)}}function v(C,x,E){var D;C.forEach(a.default),E=(D=x.context)!==null&&D!==void 0?D:E;var _=Array.isArray(E),L=E&&(Array.isArray(E)?E:[E]);if(x.relativeSelector!==!1)b(C,x,L);else if(C.some(function(W){return W.length>0&&(0,a.isTraversal)(W[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var I=!1,G=C.map(function(W){if(W.length>=2){var Q=W[0],j=W[1];Q.type!==s.SelectorType.Pseudo||Q.name!=="scope"||(_&&j.type===s.SelectorType.Descendant?W[1]=m:(j.type===s.SelectorType.Adjacent||j.type===s.SelectorType.Sibling)&&(I=!0))}return w(W,x,L)}).reduce(B,i.default.falseFunc);return G.shouldTestNextSiblings=I,G}Ur.compileToken=v;function w(C,x,E){var D;return C.reduce(function(_,L){return _===i.default.falseFunc?i.default.falseFunc:(0,o.compileGeneralSelector)(_,L,x,E,v)},(D=x.rootFunc)!==null&&D!==void 0?D:i.default.trueFunc)}function B(C,x){return x===i.default.falseFunc||C===i.default.trueFunc?C:C===i.default.falseFunc||x===i.default.trueFunc?x:function(D){return C(D)||x(D)}}return Ur}var S2;function sS(){return S2||(S2=1,function(t){var e=Hn&&Hn.__createBinding||(Object.create?function(B,C,x,E){E===void 0&&(E=x);var D=Object.getOwnPropertyDescriptor(C,x);(!D||("get"in D?!C.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return C[x]}}),Object.defineProperty(B,E,D)}:function(B,C,x,E){E===void 0&&(E=x),B[E]=C[x]}),r=Hn&&Hn.__setModuleDefault||(Object.create?function(B,C){Object.defineProperty(B,"default",{enumerable:!0,value:C})}:function(B,C){B.default=C}),n=Hn&&Hn.__importStar||function(B){if(B&&B.__esModule)return B;var C={};if(B!=null)for(var x in B)x!=="default"&&Object.prototype.hasOwnProperty.call(B,x)&&e(C,B,x);return r(C,B),C},s=Hn&&Hn.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(t,"__esModule",{value:!0}),t.aliases=t.pseudos=t.filters=t.is=t.selectOne=t.selectAll=t.prepareContext=t._compileToken=t._compileUnsafe=t.compile=void 0;var i=n(W9()),a=s(xo()),o=nS(),A=lg(),u=function(B,C){return B===C},l={adapter:i,equals:u};function c(B){var C,x,E,D,_=B??l;return(C=_.adapter)!==null&&C!==void 0||(_.adapter=i),(x=_.equals)!==null&&x!==void 0||(_.equals=(D=(E=_.adapter)===null||E===void 0?void 0:E.equals)!==null&&D!==void 0?D:u),_}function f(B){return function(x,E,D){var _=c(E);return B(x,_,D)}}t.compile=f(o.compile),t._compileUnsafe=f(o.compileUnsafe),t._compileToken=f(o.compileToken);function m(B){return function(x,E,D){var _=c(D);typeof x!="function"&&(x=(0,o.compileUnsafe)(x,_,E));var L=g(E,_.adapter,x.shouldTestNextSiblings);return B(x,L,_)}}function g(B,C,x){return x===void 0&&(x=!1),x&&(B=b(B,C)),Array.isArray(B)?C.removeSubsets(B):C.getChildren(B)}t.prepareContext=g;function b(B,C){for(var x=Array.isArray(B)?B.slice(0):[B],E=x.length,D=0;D<E;D++){var _=(0,A.getNextSiblings)(x[D],C);x.push.apply(x,_)}return x}t.selectAll=m(function(B,C,x){return B===a.default.falseFunc||!C||C.length===0?[]:x.adapter.findAll(B,C)}),t.selectOne=m(function(B,C,x){return B===a.default.falseFunc||!C||C.length===0?null:x.adapter.findOne(B,C)});function v(B,C,x){var E=c(x);return(typeof C=="function"?C:(0,o.compile)(C,E))(B)}t.is=v,t.default=t.selectAll;var w=tx();Object.defineProperty(t,"filters",{enumerable:!0,get:function(){return w.filters}}),Object.defineProperty(t,"pseudos",{enumerable:!0,get:function(){return w.pseudos}}),Object.defineProperty(t,"aliases",{enumerable:!0,get:function(){return w.aliases}})}(Hn)),Hn}var Lu={},T2;function iS(){if(T2)return Lu;T2=1,Object.defineProperty(Lu,"__esModule",{value:!0});function t(e){return e[e.length-1]}return Lu.default=t,Lu}var Ma={},F2;function aS(){if(F2)return Ma;F2=1;var t=Ma&&Ma.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Ma,"__esModule",{value:!0});const e=t(YA());function r(g){return g&&g.nodeType===e.default.ELEMENT_NODE}function n(g,b){return r(g)?g.getAttribute(b):void 0}function s(g){return(g&&g.rawTagName||"").toLowerCase()}function i(g){return g&&g.childNodes}function a(g){return g?g.parentNode:null}function o(g){return g.text}function A(g){let b=g.length,v,w,B;for(;--b>-1;){for(v=w=g[b],g[b]=null,B=!0;w;){if(g.indexOf(w)>-1){B=!1,g.splice(b,1);break}w=a(w)}B&&(g[b]=v)}return g}function u(g,b){return b.some(v=>r(v)?g(v)||u(g,i(v)):!1)}function l(g){const b=a(g);return b?i(b):[]}function c(g,b){return n(g,b)!==void 0}function f(g,b){let v=null;for(let w=0,B=b?.length;w<B&&!v;w++){const C=b[w];if(g(C))v=C;else{const x=i(C);x&&x.length>0&&(v=f(g,x))}}return v}function m(g,b){let v=[];for(let w=0,B=b.length;w<B;w++){if(!r(b[w]))continue;g(b[w])&&v.push(b[w]);const C=i(b[w]);C&&(v=v.concat(m(g,C)))}return v}return Ma.default={isTag:r,getAttributeValue:n,getName:s,getChildren:i,getParent:a,getText:o,removeSubsets:A,existsOne:u,getSiblings:l,hasAttrib:c,findOne:f,findAll:m},Ma}var Hu={},D2;function oS(){if(D2)return Hu;D2=1,Object.defineProperty(Hu,"__esModule",{value:!0});class t{constructor(r=!1,n){this.addClosingSlash=r,Array.isArray(n)?this.voidTags=n.reduce((s,i)=>s.add(i.toLowerCase()).add(i.toUpperCase()).add(i),new Set):this.voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].reduce((s,i)=>s.add(i.toLowerCase()).add(i.toUpperCase()).add(i),new Set)}formatNode(r,n,s){const i=this.addClosingSlash,a=i&&n&&!n.endsWith(" ")?" ":"",o=i?`${a}/`:"";return this.isVoidElement(r.toLowerCase())?`<${r}${n}${o}>`:`<${r}${n}>${s}</${r}>`}isVoidElement(r){return this.voidTags.has(r)}}return Hu.default=t,Hu}var Qa={},k2;function rx(){if(k2)return Qa;k2=1;var t=Qa&&Qa.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qa,"__esModule",{value:!0});const e=ug(),r=t(Rc()),n=t(YA());class s extends r.default{clone(){return new s(this._rawText,null)}constructor(o,A=null,u){super(A,u),this.nodeType=n.default.TEXT_NODE,this.rawTagName="",this._rawText=o}get rawText(){return this._rawText}set rawText(o){this._rawText=o,this._trimmedRawText=void 0,this._trimmedText=void 0}get trimmedRawText(){return this._trimmedRawText!==void 0?this._trimmedRawText:(this._trimmedRawText=i(this.rawText),this._trimmedRawText)}get trimmedText(){return this._trimmedText!==void 0?this._trimmedText:(this._trimmedText=i(this.text),this._trimmedText)}get text(){return(0,e.decode)(this.rawText)}get isWhitespace(){return/^(\s|&nbsp;)*$/.test(this.rawText)}toString(){return this.rawText}}Qa.default=s;function i(a){let o=0,A,u;for(;o>=0&&o<a.length;)/\S/.test(a[o])&&(A===void 0?(A=o,o=a.length):(u=o,o=void 0)),A===void 0?o++:o--;A===void 0&&(A=0),u===void 0&&(u=a.length-1);const l=A>0&&/[^\S\r\n]/.test(a[A-1]),c=u<a.length-1&&/[^\S\r\n]/.test(a[u+1]);return(l?" ":"")+a.slice(A,u+1)+(c?" ":"")}return Qa}var I2;function cg(){if(I2)return ns;I2=1;var t=ns&&ns.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(ns,"__esModule",{value:!0}),ns.parse=ns.base_parse=void 0;const e=sS(),r=t(ug()),n=t(iS()),s=t(aS()),i=t(oS()),a=t(X5()),o=t(Rc()),A=t(rx()),u=t(YA());function l(j){return JSON.parse(JSON.stringify(r.default.decode(j)))}const c=["h1","h2","h3","h4","h5","h6","header","hgroup"],f=["details","dialog","dd","div","dt"],m=["fieldset","figcaption","figure","footer","form"],g=["table","td","tr"],b=["address","article","aside","blockquote","br","hr","li","main","nav","ol","p","pre","section","ul"],v=new Set;function w(...j){const T=V=>{for(let J=0;J<V.length;J++){const Y=V[J];v.add(Y),v.add(Y.toUpperCase())}};for(const V of j)T(V)}w(c,f,m,g,b);class B{_validate(T){if(/\s/.test(T))throw new Error(`DOMException in DOMTokenList.add: The token '${T}' contains HTML space characters, which are not valid in tokens.`)}constructor(T=[],V=()=>null){this._set=new Set(T),this._afterUpdate=V}add(T){this._validate(T),this._set.add(T),this._afterUpdate(this)}replace(T,V){this._validate(V),this._set.delete(T),this._set.add(V),this._afterUpdate(this)}remove(T){this._set.delete(T)&&this._afterUpdate(this)}toggle(T){this._validate(T),this._set.has(T)?this._set.delete(T):this._set.add(T),this._afterUpdate(this)}contains(T){return this._set.has(T)}get length(){return this._set.size}values(){return this._set.values()}get value(){return Array.from(this._set.values())}toString(){return Array.from(this._set.values()).join(" ")}}class C extends o.default{quoteAttribute(T){return T==null?"null":JSON.stringify(T.replace(/"/g,"&quot;")).replace(/\\t/g,"	").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\/g,"")}constructor(T,V,J="",Y=null,oe,re=new i.default,pe={}){if(super(Y,oe),this.rawAttrs=J,this.voidTag=re,this.nodeType=u.default.ELEMENT_NODE,this.rawTagName=T,this.rawAttrs=J||"",this.id=V.id||"",this.childNodes=[],this._parseOptions=pe,this.classList=new B(V.class?V.class.split(/\s+/):[],te=>this.setAttribute("class",te.toString())),V.id&&(J||(this.rawAttrs=`id="${V.id}"`)),V.class&&!J){const te=`class="${this.classList.toString()}"`;this.rawAttrs?this.rawAttrs+=` ${te}`:this.rawAttrs=te}}removeChild(T){return this.childNodes=this.childNodes.filter(V=>V!==T),this}exchangeChild(T,V){const J=this.childNodes;return this.childNodes=J.map(Y=>Y===T?V:Y),this}get tagName(){return this.rawTagName?this.rawTagName.toUpperCase():this.rawTagName}set tagName(T){this.rawTagName=T.toLowerCase()}get localName(){return this.rawTagName.toLowerCase()}get isVoidElement(){return this.voidTag.isVoidElement(this.localName)}get rawText(){return/^br$/i.test(this.rawTagName)?`
`:this.childNodes.reduce((T,V)=>T+=V.rawText,"")}get textContent(){return l(this.rawText)}set textContent(T){const V=[new A.default(T,this)];this.childNodes=V}get text(){return l(this.rawText)}get structuredText(){let T=[];const V=[T];function J(Y){if(Y.nodeType===u.default.ELEMENT_NODE)v.has(Y.rawTagName)?(T.length>0&&V.push(T=[]),Y.childNodes.forEach(J),T.length>0&&V.push(T=[])):Y.childNodes.forEach(J);else if(Y.nodeType===u.default.TEXT_NODE)if(Y.isWhitespace)T.prependWhitespace=!0;else{let oe=Y.trimmedText;T.prependWhitespace&&(oe=` ${oe}`,T.prependWhitespace=!1),T.push(oe)}}return J(this),V.map(Y=>Y.join("").replace(/\s{2,}/g," ")).join(`
`).replace(/\s+$/,"")}toString(){const T=this.rawTagName;if(T){const V=this.rawAttrs?` ${this.rawAttrs}`:"";return this.voidTag.formatNode(T,V,this.innerHTML)}return this.innerHTML}get innerHTML(){return this.childNodes.map(T=>T.toString()).join("")}set innerHTML(T){const V=G(T,this._parseOptions),J=V.childNodes.length?V.childNodes:[new A.default(T,this)];Q(J,this),Q(this.childNodes,null),this.childNodes=J}set_content(T,V={}){if(T instanceof o.default)T=[T];else if(typeof T=="string"){V=Object.assign(Object.assign({},this._parseOptions),V);const J=G(T,V);T=J.childNodes.length?J.childNodes:[new A.default(J.innerHTML,this)]}return Q(this.childNodes,null),Q(T,this),this.childNodes=T,this}replaceWith(...T){const V=this.parentNode,J=T.map(oe=>{if(oe instanceof o.default)return[oe];if(typeof oe=="string"){const re=G(oe,this._parseOptions);return re.childNodes.length?re.childNodes:[new A.default(oe,this)]}return[]}).flat(),Y=V.childNodes.findIndex(oe=>oe===this);return Q([this],null),V.childNodes=[...V.childNodes.slice(0,Y),...Q(J,V),...V.childNodes.slice(Y+1)],this}get outerHTML(){return this.toString()}trimRight(T){for(let V=0;V<this.childNodes.length;V++){const J=this.childNodes[V];if(J.nodeType===u.default.ELEMENT_NODE)J.trimRight(T);else{const Y=J.rawText.search(T);Y>-1&&(J.rawText=J.rawText.substr(0,Y),this.childNodes.length=V+1)}}return this}get structure(){const T=[];let V=0;function J(oe){T.push("  ".repeat(V)+oe)}function Y(oe){const re=oe.id?`#${oe.id}`:"",pe=oe.classList.length?`.${oe.classList.value.join(".")}`:"";J(`${oe.rawTagName}${re}${pe}`),V++,oe.childNodes.forEach(te=>{te.nodeType===u.default.ELEMENT_NODE?Y(te):te.nodeType===u.default.TEXT_NODE&&(te.isWhitespace||J("#text"))}),V--}return Y(this),T.join(`
`)}removeWhitespace(){let T=0;this.childNodes.forEach(J=>{if(J.nodeType===u.default.TEXT_NODE){if(J.isWhitespace)return;J.rawText=J.trimmedRawText}else J.nodeType===u.default.ELEMENT_NODE&&J.removeWhitespace();this.childNodes[T++]=J}),this.childNodes.length=T;const V=Object.keys(this.rawAttributes).map(J=>{const Y=this.rawAttributes[J];return`${J}=${JSON.stringify(Y)}`}).join(" ");return this.rawAttrs=V,delete this._rawAttrs,this}querySelectorAll(T){return(0,e.selectAll)(T,this,{xmlMode:!0,adapter:s.default})}querySelector(T){return(0,e.selectOne)(T,this,{xmlMode:!0,adapter:s.default})}getElementsByTagName(T){const V=T.toUpperCase(),J=[],Y=[];let oe=this,re=0;for(;re!==void 0;){let pe;do pe=oe.childNodes[re++];while(re<oe.childNodes.length&&pe===void 0);if(pe===void 0){oe=oe.parentNode,re=Y.pop();continue}pe.nodeType===u.default.ELEMENT_NODE&&((T==="*"||pe.tagName===V)&&J.push(pe),pe.childNodes.length>0&&(Y.push(re),oe=pe,re=0))}return J}getElementById(T){const V=[];let J=this,Y=0;for(;Y!==void 0;){let oe;do oe=J.childNodes[Y++];while(Y<J.childNodes.length&&oe===void 0);if(oe===void 0){J=J.parentNode,Y=V.pop();continue}if(oe.nodeType===u.default.ELEMENT_NODE){if(oe.id===T)return oe;oe.childNodes.length>0&&(V.push(Y),J=oe,Y=0)}}return null}closest(T){const V=new Map;let J=this,Y=null;function oe(re,pe){let te=null;for(let $=0,he=pe.length;$<he&&!te;$++){const me=pe[$];if(re(me))te=me;else{const ye=V.get(me);ye&&(te=oe(re,[ye]))}}return te}for(;J;)V.set(J,Y),Y=J,J=J.parentNode;for(J=this;J;){const re=(0,e.selectOne)(T,J,{xmlMode:!0,adapter:Object.assign(Object.assign({},s.default),{getChildren(pe){const te=V.get(pe);return te&&[te]},getSiblings(pe){return[pe]},findOne:oe,findAll(){return[]}})});if(re)return re;J=J.parentNode}return null}appendChild(T){return this.append(T),T}get attrs(){if(this._attrs)return this._attrs;this._attrs={};const T=this.rawAttributes;for(const V in T){const J=T[V]||"";this._attrs[V.toLowerCase()]=l(J)}return this._attrs}get attributes(){const T={},V=this.rawAttributes;for(const J in V){const Y=V[J]||"";T[J]=l(Y)}return T}get rawAttributes(){if(this._rawAttrs)return this._rawAttrs;const T={};if(this.rawAttrs){const V=/([a-zA-Z()[\]#@$.?:][a-zA-Z0-9-._:()[\]#]*)(?:\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+))?/g;let J;for(;J=V.exec(this.rawAttrs);){const Y=J[1];let oe=J[2]||null;oe&&(oe[0]==="'"||oe[0]==='"')&&(oe=oe.slice(1,oe.length-1)),T[Y]=T[Y]||oe}}return this._rawAttrs=T,T}removeAttribute(T){const V=this.rawAttributes;return delete V[T],this._attrs&&delete this._attrs[T],this.rawAttrs=Object.keys(V).map(J=>{const Y=this.quoteAttribute(V[J]);return Y==="null"||Y==='""'?J:`${J}=${Y}`}).join(" "),T==="id"&&(this.id=""),this}hasAttribute(T){return T.toLowerCase()in this.attrs}getAttribute(T){return this.attrs[T.toLowerCase()]}setAttribute(T,V){if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");const J=T.toLowerCase(),Y=this.rawAttributes;for(const oe in Y)if(oe.toLowerCase()===J){T=oe;break}return Y[T]=String(V),this._attrs&&(this._attrs[J]=l(Y[T])),this.rawAttrs=Object.keys(Y).map(oe=>{const re=this.quoteAttribute(Y[oe]);return re==="null"||re==='""'?oe:`${oe}=${re}`}).join(" "),T==="id"&&(this.id=V),this}setAttributes(T){return this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(T).map(V=>{const J=T[V];return J==="null"||J==='""'?V:`${V}=${this.quoteAttribute(String(J))}`}).join(" "),this}insertAdjacentHTML(T,V){if(arguments.length<2)throw new Error("2 arguments required");const J=G(V,this._parseOptions);if(T==="afterend")this.after(...J.childNodes);else if(T==="afterbegin")this.prepend(...J.childNodes);else if(T==="beforeend")this.append(...J.childNodes);else if(T==="beforebegin")this.before(...J.childNodes);else throw new Error(`The value provided ('${T}') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'`);return this}prepend(...T){const V=W(T);Q(V,this),this.childNodes.unshift(...V)}append(...T){const V=W(T);Q(V,this),this.childNodes.push(...V)}before(...T){const V=W(T),J=this.parentNode.childNodes;Q(V,this.parentNode),J.splice(J.indexOf(this),0,...V)}after(...T){const V=W(T),J=this.parentNode.childNodes;Q(V,this.parentNode),J.splice(J.indexOf(this)+1,0,...V)}get nextSibling(){if(this.parentNode){const T=this.parentNode.childNodes;let V=0;for(;V<T.length;){const J=T[V++];if(this===J)return T[V]||null}return null}}get nextElementSibling(){if(this.parentNode){const T=this.parentNode.childNodes;let V=0,J=!1;for(;V<T.length;){const Y=T[V++];if(J){if(Y instanceof C)return Y||null}else this===Y&&(J=!0)}return null}}get previousSibling(){if(this.parentNode){const T=this.parentNode.childNodes;let V=T.length;for(;V>0;){const J=T[--V];if(this===J)return T[V-1]||null}return null}}get previousElementSibling(){if(this.parentNode){const T=this.parentNode.childNodes;let V=T.length,J=!1;for(;V>0;){const Y=T[--V];if(J){if(Y instanceof C)return Y||null}else this===Y&&(J=!0)}return null}}get children(){const T=[];for(const V of this.childNodes)V instanceof C&&T.push(V);return T}get firstChild(){return this.childNodes[0]}get firstElementChild(){return this.children[0]}get lastChild(){return(0,n.default)(this.childNodes)}get lastElementChild(){return this.children[this.children.length-1]}get childElementCount(){return this.children.length}get classNames(){return this.classList.toString()}clone(){return G(this.toString(),this._parseOptions).firstChild}}ns.default=C;const x=/<!--[\s\S]*?-->|<(\/?)([a-zA-Z][-.:0-9_a-zA-Z@\xB7\xC0-\xD6\xD8-\xF6\u00F8-\u03A1\u03A3-\u03D9\u03DB-\u03EF\u03F7-\u03FF\u0400-\u04FF\u0500-\u052F\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E00-\u1E9B\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u2132\u214E\u2160-\u2188\u2C60-\u2C7F\uA722-\uA787\uA78B-\uA78E\uA790-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA7FF\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64-\uAB65\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\x37F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]*)((?:\s+[^>]*?(?:(?:'[^']*')|(?:"[^"]*"))?)*)\s*(\/?)>/gu,E=/(?:^|\s)(id|class)\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+)/gi,D={li:{li:!0,LI:!0},LI:{li:!0,LI:!0},p:{p:!0,div:!0,P:!0,DIV:!0},P:{p:!0,div:!0,P:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},td:{td:!0,th:!0,TD:!0,TH:!0},TD:{td:!0,th:!0,TD:!0,TH:!0},th:{td:!0,th:!0,TD:!0,TH:!0},TH:{td:!0,th:!0,TD:!0,TH:!0},h1:{h1:!0,H1:!0},H1:{h1:!0,H1:!0},h2:{h2:!0,H2:!0},H2:{h2:!0,H2:!0},h3:{h3:!0,H3:!0},H3:{h3:!0,H3:!0},h4:{h4:!0,H4:!0},H4:{h4:!0,H4:!0},h5:{h5:!0,H5:!0},H5:{h5:!0,H5:!0},h6:{h6:!0,H6:!0},H6:{h6:!0,H6:!0}},_={li:{ul:!0,ol:!0,UL:!0,OL:!0},LI:{ul:!0,ol:!0,UL:!0,OL:!0},a:{div:!0,DIV:!0},A:{div:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},i:{div:!0,DIV:!0},I:{div:!0,DIV:!0},p:{div:!0,DIV:!0},P:{div:!0,DIV:!0},td:{tr:!0,table:!0,TR:!0,TABLE:!0},TD:{tr:!0,table:!0,TR:!0,TABLE:!0},th:{tr:!0,table:!0,TR:!0,TABLE:!0},TH:{tr:!0,table:!0,TR:!0,TABLE:!0}},L="documentfragmentcontainer";function I(j,T={}){var V,J;const Y=new i.default((V=T?.voidTag)===null||V===void 0?void 0:V.closingSlash,(J=T?.voidTag)===null||J===void 0?void 0:J.tags),oe=T.blockTextElements||{script:!0,noscript:!0,style:!0,pre:!0},re=Object.keys(oe),pe=re.map(ue=>new RegExp(`^${ue}$`,"i")),te=re.filter(ue=>!!oe[ue]).map(ue=>new RegExp(`^${ue}$`,"i"));function $(ue){return te.some(N=>N.test(ue))}function he(ue){return pe.some(N=>N.test(ue))}const me=(ue,N)=>[ue-O,N-O],ye=new C(null,{},"",null,[0,j.length],Y,T);let ce=ye;const H=[ye];let P=-1,ge,ie;j=`<${L}>${j}</${L}>`;const{lowerCaseTagName:Z,fixNestedATags:se}=T,Ce=j.length-(L.length+2),O=L.length+2;for(;ie=x.exec(j);){let{0:ue,1:N,2:F,3:k,4:R}=ie;const Ae=ue.length,be=x.lastIndex-Ae,le=x.lastIndex;if(P>-1&&P+Ae<le){const Te=j.substring(P,be);ce.appendChild(new A.default(Te,ce,me(P,be)))}if(P=x.lastIndex,F!==L){if(ue[1]==="!"){if(T.comment){const Te=j.substring(be+4,le-3);ce.appendChild(new a.default(Te,ce,me(be,le)))}continue}if(Z&&(F=F.toLowerCase()),!N){const Te={};for(let je;je=E.exec(k);){const{1:Ke,2:At}=je,It=At[0]==="'"||At[0]==='"';Te[Ke.toLowerCase()]=It?At.slice(1,At.length-1):At}const _e=ce.rawTagName;!R&&D[_e]&&D[_e][F]&&(H.pop(),ce=(0,n.default)(H)),se&&(F==="a"||F==="A")&&(ge!==void 0&&(H.splice(ge),ce=(0,n.default)(H)),ge=H.length);const ve=x.lastIndex,Me=ve-Ae;if(ce=ce.appendChild(new C(F,Te,k.slice(1),null,me(Me,ve),Y,T)),H.push(ce),he(F)){const je=`</${F}>`,Ke=Z?j.toLocaleLowerCase().indexOf(je,x.lastIndex):j.indexOf(je,x.lastIndex),At=Ke===-1?Ce:Ke;if($(F)){const It=j.substring(ve,At);It.length>0&&/\S/.test(It)&&ce.appendChild(new A.default(It,ce,me(ve,At)))}Ke===-1?P=x.lastIndex=j.length+1:(P=x.lastIndex=Ke+je.length,N="/")}}if(N||R||Y.isVoidElement(F))for(;;)if(ge!=null&&(F==="a"||F==="A")&&(ge=void 0),ce.rawTagName===F){ce.range[1]=me(-1,Math.max(P,le))[1],H.pop(),ce=(0,n.default)(H);break}else{const Te=ce.tagName;if(_[Te]&&_[Te][F]){H.pop(),ce=(0,n.default)(H);continue}break}}}return H}ns.base_parse=I;function G(j,T={}){const V=I(j,T),[J]=V;for(;V.length>1;){const Y=V.pop(),oe=(0,n.default)(V);Y.parentNode&&Y.parentNode.parentNode&&(Y.parentNode===oe&&Y.tagName===oe.tagName?T.parseNoneClosedTags!==!0&&(oe.removeChild(Y),Y.childNodes.forEach(re=>{oe.parentNode.appendChild(re)}),V.pop()):T.parseNoneClosedTags!==!0&&(oe.removeChild(Y),Y.childNodes.forEach(re=>{oe.appendChild(re)})))}return J}ns.parse=G;function W(j){return j.map(T=>typeof T=="string"?new A.default(T):(T.remove(),T))}function Q(j,T){return j.map(V=>(V.parentNode=T,V))}return ns}var id={},_2;function AS(){return _2||(_2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=cg();Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.parse}})}(id)),id}var Pu={},U2;function uS(){if(U2)return Pu;U2=1,Object.defineProperty(Pu,"__esModule",{value:!0});const t=cg();function e(r,n={}){return(0,t.base_parse)(r,n).length===1}return Pu.default=e,Pu}var M2;function lS(){if(M2)return br;M2=1;var t=br&&br.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(br,"__esModule",{value:!0}),br.NodeType=br.TextNode=br.Node=br.valid=br.CommentNode=br.HTMLElement=br.parse=void 0;const e=t(X5());br.CommentNode=e.default;const r=t(cg());br.HTMLElement=r.default;const n=t(Rc());br.Node=n.default;const s=t(rx());br.TextNode=s.default;const i=t(YA());br.NodeType=i.default;const a=t(AS()),o=t(uS());br.valid=o.default;function A(u,l={}){return(0,a.default)(u,l)}return br.default=A,br.parse=A,A.parse=a.default,A.HTMLElement=r.default,A.CommentNode=e.default,A.valid=o.default,A.Node=n.default,A.TextNode=s.default,A.NodeType=i.default,br}var JA=lS();function cS(t,e){const r=[];try{console.log("[Parsers] 解析Bing搜索结果，HTML长度:",t.length);const n=JA.parse(t,{lowerCaseTagName:!1,comment:!1,fixNestedATags:!0,parseNoneClosedTags:!0,blockTextElements:{script:!1,noscript:!1,style:!1,pre:!0}}),s=[".b_algo",".b_result",".b_ans",".b_web","[data-priority]"];let i=[];for(const a of s)if(i=n.querySelectorAll(a),i.length>0){console.log(`[Parsers] 使用选择器 "${a}" 找到 ${i.length} 个结果`);break}i.forEach((a,o)=>{if(!(r.length>=e))try{const A=["h2 a","h3 a",".b_title a","a[href]"];let u="",l="",c="";for(const m of A){const g=a.querySelector(m);if(g&&(u=Tn(g.text||""),l=g.getAttribute("href")||"",u&&l))break}const f=[".b_caption p",".b_snippet",".b_descript","p","span"];for(const m of f){const g=a.querySelector(m);if(g){const b=Tn(g.text||"");b&&b.length>c.length&&(c=b)}}u&&l&&r.push({id:er(),title:u,url:$A(l),snippet:c||"无描述",timestamp:new Date().toISOString(),provider:"bing-free",score:1-o*.1})}catch(A){console.warn("[Parsers] 解析Bing结果失败:",A)}})}catch(n){console.error("[Parsers] Bing结果解析失败:",n)}return r}function dS(t,e){const r=[];try{console.log("[Parsers] 解析Google搜索结果，HTML长度:",t.length);const n=JA.parse(t,{lowerCaseTagName:!1,comment:!1,fixNestedATags:!0,parseNoneClosedTags:!0}),s=n.querySelectorAll('div[jscontroller*="SC7lYd"]');if(console.log(`[Parsers] Google找到 ${s.length} 个结果容器`),s.length===0){const i=n.querySelectorAll(".g, .rc, .yuRUbf");console.log(`[Parsers] Google备用选择器找到 ${i.length} 个结果`),i.forEach((a,o)=>{r.length>=e||Q2(a,r,o)})}else s.forEach((i,a)=>{r.length>=e||Q2(i,r,a)})}catch(n){console.error("[Parsers] Google结果解析失败:",n)}return r}function Q2(t,e,r){try{const n=t.querySelector("a h3");if(!n){console.debug("[Parsers] Google结果缺少标题，跳过");return}const s=Tn(n.text||""),i=t.querySelector("a[href]");if(!i){console.debug("[Parsers] Google结果缺少链接，跳过");return}const a=i.getAttribute("href")||"";if(!a||!a.startsWith("http")){console.debug("[Parsers] Google结果链接无效，跳过");return}const o=t.querySelectorAll('div[data-sncf="1"], .VwiC3b, .s3v9rd, .st');let A="";for(const u of o){u.querySelectorAll("script").forEach(f=>f.remove());const c=Tn(u.text||"");c&&c.length>A.length&&(A=c)}s&&a&&(e.push({id:er(),title:s,url:$A(a),snippet:A||"无描述",timestamp:new Date().toISOString(),provider:"bing-free",score:1-r*.1}),console.log(`[Parsers] Google解析成功 ${e.length}: ${s.substring(0,50)}`))}catch(n){console.warn("[Parsers] 解析Google单个结果失败:",n)}}function hS(t,e){const r=[];try{console.log("[Parsers] 解析百度搜索结果，HTML长度:",t.length);const n=JA.parse(t,{lowerCaseTagName:!1,comment:!1,fixNestedATags:!0,parseNoneClosedTags:!0}),s=n.querySelectorAll(".result, .c-container, .result-op");if(console.log(`[Parsers] 百度找到 ${s.length} 个结果容器`),s.length===0){const i=n.querySelectorAll("h3");console.log(`[Parsers] 百度备用选择器找到 ${i.length} 个h3标签`),i.forEach((a,o)=>{r.length>=e||R2(a,r,o)})}else s.forEach((i,a)=>{r.length>=e||R2(i,r,a)})}catch(n){console.error("[Parsers] 百度结果解析失败:",n)}return r}function R2(t,e,r){try{const n=t.querySelector("h3 a, .t a, .c-title a, a[href]");if(!n){console.debug("[Parsers] 百度结果缺少标题，跳过");return}const s=Tn(n.text||""),i=n.getAttribute("href")||"";if(!s||!i){console.debug("[Parsers] 百度结果标题或链接无效，跳过");return}let a="";const o=[".c-abstract",".c-span9",".c-span-last","p","span"];for(const A of o){const u=t.querySelector(A);if(u){const l=Tn(u.text||"");if(l&&l.length>a.length&&l!==s){a=l;break}}}s&&i&&(e.push({id:er(),title:s,url:$A(i),snippet:a||"无描述",timestamp:new Date().toISOString(),provider:"bing-free",score:1-r*.1}),console.log(`[Parsers] 百度解析成功 ${e.length}: ${s.substring(0,50)}`))}catch(n){console.warn("[Parsers] 解析百度单个结果失败:",n)}}function fS(t,e){const r=[];try{console.log("[Parsers] 解析搜狗搜索结果，HTML长度:",t.length);const n=JA.parse(t,{lowerCaseTagName:!1,comment:!1,fixNestedATags:!0,parseNoneClosedTags:!0}),s=n.querySelectorAll("div.vrwrap");if(console.log(`[Parsers] 搜狗找到 ${s.length} 个结果容器`),s.length===0){const i=n.querySelectorAll(".results, .result, .rb");console.log(`[Parsers] 搜狗备用选择器找到 ${i.length} 个结果`),i.forEach((a,o)=>{r.length>=e||O2(a,r,o)})}else s.forEach((i,a)=>{r.length>=e||O2(i,r,a)})}catch(n){console.error("[Parsers] 搜狗结果解析失败:",n)}return r}function O2(t,e,r){try{const n=t.querySelector("h3.vr-title a, h3 a");if(!n){console.debug("[Parsers] 搜狗结果缺少标题，跳过");return}const s=Tn(n.text||"");let i=n.getAttribute("href")||"";if(i.startsWith("/link?url=")&&(i=`https://www.sogou.com${i}`),!s||!i){console.debug("[Parsers] 搜狗结果标题或链接无效，跳过");return}let a="";const o=[".text-layout .star-wiki",".fz-mid.space-txt",".str_info",".str_content","p","span"];for(const A of o){const u=t.querySelector(A);if(u){const l=Tn(u.text||"");if(l&&l.length>a.length&&l!==s){a=l;break}}}s&&i&&(e.push({id:er(),title:s,url:$A(i),snippet:a||"无描述",timestamp:new Date().toISOString(),provider:"bing-free",score:1-r*.1}),console.log(`[Parsers] 搜狗解析成功 ${e.length}: ${s.substring(0,50)}`))}catch(n){console.warn("[Parsers] 解析搜狗单个结果失败:",n)}}function pS(t,e){const r=[];try{console.log("[Parsers] 解析Yandex搜索结果，HTML长度:",t.length);const n=JA.parse(t,{lowerCaseTagName:!1,comment:!1,fixNestedATags:!0,parseNoneClosedTags:!0}),s=n.querySelectorAll("li.serp-item");if(console.log(`[Parsers] Yandex找到 ${s.length} 个结果容器`),s.length===0){const i=[".serp-item",".organic",".result",".search-result",".serp-list__item",".serp-adv__found","[data-cid]"];let a=[];for(const o of i)if(a=n.querySelectorAll(o),a.length>0){console.log(`[Parsers] Yandex备用选择器 "${o}" 找到 ${a.length} 个结果`);break}if(a.length===0){const o=n.querySelectorAll("a[href]");console.log(`[Parsers] Yandex找到 ${o.length} 个链接`);const A=o.filter(u=>{const l=u.getAttribute("href")||"",c=u.text?.trim()||"";return l&&!l.includes("yandex.")&&!l.startsWith("#")&&!l.startsWith("javascript:")&&c.length>10});console.log(`[Parsers] Yandex过滤后的可能结果: ${A.length} 个`),A.slice(0,e).forEach((u,l)=>{ad(u,r,l)})}else a.forEach((o,A)=>{r.length>=e||ad(o,r,A)})}else s.forEach((i,a)=>{r.length>=e||ad(i,r,a)})}catch(n){console.error("[Parsers] Yandex结果解析失败:",n)}return r}function ad(t,e,r){try{let n="",s="",i="";if(t.tagName==="A"){n=Tn(t.text||""),s=t.getAttribute("href")||"";const a=t.parentNode;if(a){const o=a.querySelectorAll("p, span, div");for(const A of o){const u=Tn(A.text||"");u&&u!==n&&u.length>i.length&&(i=u)}}}else{const a=["a.b-serp-item__title-link","h3 a","h2 a",".title a",".organic__title a","a[href]"];for(const A of a){const u=t.querySelector(A);if(u&&(n=Tn(u.text||""),s=u.getAttribute("href")||"",n&&s))break}const o=[".b-serp-item__content .b-serp-item__text",".organic__text",".snippet",".content",".text-container",".serp-item__text","p","span"];for(const A of o){const u=t.querySelector(A);if(u){const l=Tn(u.text||"");l&&l!==n&&l.length>i.length&&(i=l)}}}if(!n||!s||s.startsWith("#")||s.startsWith("javascript:")){console.debug("[Parsers] Yandex结果标题或链接无效，跳过");return}if(s.includes("yandex.")&&!s.startsWith("http")){console.debug("[Parsers] Yandex内部链接，跳过");return}e.push({id:er(),title:n,url:$A(s),snippet:i||"无描述",timestamp:new Date().toISOString(),provider:"bing-free",score:1-r*.1}),console.log(`[Parsers] Yandex解析成功 ${e.length}: ${n.substring(0,50)}`)}catch(n){console.warn("[Parsers] 解析Yandex单个结果失败:",n)}}function gS(t,e){const r=new URLSearchParams;if(r.set("q",t),r.set("count",e.count.toString()),e.language&&r.set("setlang",e.language),e.region&&r.set("cc",e.region),e.safeSearch){const n={strict:"strict",moderate:"moderate",off:"off"};r.set("safesearch",n[e.safeSearch]||"moderate")}if(e.freshness){const n={day:"d",week:"w",month:"m"};r.set("qft",`+filterui:age-lt${n[e.freshness]}`)}return`https://www.bing.com/search?${r.toString()}`}function mS(t,e){const r=new URLSearchParams;if(r.set("q",t),r.set("num",Math.min(e.count,20).toString()),e.language&&r.set("hl",e.language),e.region&&r.set("gl",e.region.toLowerCase()),e.safeSearch){const n={strict:"active",moderate:"active",off:"off"};r.set("safe",n[e.safeSearch]||"active")}if(e.freshness){const n={day:"d",week:"w",month:"m"};r.set("tbs",`qdr:${n[e.freshness]}`)}return`https://www.google.com/search?${r.toString()}`}function bS(t,e){const r=new URLSearchParams;return r.set("wd",t),r.set("rn",Math.min(e.count,50).toString()),`https://www.baidu.com/s?${r.toString()}`}function wS(t,e){const r=new URLSearchParams;return r.set("query",t),r.set("num",Math.min(e.count,20).toString()),`https://www.sogou.com/web?${r.toString()}`}function yS(t,e){const r=new URLSearchParams;return r.set("tmpl_version","releases"),r.set("text",t),r.set("web","1"),r.set("frame","1"),r.set("searchid","3131712"),`https://yandex.com/search/site/?${r.toString()}`}async function N2(t,e,r){const n=gS(t,e);console.log(`[SearchEngines] Bing搜索URL: ${n}`);const s=await XA(n,r);return cS(s.data,e.count)}async function xS(t,e,r){const n=mS(t,e);console.log(`[SearchEngines] Google搜索URL: ${n}`);const s=await XA(n,r);return dS(s.data,e.count)}async function vS(t,e,r){const n=bS(t,e);console.log(`[SearchEngines] 百度搜索URL: ${n}`);const s=await XA(n,r);return hS(s.data,e.count)}async function BS(t,e,r){const n=wS(t,e);console.log(`[SearchEngines] 搜狗搜索URL: ${n}`);const s=await XA(n,r);return fS(s.data,e.count)}async function CS(t,e,r){const n=yS(t);console.log(`[SearchEngines] Yandex搜索URL: ${n}`);const s=await XA(n,r);return pS(s.data,e.count)}async function ES(t,e,r){const n=t.map(async(i,a)=>{try{console.log(`[ContentFetcher] 抓取内容 ${a+1}/${t.length}: ${i.url}`);const o=await SS(i.url,e,r);i.content=o,i.contentLength=o.length,console.log(`[ContentFetcher] 内容抓取成功 ${a+1}: ${o.length} 字符`)}catch(o){console.warn(`[ContentFetcher] 内容抓取失败 ${a+1}:`,o),i.content=`内容抓取失败: ${o}`,i.contentLength=0}}),s=3;for(let i=0;i<n.length;i+=s){const a=n.slice(i,i+s);await Promise.all(a)}}async function SS(t,e,r){if(R9(t))return"跳过此类型的链接";const n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"};if(Un.isNativePlatform()){const s=await wA.request({url:t,method:"GET",headers:n,timeout:Math.min(r,15e3),responseType:"text"});if(s.status>=400)throw new Error(`HTTP ${s.status}`);return Nm(s.data,e)}else{const s=await fetch(t,{method:"GET",headers:n,signal:AbortSignal.timeout(Math.min(r,15e3))});if(!s.ok)throw new Error(`HTTP ${s.status}`);const i=await s.text();return Nm(i,e)}}class oa{static instance;constructor(){}static getInstance(){return oa.instance||(oa.instance=new oa),oa.instance}async search(e){const{query:r,maxResults:n=10,language:s="zh-CN",region:i="CN",safeSearch:a="moderate",freshness:o,timeout:A=3e4,searchEngine:u="bing"}=e;if(!r.trim())throw new Error("搜索查询不能为空");console.log(`[BingFreeSearchService] 开始搜索: ${r}，使用搜索引擎: ${u}`);try{let l=[];const c={language:s,region:i,safeSearch:a,freshness:o,count:Math.min(n,50)};switch(u){case"bing":l=await N2(r,c,A);break;case"google":l=await xS(r,{...c,count:Math.min(n,20)},A);break;case"baidu":l=await vS(r,c,A);break;case"sogou":l=await BS(r,{...c,count:Math.min(n,20)},A);break;case"yandex":l=await CS(r,c,A);break;default:l=await N2(r,c,A)}return console.log(`[BingFreeSearchService] 搜索完成，找到 ${l.length} 个结果`),e.fetchContent&&l.length>0&&(console.log("[BingFreeSearchService] 开始抓取链接内容..."),await ES(l,e.maxContentLength||2e3,A)),{results:l,query:r,totalResults:l.length}}catch(l){throw console.error("[BingFreeSearchService] 搜索失败:",l),new Error(`Bing搜索失败: ${l.message}`)}}async batchSearch(e,r={}){const n=e.map(s=>this.search({...r,query:s}).catch(i=>(console.error(`[BingFreeSearchService] 批量搜索失败 - ${s}:`,i),{results:[],query:s,totalResults:0})));return Promise.all(n)}}const TS=oa.getInstance();class FS{apiKey;baseUrl;timeout;constructor(e){this.apiKey=e.apiKey,this.baseUrl=e.baseUrl||"https://api.tavily.com",this.timeout=e.timeout||3e4}validateQuery(e){if(!e||e.trim().length===0)throw new Error("查询不能为空");if(e.length>400)throw new Error("查询过长。根据Tavily最佳实践，查询长度应不超过400字符。请考虑将复杂查询分解为多个较小的子查询。")}postProcessResults(e,r){let n=[...e];return r.minScore&&r.minScore>0&&(n=n.filter(s=>s.score!==void 0&&s.score>=r.minScore),console.log(`[TavilyMobileSDK] 基于分数过滤：${e.length} -> ${n.length} 个结果`)),n.sort((s,i)=>s.score!==void 0&&i.score!==void 0?i.score-s.score:0),n}suggestQueryBreakdown(e){const r=[];if(!e||typeof e!="string")return r;if(e.includes(" and ")||e.includes(" & ")){const n=e.split(/\s+(?:and|&)\s+/i);r.push(...n.map(s=>s.trim()))}if(e.includes(",")){const n=e.split(",");r.push(...n.map(s=>s.trim()))}return e.length>200&&r.length===0&&r.push("建议将此长查询分解为多个更具体的子查询以获得更好的结果"),r.filter(n=>n.length>0)}async search(e,r={}){r.enableQueryValidation!==!1&&this.validateQuery(e);const n={api_key:this.apiKey,query:e,search_depth:r.searchDepth||"basic",topic:r.topic||"general",days:r.days,time_range:r.timeRange,max_results:r.maxResults||5,chunks_per_source:r.chunksPerSource,include_images:r.includeImages||!1,include_image_descriptions:r.includeImageDescriptions||!1,include_answer:r.includeAnswer||!1,include_raw_content:r.includeRawContent||!1,include_domains:r.includeDomains,exclude_domains:r.excludeDomains},s=Object.fromEntries(Object.entries(n).filter(([i,a])=>a!==void 0));try{console.log(`[TavilyMobileSDK] 开始搜索: ${e}`);const i=await fetch(`${this.baseUrl}/search`,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json; charset=utf-8","User-Agent":"TavilyMobileSDK/1.0.0"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout)});if(!i.ok){const A=await i.text();throw new Error(`Tavily API error: ${i.status} - ${A}`)}const a=await i.text(),o=JSON.parse(a);if(console.log(`[TavilyMobileSDK] 搜索完成，找到 ${o.results?.length||0} 个结果`),r.enablePostProcessing!==!1&&o.results&&(o.results=this.postProcessResults(o.results,r),console.log(`[TavilyMobileSDK] 后处理完成，最终结果数量: ${o.results.length}`)),o.results&&o.results.length>0){const A=o.results[0];console.log(`[TavilyMobileSDK] 第一个结果标题: "${A.title}"`),console.log(`[TavilyMobileSDK] 第一个结果内容预览: "${(A.content||"").substring(0,100)}..."`),A.score!==void 0&&console.log(`[TavilyMobileSDK] 第一个结果相关性分数: ${A.score}`)}return o}catch(i){throw console.error("[TavilyMobileSDK] 搜索失败:",i),i.name==="AbortError"?new Error("搜索请求超时"):new Error(`搜索失败: ${i.message}`)}}async batchSearch(e,r={},n=3){console.log(`[TavilyMobileSDK] 开始批量搜索，查询数量: ${e.length}，并发限制: ${n}`);const s=[];for(let i=0;i<e.length;i+=n){const o=e.slice(i,i+n).map(async u=>{try{return await this.search(u,r)}catch(l){return console.error(`[TavilyMobileSDK] 查询失败: "${u}"`,l),l instanceof Error?l:new Error(String(l))}}),A=await Promise.all(o);s.push(...A),i+n<e.length&&await new Promise(u=>setTimeout(u,1e3))}return console.log(`[TavilyMobileSDK] 批量搜索完成，成功: ${s.filter(i=>!(i instanceof Error)).length}，失败: ${s.filter(i=>i instanceof Error).length}`),s}async smartSearch(e,r={}){const n={searchDepth:"advanced",maxResults:10,includeRawContent:!0,chunksPerSource:3,enableQueryValidation:!0,enablePostProcessing:!0,minScore:.3,...r};return this.search(e,n)}async testConnection(){try{return await this.search("test",{maxResults:1}),!0}catch(e){return console.error("[TavilyMobileSDK] 连接测试失败:",e),!1}}}function DS(t){return new FS(t)}class kS{isPaused=!1;createAbortSignal(e){return new AbortController}getWebSearchState(){return He.getState().webSearch}isWebSearchEnabled(e){const{providers:r}=this.getWebSearchState(),n=r.find(s=>s.id===e);return n?n.id==="local-google"||n.id==="local-bing"||n.id==="bing"||n.id==="bing-free"?!0:n.apiKey?n.apiKey!=="":n.apiHost?n.apiHost!=="":"basicAuthUsername"in n&&"basicAuthPassword"in n?n.basicAuthUsername!==""&&n.basicAuthPassword!=="":!1:!1}getWebSearchProvider(e){const{providers:r}=this.getWebSearchState();return r.find(s=>s.id===e)}async search(e,r,n){const s=this.getWebSearchState();let i=r;switch(s.searchWithTime&&(i=`today is ${new Date().toISOString().split("T")[0]} \r
 ${r}`),e.id){case"bing-free":return await this.bingFreeSearch(e,i,s);case"tavily":return await this.tavilySearch(e,i,s);case"exa":return await this.exaSearch(e,i,s);case"bocha":return await this.bochaSearch(e,i,s);case"firecrawl":return await this.firecrawlSearch(e,i,s);default:throw new Error(`不支持的搜索提供商: ${e.id}`)}}async bingFreeSearch(e,r,n){try{const s=n.selectedSearchEngine||"bing";console.log(`[EnhancedWebSearchService] 开始免费搜索: ${r}，使用搜索引擎: ${s}`);const a=(await TS.search({query:r,maxResults:n.maxResults||10,language:"zh-CN",region:"CN",safeSearch:n.filterSafeSearch?"moderate":"off",freshness:n.searchWithTime?"week":void 0,timeout:3e4,fetchContent:!0,maxContentLength:1500,searchEngine:s})).results.map(o=>{let A=o.snippet;return o.content&&o.content!=="跳过此类型的链接"&&o.content!=="内容解析失败"&&(A=`${o.snippet}

页面内容摘要:
${o.content}`),{id:o.id,title:o.title,url:o.url,snippet:A,timestamp:o.timestamp,provider:"bing-free",score:o.score}});return console.log(`[EnhancedWebSearchService] 免费${s}搜索完成，找到 ${a.length} 个结果`),{results:a}}catch(s){throw console.error("[EnhancedWebSearchService] 免费Bing搜索失败:",s),new Error(`免费搜索失败: ${s.message}`)}}async tavilySearch(e,r,n){try{if(!e.apiKey)throw new Error("Tavily API密钥未配置");console.log(`[EnhancedWebSearchService] 开始Tavily移动端SDK搜索: ${r}`);const a=(await DS({apiKey:e.apiKey}).search(r,{searchDepth:"advanced",includeAnswer:!1,includeImages:!1,includeRawContent:!0,maxResults:Math.min(n.maxResults||5,10),chunksPerSource:3,excludeDomains:n.excludeDomains||[]})).results?.map(o=>{let A=o.raw_content||o.content||"";if(A=A.replace(/[\x00-\x1F\x7F-\x9F]/g,"").replace(/\s+/g," ").trim(),A.length>500){const l=A.split(/[.!?。！？]/);let c="";for(const f of l){if((c+f).length>450)break;c+=f+"。"}A=c||A.substring(0,500)+"..."}const u=(o.title||"").replace(/<[^>]*>/g,"").replace(/[\x00-\x1F\x7F-\x9F]/g,"").trim();return{id:er(),title:u||"无标题",url:o.url||"",snippet:A,timestamp:new Date().toISOString(),provider:"tavily",score:o.score||0}})||[];return console.log(`[EnhancedWebSearchService] Tavily移动端SDK搜索完成，找到 ${a.length} 个结果`),{results:a}}catch(s){throw console.error("[EnhancedWebSearchService] Tavily移动端SDK搜索失败:",s),new Error(`Tavily搜索失败: ${s.message}`)}}async exaSearch(e,r,n){try{if(!e.apiKey)throw new Error("Exa API密钥未配置");console.log(`[EnhancedWebSearchService] 开始Exa搜索: ${r}`);const s={query:r,numResults:n.maxResults||10,type:"neural",useAutoprompt:!0,contents:{text:!0}};let i;if(Un.isNativePlatform()){if(console.log("[EnhancedWebSearchService] 移动端使用 CorsBypass 插件请求 Exa API"),i=await wA.request({url:"https://api.exa.ai/search",method:"POST",headers:{"Content-Type":"application/json","x-api-key":e.apiKey},data:s,timeout:3e4,responseType:"json"}),i.status>=400)throw new Error(`Exa API error: ${i.status}`);const o=i.data.results?.map(A=>({id:er(),title:A.title||"",url:A.url||"",snippet:A.text||"",timestamp:new Date().toISOString(),provider:"exa"}))||[];return console.log(`[EnhancedWebSearchService] Exa搜索完成，找到 ${o.length} 个结果`),{results:o}}else{if(console.log("[EnhancedWebSearchService] Web端使用代理路径请求 Exa API"),i=await fetch("/api/exa/search",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e.apiKey},body:JSON.stringify(s)}),!i.ok)throw new Error(`Exa API error: ${i.status}`);const o=(await i.json()).results?.map(A=>({id:er(),title:A.title||"",url:A.url||"",snippet:A.text||"",timestamp:new Date().toISOString(),provider:"exa"}))||[];return console.log(`[EnhancedWebSearchService] Exa搜索完成，找到 ${o.length} 个结果`),{results:o}}}catch(s){throw console.error("[EnhancedWebSearchService] Exa搜索失败:",s),new Error(`Exa搜索失败: ${s.message}`)}}async bochaSearch(e,r,n){try{if(!e.apiKey)throw new Error("Bocha API密钥未配置");console.log(`[EnhancedWebSearchService] 开始Bocha搜索: ${r}`);const s={query:r,count:n.maxResults||10,exclude:n.excludeDomains?.join(",")||"",freshness:n.searchWithTime?"oneDay":"noLimit",summary:!1};let i;if(Un.isNativePlatform()){if(console.log("[EnhancedWebSearchService] 移动端使用 CorsBypass 插件请求 Bocha API"),i=await wA.request({url:"https://api.bochaai.com/v1/web-search",method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},data:s,timeout:3e4,responseType:"json"}),i.status>=400)throw new Error(`Bocha API error: ${i.status}`);const A=(i.data.data?.webPages?.value||[]).map(u=>({id:er(),title:u.name||"",url:u.url||"",snippet:u.snippet||"",timestamp:new Date().toISOString(),provider:"bocha"}));return console.log(`[EnhancedWebSearchService] Bocha搜索完成，找到 ${A.length} 个结果`),{results:A}}else{if(console.log("[EnhancedWebSearchService] Web端使用代理路径请求 Bocha API"),i=await fetch("/api/bocha/v1/web-search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},body:JSON.stringify(s)}),!i.ok)throw new Error(`Bocha API error: ${i.status}`);const A=((await i.json()).data?.webPages?.value||[]).map(u=>({id:er(),title:u.name||"",url:u.url||"",snippet:u.snippet||"",timestamp:new Date().toISOString(),provider:"bocha"}));return console.log(`[EnhancedWebSearchService] Bocha搜索完成，找到 ${A.length} 个结果`),{results:A}}}catch(s){throw console.error("[EnhancedWebSearchService] Bocha搜索失败:",s),new Error(`Bocha搜索失败: ${s.message}`)}}async firecrawlSearch(e,r,n){try{if(!e.apiKey)throw new Error("Firecrawl API密钥未配置");console.log(`[EnhancedWebSearchService] 开始Firecrawl搜索: ${r}`);const s={query:r,limit:n.maxResults||10};let i;if(Un.isNativePlatform()){if(console.log("[EnhancedWebSearchService] 移动端使用 CorsBypass 插件请求 Firecrawl API"),i=await wA.request({url:"https://api.firecrawl.dev/v1/search",method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},data:s,timeout:3e4,responseType:"json"}),i.status>=400)throw new Error(`Firecrawl API error: ${i.status}`);const o=i.data.data?.map(A=>({id:er(),title:A.metadata?.title||A.url||"",url:A.url||"",snippet:A.markdown?.substring(0,200)||"",timestamp:new Date().toISOString(),provider:"firecrawl",content:A.markdown}))||[];return console.log(`[EnhancedWebSearchService] Firecrawl搜索完成，找到 ${o.length} 个结果`),{results:o}}else{if(console.log("[EnhancedWebSearchService] Web端使用代理路径请求 Firecrawl API"),i=await fetch("/api/firecrawl/v1/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},body:JSON.stringify(s)}),!i.ok)throw new Error(`Firecrawl API error: ${i.status}`);const o=(await i.json()).data?.map(A=>({id:er(),title:A.metadata?.title||A.url||"",url:A.url||"",snippet:A.markdown?.substring(0,200)||"",timestamp:new Date().toISOString(),provider:"firecrawl",content:A.markdown}))||[];return console.log(`[EnhancedWebSearchService] Firecrawl搜索完成，找到 ${o.length} 个结果`),{results:o}}}catch(s){throw console.error("[EnhancedWebSearchService] Firecrawl搜索失败:",s),new Error(`Firecrawl搜索失败: ${s.message}`)}}async searchWithStatus(e,r,n){try{He.dispatch(Ge.updateMessageStatus({topicId:r,messageId:n,status:Bt.SEARCHING})),this.createAbortSignal(n);const s=this.getWebSearchState(),i=this.getWebSearchProvider(s.provider);if(!i)throw new Error("未找到搜索提供商");return(await this.search(i,e)).results}finally{this.isPaused||He.dispatch(Ge.updateMessageStatus({topicId:r,messageId:n,status:Bt.SUCCESS}))}}async checkSearch(e){try{return{valid:(await this.search(e,"test query")).results!==void 0,error:void 0}}catch(r){return{valid:!1,error:r}}}}const IS=new kS;oa.getInstance();class oA{static STORAGE_KEY="video-generation-tasks";static MAX_TASK_AGE=30*60*1e3;static saveTask(e){try{const r=this.getTasks();r[e.id]=e,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),Tr("INFO",`保存视频生成任务: ${e.id}`,{requestId:e.requestId})}catch(r){Tr("ERROR","保存视频任务失败",{error:r,taskId:e.id})}}static removeTask(e){try{const r=this.getTasks();delete r[e],localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),Tr("INFO",`删除视频生成任务: ${e}`)}catch(r){Tr("ERROR","删除视频任务失败",{error:r,taskId:e})}}static getTasks(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return{};const r=JSON.parse(e),n=Date.now(),s={};for(const[i,a]of Object.entries(r)){const o=n-new Date(a.startTime).getTime();o<this.MAX_TASK_AGE?s[i]=a:Tr("INFO",`清理过期视频任务: ${i}`,{age:o})}return Object.keys(s).length!==Object.keys(r).length&&localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s)),s}catch(e){return Tr("ERROR","获取视频任务失败",{error:e}),{}}}static async resumeTasks(){const e=this.getTasks(),r=Object.values(e);if(r.length===0){Tr("INFO","没有需要恢复的视频生成任务");return}Tr("INFO",`发现 ${r.length} 个未完成的视频生成任务，开始恢复`);const n=r.map(s=>this.resumeTask(s));await Promise.allSettled(n)}static async resumeTask(e){try{Tr("INFO",`恢复视频生成任务: ${e.id}`,{requestId:e.requestId,prompt:e.prompt.substring(0,50)}),await this.updateTaskStatus(e,`🎬 正在恢复视频生成，请稍候...

视频生成通常需要几分钟时间，请耐心等待。`);const r=await this.pollVideoStatus(e);await this.completeTask(e,r)}catch(r){Tr("ERROR",`恢复视频任务失败: ${e.id}`,{error:r}),await this.failTask(e,r instanceof Error?r.message:String(r))}}static async pollVideoStatus(e){const r=e.model.apiKey;if(!r)throw new Error("API密钥未设置");if(e.model.id==="veo-2.0-generate-001"||e.model.provider==="google"||e.requestId.startsWith("operations/")){const{pollVeoOperation:i}=await gs(async()=>{const{pollVeoOperation:a}=await import("./veo-CMrMwxKK.js");return{pollVeoOperation:a}},__vite__mapDeps([0,1,2]));return await i(r,e.requestId)}const s=e.model.baseUrl||"https://api.siliconflow.cn/v1";return await this.pollVideoStatusInternal(s,r,e.requestId)}static async pollVideoStatusInternal(e,r,n){for(let a=1;a<=60;a++)try{Tr("INFO",`轮询视频状态 (${a}/60)`,{requestId:n});const o=await fetch(`${e}/video/status`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({requestId:n})});if(!o.ok){if(o.status>=400&&o.status<500)throw new Error(`轮询状态失败: ${o.status} ${o.statusText}`);if(a<60){await this.sleep(1e4);continue}else throw new Error(`轮询状态失败: ${o.status} ${o.statusText}`)}const A=await o.json();switch(Tr("INFO",`视频状态: ${A.status}`,{requestId:n,attempt:a}),A.status){case"completed":case"Succeed":const u=A.results?.videos?.[0]?.url||A.video_url||A.videos&&A.videos[0]||null;if(!u)throw new Error("视频生成完成但未返回视频URL");return u;case"failed":throw new Error(`视频生成失败: ${A.error||"未知错误"}`);case"pending":case"processing":case"InQueue":if(a<60){await this.sleep(1e4);break}else throw new Error("视频生成超时，请稍后重试");default:if(Tr("WARN",`未知的视频状态: ${A.status}`,{requestId:n,result:A}),a<60){await this.sleep(1e4);break}else throw new Error(`视频生成状态异常: ${A.status}`)}}catch(o){if(a>=60)throw o;await this.sleep(1e4)}throw new Error("视频生成超时，请稍后重试")}static async updateTaskStatus(e,r){try{await Xt.updateMessageBlockFields(e.blockId,{content:r,status:qe.PROCESSING}),He.dispatch(Or({id:e.blockId,changes:{content:r,status:qe.PROCESSING,updatedAt:new Date().toISOString()}}))}catch(n){Tr("ERROR","更新任务状态失败",{error:n,taskId:e.id})}}static async completeTask(e,r){try{const n=`🎬 视频生成完成！

**提示词：** ${e.prompt}

**生成时间：** ${new Date().toLocaleString()}

**模型：** ${e.model.name||e.model.id}`;await Xt.updateMessageBlockFields(e.blockId,{content:n,status:qe.SUCCESS});const{upsertOneBlock:s}=await gs(async()=>{const{upsertOneBlock:A}=await import("./index-Bp4oiTTd.js").then(u=>u.hx);return{upsertOneBlock:A}},__vite__mapDeps([1,2])),{dexieStorage:i}=await gs(async()=>{const{dexieStorage:A}=await import("./index-Bp4oiTTd.js").then(u=>u.hw);return{dexieStorage:A}},__vite__mapDeps([1,2])),a={id:`video-${Date.now()}`,type:"video",messageId:e.messageId,url:r,mimeType:"video/mp4",status:qe.SUCCESS,width:1280,height:720,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};He.dispatch(s(a));const o=He.getState().messages.entities[e.messageId];if(o){const A=[...o.blocks||[],a.id];He.dispatch(Ge.updateMessage({id:e.messageId,changes:{blocks:A}})),await i.updateMessage(e.messageId,{blocks:A}),await i.saveMessageBlock(a)}He.dispatch(Ge.updateMessage({id:e.messageId,changes:{status:Bt.SUCCESS,updatedAt:new Date().toISOString()}})),this.removeTask(e.id),Tr("INFO",`视频生成任务完成: ${e.id}`,{videoUrl:r.substring(0,50)})}catch(n){throw Tr("ERROR","完成视频任务失败",{error:n,taskId:e.id}),n}}static async failTask(e,r){try{await Xt.updateMessageBlockFields(e.blockId,{content:`❌ 视频生成失败：${r}`,status:qe.ERROR}),He.dispatch(Ge.updateMessage({id:e.messageId,changes:{status:Bt.ERROR,updatedAt:new Date().toISOString()}})),this.removeTask(e.id),Tr("ERROR",`视频生成任务失败: ${e.id}`,{error:r})}catch(n){Tr("ERROR","处理视频任务失败失败",{error:n,taskId:e.id})}}static sleep(e){return new Promise(r=>setTimeout(r,e))}}const _S=(t,e,r,n)=>{const s=Sr(),[i,a]=q.useState(!1),[o,A]=q.useState(!1),[u,l]=q.useState(!1),[c,f]=q.useState(()=>{const j=localStorage.getItem("mcp-tools-enabled");return j!==null?JSON.parse(j):!0}),[m,g]=q.useState(()=>localStorage.getItem("mcp-mode")||"function"),b=()=>{A(!o),o||(i&&a(!1),u&&l(!1))},v=()=>{l(!u),u||(i&&a(!1),o&&A(!1))},w=()=>{a(!i),i||(o&&A(!1),u&&l(!1))},B=(j,T,V)=>{!t||!j.trim()||!r||(console.log(`[useChatFeatures] 处理图像生成提示词: ${j}`),console.log(`[useChatFeatures] 使用模型: ${r.id}`),n(j,T,!1,V))},C=async(j,T,V)=>{if(!t||!j.trim()||!r)return;if(console.log(`[useChatFeatures] 处理视频生成提示词: ${j}`),console.log(`[useChatFeatures] 使用模型: ${r.id}`),!(r.modelTypes?.includes("video_gen")||r.videoGeneration||r.capabilities?.videoGeneration||r.id.includes("HunyuanVideo")||r.id.includes("Wan-AI/Wan2.1-T2V")||r.id.includes("Wan-AI/Wan2.1-I2V")||r.id.toLowerCase().includes("video"))){console.error(`[useChatFeatures] 模型 ${r.name||r.id} 不支持视频生成`);const{message:he,blocks:me}=aa({assistantId:t.assistantId,topicId:t.id,askId:`video-gen-${Date.now()}`,modelId:r.id,model:r,status:Bt.ERROR}),ye=me.find(ce=>ce.type===tt.MAIN_TEXT);ye&&"content"in ye&&(ye.content=`❌ 模型 ${r.name||r.id} 不支持视频生成。请选择支持视频生成的模型，如 HunyuanVideo 或 Wan-AI 系列模型。`,ye.status=qe.ERROR),await Xt.saveMessageAndBlocks(he,me);return}const{message:Y,blocks:oe}=Vl({content:j,assistantId:t.assistantId,topicId:t.id,modelId:r.id,model:r,images:T?.map(he=>({url:he.image_url?.url||""})),files:V?.map(he=>he.fileRecord).filter(Boolean)});await Xt.saveMessageAndBlocks(Y,oe);const{message:re,blocks:pe}=aa({assistantId:t.assistantId,topicId:t.id,askId:Y.id,modelId:r.id,model:r,status:Bt.PROCESSING}),te=pe.find(he=>he.type===tt.MAIN_TEXT);te&&"content"in te&&(te.content=`🎬 正在生成视频，请稍候...

视频生成通常需要几分钟时间，请耐心等待。`,te.status=qe.PROCESSING),await Xt.saveMessageAndBlocks(re,pe);const $=`video-task-${Date.now()}`;try{console.log("[useChatFeatures] 开始调用视频生成API");const me=await(async()=>{if(r.id==="veo-2.0-generate-001"||r.provider==="google"){const{submitVeoGeneration:ce,pollVeoOperation:H}=await gs(async()=>{const{submitVeoGeneration:Z,pollVeoOperation:se}=await import("./veo-CMrMwxKK.js");return{submitVeoGeneration:Z,pollVeoOperation:se}},__vite__mapDeps([0,1,2]));if(!r.apiKey)throw new Error("Google API密钥未设置");const P={prompt:j,aspectRatio:"16:9",personGeneration:"dont_allow",durationSeconds:8,enhancePrompt:!0};T&&T.length>0&&(P.image=T[0].image_url?.url);const ge=await ce(r.apiKey,P);return console.log("[useChatFeatures] 获得Google Veo操作名称:",ge),oA.saveTask({id:$,requestId:ge,messageId:re.id,blockId:te?.id||"",model:r,prompt:j,startTime:new Date().toISOString(),status:"processing"}),{url:await H(r.apiKey,ge)}}else{const{submitVideoGeneration:ce,pollVideoStatusInternal:H}=await gs(async()=>{const{submitVideoGeneration:ie,pollVideoStatusInternal:Z}=await import("./index-Bp4oiTTd.js").then(se=>se.hD);return{submitVideoGeneration:ie,pollVideoStatusInternal:Z}},__vite__mapDeps([1,2])),P=await ce(r.baseUrl||"https://api.siliconflow.cn/v1",r.apiKey,r.id,{prompt:j,image_size:"1280x720",image:T&&T.length>0?T[0].image_url?.url:void 0});return console.log("[useChatFeatures] 获得requestId:",P),oA.saveTask({id:$,requestId:P,messageId:re.id,blockId:te?.id||"",model:r,prompt:j,startTime:new Date().toISOString(),status:"processing"}),{url:await H(r.baseUrl||"https://api.siliconflow.cn/v1",r.apiKey,P)}}})(),ye=`🎬 视频生成完成！

**提示词：** ${j}

**生成时间：** ${new Date().toLocaleString()}

**模型：** ${r.name||r.id}`;if(te&&te.id){await Xt.updateMessageBlockFields(te.id,{content:ye,status:qe.SUCCESS});const ce={id:`video-${Date.now()}`,type:tt.VIDEO,messageId:re.id,url:me.url,mimeType:"video/mp4",status:qe.SUCCESS,width:1280,height:720,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};He.dispatch(ql(ce));const H=[...re.blocks||[],ce.id];He.dispatch(Ge.updateMessage({id:re.id,changes:{blocks:H}})),await De.updateMessage(re.id,{blocks:H}),await De.saveMessageBlock(ce)}He.dispatch(Ge.updateMessage({id:re.id,changes:{status:Bt.SUCCESS,updatedAt:new Date().toISOString()}})),oA.removeTask($)}catch(he){console.error("[useChatFeatures] 视频生成失败:",he),te&&te.id&&await Xt.updateMessageBlockFields(te.id,{content:`❌ 视频生成失败：${he instanceof Error?he.message:String(he)}`,status:qe.ERROR}),He.dispatch(Ge.updateMessage({id:re.id,changes:{status:Bt.ERROR,updatedAt:new Date().toISOString()}})),oA.removeTask($)}},x=async j=>{if(!t||!j.trim())return;const{message:T,blocks:V}=Vl({content:j,assistantId:t.assistantId,topicId:t.id,modelId:r?.id,model:r||void 0});await Xt.saveMessageAndBlocks(T,V);try{He.dispatch({type:"normalizedMessages/setTopicStreaming",payload:{topicId:t.id,streaming:!0}}),He.dispatch({type:"normalizedMessages/setTopicLoading",payload:{topicId:t.id,loading:!0}});const{message:J,blocks:Y}=aa({assistantId:t.assistantId,topicId:t.id,askId:T.id,modelId:r?.id,model:r||void 0,status:Bt.SEARCHING}),oe=Y.find(te=>te.type===tt.MAIN_TEXT);oe&&"content"in oe&&(oe.content="正在搜索网络，请稍候...",oe.status=qe.PROCESSING),await Xt.saveMessageAndBlocks(J,Y);const re=await IS.searchWithStatus(j,t.id,J.id);let pe="";if(re.length===0)pe="没有找到相关结果。";else{pe=`✅ 搜索完成，找到 ${re.length} 个相关结果`;const te={id:`search-results-${Date.now()}`,type:tt.SEARCH_RESULTS,messageId:J.id,content:"",status:qe.SUCCESS,searchResults:re,query:j,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};He.dispatch(ql(te));const{EventEmitter:$,EVENT_NAMES:he}=await gs(async()=>{const{EventEmitter:ye,EVENT_NAMES:ce}=await import("./index-Bp4oiTTd.js").then(H=>H.hy);return{EventEmitter:ye,EVENT_NAMES:ce}},__vite__mapDeps([1,2]));$.emit(he.BLOCK_CREATED,{id:te.id,block:te});const me=await De.getMessage(J.id);if(me){const ye=[te.id,...me.blocks||[]];He.dispatch(Ge.updateMessage({id:J.id,changes:{blocks:ye}})),await De.updateMessage(J.id,{blocks:ye}),await De.saveMessageBlock(te)}}oe&&oe.id&&(await Xt.updateMessageBlockFields(oe.id,{content:pe,status:qe.SUCCESS}),s(Or({id:oe.id,changes:{content:pe,status:qe.SUCCESS,updatedAt:new Date().toISOString()}}))),He.dispatch({type:"normalizedMessages/updateMessageStatus",payload:{topicId:t.id,messageId:J.id,status:Bt.SUCCESS}}),a(!1),oe&&oe.id&&await E(j,re,t,r,J.id,oe.id)}catch(J){console.error("网络搜索失败:",J);const{message:Y,blocks:oe}=aa({assistantId:t.assistantId,topicId:t.id,askId:T.id,modelId:r?.id,model:r||void 0,status:Bt.ERROR}),re=oe.find(pe=>pe.type===tt.MAIN_TEXT);re&&"content"in re&&(re.content=`网络搜索失败: ${J instanceof Error?J.message:String(J)}`,re.status=qe.ERROR),await Xt.saveMessageAndBlocks(Y,oe),He.dispatch({type:"normalizedMessages/setError",payload:{error:`网络搜索失败: ${J instanceof Error?J.message:String(J)}`}}),He.dispatch({type:"normalizedMessages/setTopicStreaming",payload:{topicId:t.id,streaming:!1}}),He.dispatch({type:"normalizedMessages/setTopicLoading",payload:{topicId:t.id,loading:!1}}),a(!1)}},E=async(j,T,V,J,Y,oe)=>{if(!(!V||!J||T.length===0||!Y||!oe))try{console.log("[useChatFeatures] 开始基于搜索结果生成AI回复，使用供应商原生回调");let re=`用户问题：${j}

`;re+=`网络搜索结果：
`,T.forEach((ye,ce)=>{re+=`${ce+1}. 标题：${ye.title}
`,re+=`   链接：${ye.url}
`,re+=`   内容：${ye.snippet}

`}),re+="请基于以上搜索结果，对用户的问题进行详细、准确的回答。请引用相关的搜索结果，并提供有价值的分析和见解。";const he=(He.getState().messageBlocks.entities[oe]?.content||"")+`

---

## 🤖 AI 智能分析

`;await Xt.updateMessageBlockFields(oe,{content:he,status:qe.PROCESSING}),He.dispatch({type:"normalizedMessages/setTopicStreaming",payload:{topicId:V.id,streaming:!0}}),He.dispatch({type:"normalizedMessages/setTopicLoading",payload:{topicId:V.id,loading:!0}});const me=[{id:"search-context",role:"user",content:re,assistantId:V.assistantId,topicId:V.id,createdAt:new Date().toISOString(),status:"success",blocks:[]}];console.log("[useChatFeatures] 使用供应商原生回调处理AI分析"),await D(me,J,Y,oe,he),console.log("[useChatFeatures] AI搜索结果分析完成")}catch(re){console.error("[useChatFeatures] AI搜索结果分析失败:",re)}},D=async(j,T,V,J,Y)=>{try{const{sendChatRequest:oe}=await gs(async()=>{const{sendChatRequest:he}=await import("./index-Bp4oiTTd.js").then(me=>me.hE);return{sendChatRequest:he}},__vite__mapDeps([1,2]));let re="";const pe=await oe({messages:j,modelId:T.id,onChunk:async he=>{re+=he;const me=Y+re;await Xt.updateMessageBlockFields(J,{content:me,status:qe.PROCESSING}),s(Or({id:J,changes:{content:me,status:qe.PROCESSING,updatedAt:new Date().toISOString()}}))}});let te="";pe.success&&pe.content?te=pe.content:pe.error&&(te=`AI分析失败: ${pe.error}`);const $=Y+te;await Xt.updateMessageBlockFields(J,{content:$,status:qe.SUCCESS}),s(Or({id:J,changes:{content:$,status:qe.SUCCESS,updatedAt:new Date().toISOString()}})),He.dispatch({type:"normalizedMessages/setTopicStreaming",payload:{topicId:t.id,streaming:!1}}),He.dispatch({type:"normalizedMessages/setTopicLoading",payload:{topicId:t.id,loading:!1}})}catch(oe){throw console.error("[handleAIAnalysisWithNativeCallbacks] 处理失败:",oe),He.dispatch({type:"normalizedMessages/setTopicStreaming",payload:{topicId:t.id,streaming:!1}}),He.dispatch({type:"normalizedMessages/setTopicLoading",payload:{topicId:t.id,loading:!1}}),oe}},_=()=>{if(!t)return;const j=e.filter(V=>V.role==="assistant"&&(V.status===Bt.PROCESSING||V.status===Bt.PENDING||V.status===Bt.SEARCHING)),T=[...new Set(j?.map(V=>V.askId).filter(V=>!!V))];for(const V of T)H8(V);He.dispatch({type:"messages/setTopicStreaming",payload:{topicId:t.id,streaming:!1}}),j.forEach(V=>{console.log(`[handleStopResponseClick] 更新消息状态为成功: ${V.id}`),s(Ge.updateMessage({id:V.id,changes:{status:Bt.SUCCESS,updatedAt:new Date().toISOString()}}))})},L=async(j,T,V,J)=>{if(o){B(j,T,J),A(!1);return}if(u){await C(j,T,J),l(!1);return}if(i){x(j);return}n(j,T,V,J)},I=()=>{const j=!c;f(j),localStorage.setItem("mcp-tools-enabled",JSON.stringify(j))},G=j=>{g(j),localStorage.setItem("mcp-mode",j)},W=async(j,T,V,J,Y)=>{if(!(!t||!r))try{console.log(`[useChatFeatures] 开始多模型发送，模型数量: ${T.length}`),console.log("[useChatFeatures] 选中的模型:",T.map(ye=>`${ye.provider||ye.providerType}:${ye.id}`));const{message:oe,blocks:re}=Vl({content:j,assistantId:t.assistantId,topicId:t.id,modelId:r.id,model:r,images:V?.map(ye=>({url:ye.image_url?.url||""})),files:Y?.map(ye=>ye.fileRecord).filter(Boolean)}),pe=er(),te=`multi-model-${er()}`,$={id:pe,role:"assistant",content:"",assistantId:t.assistantId,topicId:t.id,askId:oe.id,modelId:r.id,model:r,createdAt:new Date().toISOString(),status:"streaming",blocks:[te]},he=T.map(ye=>({modelId:ye.id,modelName:ye.name||ye.id,content:"",status:qe.PENDING})),me={id:te,messageId:pe,type:tt.MULTI_MODEL,responses:he,displayStyle:"horizontal",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:qe.PENDING};await De.saveMessage(oe),await De.saveMessage($),await De.saveMessageBlock(me);for(const ye of re)await De.saveMessageBlock(ye);s(Ge.addMessage({topicId:t.id,message:oe})),s(Ge.addMessage({topicId:t.id,message:$})),s(ql(me)),T.map(async ye=>{try{await Q(ye,j,te)}catch(ce){console.error(`[useChatFeatures] 模型 ${ye.id} 调用失败:`,ce),await No.updateModelResponse(te,ye.id,`模型调用失败: ${ce}`,"error")}})}catch(oe){console.error("[useChatFeatures] 多模型发送失败:",oe)}},Q=async(j,T,V)=>{try{const Y=[...await De.getTopicMessages(t.id)].sort(($,he)=>{const me=new Date($.createdAt).getTime(),ye=new Date(he.createdAt).getTime();return me-ye}),oe=[];for(const $ of Y){if($.role==="system")continue;const ye=(await De.getMessageBlocksByMessageId($.id)).find(ce=>ce.type==="main_text")?.content||"";ye.trim()&&oe.push({id:$.id,role:$.role,content:ye,assistantId:$.assistantId,topicId:$.topicId,createdAt:$.createdAt,status:$.status,blocks:$.blocks})}oe.push({id:`temp-${Date.now()}`,role:"user",content:T,assistantId:t.assistantId,topicId:t.id,createdAt:new Date().toISOString(),status:"success",blocks:[]});const re=yA.get(j);if(!re)throw new Error(`无法获取模型 ${j.id} 的API提供商`);await No.updateModelResponse(V,j.id,"","streaming");const pe=await re.sendChatMessage(oe,{onUpdate:async $=>{await No.updateModelResponse(V,j.id,$,"streaming")},onChunk:async()=>{},enableTools:!0});let te="";typeof pe=="string"?te=pe:pe&&typeof pe=="object"&&"content"in pe&&(te=pe.content),await No.completeModelResponse(V,j.id,te)}catch(J){console.error(`[useChatFeatures] 模型 ${j.id} 调用失败:`,J),await No.updateModelResponse(V,j.id,`调用失败: ${J instanceof Error?J.message:String(J)}`,"error")}};return{webSearchActive:i,imageGenerationMode:o,videoGenerationMode:u,toolsEnabled:c,mcpMode:m,toggleWebSearch:w,toggleImageGenerationMode:b,toggleVideoGenerationMode:v,toggleToolsEnabled:I,handleMCPModeChange:G,handleWebSearch:x,handleImagePrompt:B,handleVideoPrompt:C,handleStopResponseClick:_,handleMessageSend:L,handleMultiModelSend:W}},US=({onSendMessage:t,currentTopic:e})=>{const r=Sr(),[n,s]=q.useState(!1),[i,a]=q.useState(null),o=q.useRef(null),A=q.useCallback(async(C,x,E)=>{if(e)try{const{message:D,blocks:_}=aa({assistantId:e.assistantId||"",topicId:e.id,modelId:E||"ai-debate",initialContent:C});D.status=Bt.SUCCESS;const L=_.find(I=>I.type===tt.MAIN_TEXT);L&&(L.content=C,L.status=qe.SUCCESS),r(Ge.addMessage({topicId:e.id,message:D})),r(Dc(_)),console.log(`✅ AI消息已发送: ${x}`)}catch(D){console.error("发送AI消息失败:",D)}},[r,e]),u=q.useCallback(async(C,x)=>{if(!(!e||n))try{console.log("🎯 开始AI辩论:",{question:C,config:x}),s(!0),a(x),o.current=setTimeout(()=>{},0);const E=`🎯 **AI辩论开始**

**辩论主题：** ${C}

**参与角色：**
${x.roles.map(D=>`• **${D.name}** (${D.stance==="pro"?"正方":D.stance==="con"?"反方":D.stance==="neutral"?"中立":"主持人"})`).join(`
`)}

**最大轮数：** ${x.maxRounds}

---

让我们开始辩论！`;await A(E,"系统"),await new Promise(D=>setTimeout(D,1e3)),await c(C,x)}catch(E){console.error("开始AI辩论失败:",E),s(!1),a(null),o.current&&(clearTimeout(o.current),o.current=null)}},[e,n,t]),l=q.useCallback(async()=>{console.log("🛑 用户请求停止辩论"),o.current&&(clearTimeout(o.current),o.current=null),n&&(s(!1),a(null),await A(`🛑 **AI辩论已停止**

辩论被用户手动终止。`,"系统"))},[n,A]),c=async(C,x)=>{let E=1,D=0,_=!0;const L=[];for(L.push(`辩论主题：${C}`),console.log("🎯 开始AI辩论流程:",{question:C,maxRounds:x.maxRounds,rolesCount:x.roles.length});E<=x.maxRounds&&_;){console.log(`📢 第${E}轮开始，共${x.roles.length}个角色`);for(let I=0;I<x.roles.length&&_;I++){const G=x.roles[D];console.log(`🎭 ${G.name} 准备发言 (${b(G.stance)})`);try{const W=f(C,L,E,G);console.log(`🤖 正在请求 ${G.name} 的回应...`);const Q=await m(G,W);if(Q&&_){L.push(`${G.name}：${Q}`);const j=`**第${E}轮 - ${G.name}** (${b(G.stance)})

${Q}`;if(console.log(`💬 ${G.name} 发言完成，发送AI消息到界面`),await A(j,G.name,G.modelId),G.stance==="moderator"&&E>=2&&v(Q)){console.log("🏁 主持人建议结束辩论"),await new Promise(T=>setTimeout(T,2e3)),await w(C,L,x);return}console.log("⏳ 等待3秒后继续..."),await new Promise(T=>{o.current=setTimeout(T,3e3)})}}catch(W){console.error(`❌ 角色 ${G.name} 发言失败:`,W)}D=(D+1)%x.roles.length,_=o.current!==null}E++,console.log(`✅ 第${E-1}轮结束`)}_&&(console.log("🏁 达到最大轮数，结束辩论"),await w(C,L,x))},f=(C,x,E,D)=>{let _=`你是${D.name}，${D.description}

`;return _+=`${D.systemPrompt}

`,_+=`当前是第${E}轮辩论。

`,_+=`辩论主题：${C}

`,x.length>1&&(_+=`之前的发言：
`,x.slice(-6).forEach(I=>{_+=`${I}
`}),_+=`
`),D.stance==="moderator"&&(_+=`
📊 **辩论进度提醒**：
`,_+=`- 当前轮数：第${E}轮
`,_+=`- 总发言数：${x.length-1}条
`,E<2?_+=`- 状态：辩论刚开始，请推动讨论深入，不要急于结束
`:E<3?_+=`- 状态：辩论进行中，继续引导各方深入交流
`:_+=`- 状态：可以考虑是否已充分讨论，必要时可建议结束
`,_+=`
`,_+=`🔚 **重要提醒**：如果你认为辩论已经充分进行，各方观点都得到了充分表达，可以在回应的最后添加专属停止指令：
`,_+=`**[DEBATE_END]** - 这是系统识别的结束指令，添加此指令后辩论将立即结束并进入总结阶段。

`),_+="请基于你的角色立场和以上内容进行回应，保持专业和理性。回应应该简洁明了，不超过200字。",_},m=async(C,x)=>{try{if(!C.modelId)return console.warn(`角色 ${C.name} 未配置模型，使用模拟响应`),g(C.stance);const{sendChatRequest:E}=await gs(async()=>{const{sendChatRequest:L}=await import("./index-Bp4oiTTd.js").then(I=>I.hE);return{sendChatRequest:L}},__vite__mapDeps([1,2])),D=[{role:"user",content:x}];console.log(`🤖 调用真实AI API - 角色: ${C.name}, 模型: ${C.modelId}`);const _=await E({messages:D,modelId:C.modelId,systemPrompt:C.systemPrompt});return _.success&&_.content?(console.log(`✅ ${C.name} AI响应成功`),_.content):(console.error(`❌ ${C.name} AI响应失败:`,_.error||"content为空"),console.log("[DEBUG] 完整响应对象:",_),g(C.stance))}catch(E){return console.error(`❌ ${C.name} AI请求异常:`,E),g(C.stance)}},g=C=>{const x={pro:["我认为这个观点是正确的，有充分的证据支持这一立场。从实际效果来看，采用这种方法能够带来显著的积极影响。","支持这个观点的理由很充分。从逻辑角度分析，这是最合理的选择，能够有效解决当前面临的问题。","基于大量的实际案例，我们可以清楚地看到这种做法的积极效果。数据表明这是正确的方向。"],con:["我必须指出这个观点存在明显的缺陷。仔细分析会发现，这种做法可能带来意想不到的负面后果。","反对的理由很充分。从风险评估的角度来看，这种方法的潜在危害远大于可能的收益。","虽然表面上看起来合理，但深入分析会发现这种做法在实际执行中会遇到很多困难和问题。"],neutral:["从客观角度分析，双方都有合理之处。我们需要更全面地考虑各种因素，寻找平衡点。","让我们理性地看待这个问题。每种观点都有其价值，关键是如何在实践中找到最佳的解决方案。","这个问题确实复杂，需要考虑更多的因素和角度。建议我们从多个维度来评估可行性。"],moderator:["感谢各位的精彩发言。让我总结一下目前的主要观点和分歧点，看看是否能找到一些共同点。","讨论很充分，各方都提出了有价值的观点。现在让我们看看是否可以在某些方面达成共识。","基于目前的讨论，我认为各方的观点都得到了充分表达。建议我们可以准备结束这轮辩论了。"]},E=x[C]||x.neutral;return E[Math.floor(Math.random()*E.length)]},b=C=>{switch(C){case"pro":return"正方";case"con":return"反方";case"neutral":return"中立";case"moderator":return"主持人";case"summary":return"总结";default:return"参与者"}},v=C=>C.includes("[DEBATE_END]")?(console.log("🔚 检测到专属停止指令 [DEBATE_END]"),!0):!1,w=async(C,x,E)=>{if(!E.summaryEnabled){s(!1),a(null),await A(`🏁 **AI辩论结束**

感谢各位的精彩辩论！`,"系统");return}try{const _=`🏁 **AI辩论结束**

## 辩论总结

${await B(C,x)}

---

感谢各位AI角色的精彩辩论！`;await A(_,"系统")}catch(D){console.error("生成辩论总结失败:",D),await A(`🏁 **AI辩论结束**

辩论已结束，但总结生成失败。`,"系统")}finally{s(!1),a(null)}},B=async(C,x)=>{try{console.log("🤖 开始生成AI辩论总结...");const E=`请对以下AI辩论进行客观、专业的总结分析：

**辩论主题：** ${C}

**完整辩论记录：**
${x.join(`

`)}

请提供一个结构化的总结，包括：

1. **主要观点梳理**：各方的核心论点和支撑论据
2. **分歧点分析**：双方争议的焦点和根本分歧
3. **论证质量评估**：各方论证的逻辑性和说服力
4. **共识点识别**：可能达成一致的观点或原则
5. **深度思考**：对辩论主题的进一步思考和启发
6. **结论建议**：基于辩论内容的平衡性建议

请保持客观中立，避免偏向任何一方，重点分析论证过程和思维逻辑。`,{sendChatRequest:D}=await gs(async()=>{const{sendChatRequest:I}=await import("./index-Bp4oiTTd.js").then(G=>G.hE);return{sendChatRequest:I}},__vite__mapDeps([1,2]));let _=i?.roles?.find(I=>I.stance==="summary"&&I.modelId);if(_||(_=i?.roles?.find(I=>I.modelId)),!_?.modelId)throw new Error("没有找到配置了模型的角色来生成总结");console.log(`🤖 使用${_.stance==="summary"?"专门的总结角色":"辩论角色"} ${_.modelId} (${_.name}) 生成总结`);const L=await D({messages:[{role:"user",content:E}],modelId:_.modelId,systemPrompt:"你是一位专业的辩论分析师，擅长客观分析和总结辩论内容。请提供深入、平衡的分析。"});if(L.success&&L.content)return console.log("✅ AI总结生成成功"),L.content;throw console.error("❌ AI总结生成失败:",L.error),new Error("AI总结生成失败")}catch(E){return console.error("生成AI总结时发生错误:",E),`
**辩论主题：** ${C}

**主要观点：**
- 正方强调了积极影响和实际效益
- 反方指出了潜在风险和实施困难
- 中立方提供了平衡的分析视角

**核心分歧：**
双方在实施可行性和长期影响方面存在分歧。

**可能共识：**
各方都认同需要谨慎考虑和充分准备。

**建议：**
建议进一步研究和小规模试点，在实践中验证各方观点。

*注：本总结由于技术原因使用了模板格式，未能调用AI进行深度分析。*
      `.trim()}};return{isDebating:n,handleStartDebate:u,handleStopDebate:l,currentDebateConfig:i}},nx=6048e5,MS=864e5,ju=43200,L2=1440,H2=Symbol.for("constructDateFrom");function ni(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&H2 in t?t[H2](e):t instanceof Date?new t.constructor(e):new Date(e)}function _r(t,e){return ni(e||t,t)}let QS={};function ZA(){return QS}function xa(t,e){const r=ZA(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=_r(t,e?.in),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function uc(t,e){return xa(t,{...e,weekStartsOn:1})}function sx(t,e){const r=_r(t,e?.in),n=r.getFullYear(),s=ni(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=uc(s),a=ni(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=uc(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function lc(t){const e=_r(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function eu(t,...e){const r=ni.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function P2(t,e){const r=_r(t,e?.in);return r.setHours(0,0,0,0),r}function RS(t,e,r){const[n,s]=eu(r?.in,t,e),i=P2(n),a=P2(s),o=+i-lc(i),A=+a-lc(a);return Math.round((o-A)/MS)}function OS(t,e){const r=sx(t,e),n=ni(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),uc(n)}function Wl(t,e){const r=+_r(t)-+_r(e);return r<0?-1:r>0?1:r}function NS(t){return ni(t,Date.now())}function LS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function HS(t){return!(!LS(t)&&typeof t!="number"||isNaN(+_r(t)))}function PS(t,e,r){const[n,s]=eu(r?.in,t,e),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function jS(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function zS(t,e){return+_r(t)-+_r(e)}function KS(t,e){const r=_r(t,e?.in);return r.setHours(23,59,59,999),r}function qS(t,e){const r=_r(t,e?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function VS(t,e){const r=_r(t,e?.in);return+KS(r,e)==+qS(r,e)}function GS(t,e,r){const[n,s,i]=eu(r?.in,t,t,e),a=Wl(s,i),o=Math.abs(PS(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let A=Wl(s,i)===-a;VS(n)&&o===1&&Wl(n,i)===1&&(A=!1);const u=a*(o-+A);return u===0?0:u}function WS(t,e,r){const n=zS(t,e)/1e3;return jS(r?.roundingMethod)(n)}function $S(t,e){const r=_r(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const XS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YS=(t,e,r)=>{let n;const s=XS[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ro(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const JS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tT={date:ro({formats:JS,defaultWidth:"full"}),time:ro({formats:ZS,defaultWidth:"full"}),dateTime:ro({formats:eT,defaultWidth:"full"})},rT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nT=(t,e,r,n)=>rT[t];function hs(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r?.width?String(r.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r?.width?String(r.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const sT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lT=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cT={ordinalNumber:lT,era:hs({values:sT,defaultWidth:"wide"}),quarter:hs({values:iT,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:aT,defaultWidth:"wide"}),day:hs({values:oT,defaultWidth:"wide"}),dayPeriod:hs({values:AT,defaultWidth:"wide",formattingValues:uT,defaultFormattingWidth:"wide"})};function fs(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],A=Array.isArray(o)?hT(o,c=>c.test(a)):dT(o,c=>c.test(a));let u;u=t.valueCallback?t.valueCallback(A):A,u=r.valueCallback?r.valueCallback(u):u;const l=e.slice(a.length);return{value:u,rest:l}}}function dT(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function hT(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ix(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const fT=/^(\d+)(th|st|nd|rd)?/i,pT=/\d+/i,gT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mT={any:[/^b/i,/^(a|c)/i]},bT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wT={any:[/1/i,/2/i,/3/i,/4/i]},yT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ET={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ST={ordinalNumber:ix({matchPattern:fT,parsePattern:pT,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:gT,defaultMatchWidth:"wide",parsePatterns:mT,defaultParseWidth:"any"}),quarter:fs({matchPatterns:bT,defaultMatchWidth:"wide",parsePatterns:wT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:yT,defaultMatchWidth:"wide",parsePatterns:xT,defaultParseWidth:"any"}),day:fs({matchPatterns:vT,defaultMatchWidth:"wide",parsePatterns:BT,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:CT,defaultMatchWidth:"any",parsePatterns:ET,defaultParseWidth:"any"})},ax={code:"en-US",formatDistance:YS,formatLong:tT,formatRelative:nT,localize:cT,match:ST,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TT(t,e){const r=_r(t,e?.in);return RS(r,$S(r))+1}function FT(t,e){const r=_r(t,e?.in),n=+uc(r)-+OS(r);return Math.round(n/nx)+1}function ox(t,e){const r=_r(t,e?.in),n=r.getFullYear(),s=ZA(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=ni(e?.in||t,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=xa(a,e),A=ni(e?.in||t,0);A.setFullYear(n,0,i),A.setHours(0,0,0,0);const u=xa(A,e);return+r>=+o?n+1:+r>=+u?n:n-1}function DT(t,e){const r=ZA(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=ox(t,e),i=ni(e?.in||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),xa(i,e)}function kT(t,e){const r=_r(t,e?.in),n=+xa(r,e)-+DT(r,e);return Math.round(n/nx)+1}function Qt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const hi={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Qt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Qt(r+1,2)},d(t,e){return Qt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Qt(t.getHours()%12||12,e.length)},H(t,e){return Qt(t.getHours(),e.length)},m(t,e){return Qt(t.getMinutes(),e.length)},s(t,e){return Qt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Qt(s,e.length)}},Ra={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j2={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return hi.y(t,e)},Y:function(t,e,r,n){const s=ox(t,n),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Qt(a,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qt(i,e.length)},R:function(t,e){const r=sx(t);return Qt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Qt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return hi.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=kT(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Qt(s,e.length)},I:function(t,e,r){const n=FT(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Qt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):hi.d(t,e)},D:function(t,e,r){const n=TT(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Qt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Qt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Ra.noon:n===0?s=Ra.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Ra.evening:n>=12?s=Ra.afternoon:n>=4?s=Ra.morning:s=Ra.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hi.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):hi.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):hi.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):hi.s(t,e)},S:function(t,e){return hi.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return K2(n);case"XXXX":case"XX":return ea(n);case"XXXXX":case"XXX":default:return ea(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return K2(n);case"xxxx":case"xx":return ea(n);case"xxxxx":case"xxx":default:return ea(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z2(n,":");case"OOOO":default:return"GMT"+ea(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z2(n,":");case"zzzz":default:return"GMT"+ea(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Qt(n,e.length)},T:function(t,e,r){return Qt(+t,e.length)}};function z2(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Qt(i,2)}function K2(t,e){return t%60===0?(t>0?"-":"+")+Qt(Math.abs(t)/60,2):ea(t,e)}function ea(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Qt(Math.trunc(n/60),2),i=Qt(n%60,2);return r+s+e+i}const q2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ax=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},IT=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return q2(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",q2(n,e)).replace("{{time}}",Ax(s,e))},_T={p:Ax,P:IT},UT=/^D+$/,MT=/^Y+$/,QT=["D","DD","YY","YYYY"];function RT(t){return UT.test(t)}function OT(t){return MT.test(t)}function NT(t,e,r){const n=LT(t,e,r);if(console.warn(n),QT.includes(t))throw new RangeError(n)}function LT(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jT=/^'([^]*?)'?$/,zT=/''/g,KT=/[a-zA-Z]/;function dg(t,e,r){const n=ZA(),s=r?.locale??n.locale??ax,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=_r(t,r?.in);if(!HS(o))throw new RangeError("Invalid time value");let A=e.match(PT).map(l=>{const c=l[0];if(c==="p"||c==="P"){const f=_T[c];return f(l,s.formatLong)}return l}).join("").match(HT).map(l=>{if(l==="''")return{isToken:!1,value:"'"};const c=l[0];if(c==="'")return{isToken:!1,value:qT(l)};if(j2[c])return{isToken:!0,value:l};if(c.match(KT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+c+"`");return{isToken:!1,value:l}});s.localize.preprocessor&&(A=s.localize.preprocessor(o,A));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return A.map(l=>{if(!l.isToken)return l.value;const c=l.value;(!r?.useAdditionalWeekYearTokens&&OT(c)||!r?.useAdditionalDayOfYearTokens&&RT(c))&&NT(c,e,String(t));const f=j2[c[0]];return f(o,c,s.localize,u)}).join("")}function qT(t){const e=t.match(jT);return e?e[1].replace(zT,"'"):t}function VT(t,e,r){const n=ZA(),s=r?.locale??n.locale??ax,i=2520,a=Wl(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:a}),[A,u]=eu(r?.in,...a>0?[e,t]:[t,e]),l=WS(u,A),c=(lc(u)-lc(A))/1e3,f=Math.round((l-c)/60);let m;if(f<2)return r?.includeSeconds?l<5?s.formatDistance("lessThanXSeconds",5,o):l<10?s.formatDistance("lessThanXSeconds",10,o):l<20?s.formatDistance("lessThanXSeconds",20,o):l<40?s.formatDistance("halfAMinute",0,o):l<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):f===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",f,o);if(f<45)return s.formatDistance("xMinutes",f,o);if(f<90)return s.formatDistance("aboutXHours",1,o);if(f<L2){const g=Math.round(f/60);return s.formatDistance("aboutXHours",g,o)}else{if(f<i)return s.formatDistance("xDays",1,o);if(f<ju){const g=Math.round(f/L2);return s.formatDistance("xDays",g,o)}else if(f<ju*2)return m=Math.round(f/ju),s.formatDistance("aboutXMonths",m,o)}if(m=GS(u,A),m<12){const g=Math.round(f/ju);return s.formatDistance("xMonths",g,o)}else{const g=m%12,b=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",b,o):g<9?s.formatDistance("overXYears",b,o):s.formatDistance("almostXYears",b+1,o)}}function GT(t,e){return VT(t,NS(t),e)}function WT(t,e,r){const[n,s]=eu(r?.in,t,e);return+xa(n,r)==+xa(s,r)}const $T={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},XT=(t,e,r)=>{let n;const s=$T[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?n+"内":n+"前":n},YT={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},JT={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ZT={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},eF={date:ro({formats:YT,defaultWidth:"full"}),time:ro({formats:JT,defaultWidth:"full"}),dateTime:ro({formats:ZT,defaultWidth:"full"})};function V2(t,e,r){const n="eeee p";return WT(t,e,r)?n:t.getTime()>e.getTime()?"'下个'"+n:"'上个'"+n}const tF={lastWeek:V2,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:V2,other:"PP p"},rF=(t,e,r,n)=>{const s=tF[t];return typeof s=="function"?s(e,r,n):s},nF={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},sF={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},iF={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},aF={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},oF={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},AF={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},uF=(t,e)=>{const r=Number(t);switch(e?.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},lF={ordinalNumber:uF,era:hs({values:nF,defaultWidth:"wide"}),quarter:hs({values:sF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:iF,defaultWidth:"wide"}),day:hs({values:aF,defaultWidth:"wide"}),dayPeriod:hs({values:oF,defaultWidth:"wide",formattingValues:AF,defaultFormattingWidth:"wide"})},cF=/^(第\s*)?\d+(日|时|分|秒)?/i,dF=/\d+/i,hF={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},fF={any:[/^(前)/i,/^(公元)/i]},pF={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},gF={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},mF={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},bF={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},wF={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},yF={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},xF={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},vF={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},BF={ordinalNumber:ix({matchPattern:cF,parsePattern:dF,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any"}),quarter:fs({matchPatterns:pF,defaultMatchWidth:"wide",parsePatterns:gF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:mF,defaultMatchWidth:"wide",parsePatterns:bF,defaultParseWidth:"any"}),day:fs({matchPatterns:wF,defaultMatchWidth:"wide",parsePatterns:yF,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:xF,defaultMatchWidth:"any",parsePatterns:vF,defaultParseWidth:"any"})},ux={code:"zh-CN",formatDistance:XT,formatLong:eF,formatRelative:rF,localize:lF,match:BF,options:{weekStartsOn:1,firstWeekContainsDate:4}},CF=t=>{const e=Ht(),[r,n]=q.useState(null),[s,i]=q.useState(null),[a,o]=q.useState(null),[A,u]=q.useState(!0),l=q.useMemo(()=>[],[]),c=dt(L=>L.settings),f=dt(L=>L.settings.providers||[]),m=dt(L=>L.settings.themeStyle),g=Op(e,m),b=c.showUserAvatar!==!1,v=c.showUserName!==!1,w=c.showModelAvatar!==!1,B=c.showModelName!==!1,x=(c.messageStyle||"bubble")==="bubble",E=q.useMemo(()=>{const L=new Map(f.map(I=>[I.id,I.name]));return I=>L.get(I)||I||""},[f]),D=q.useMemo(()=>sn([L=>L.messageBlocks.entities,L=>t.blocks],(L,I)=>!I||I.length===0?l:I.map(G=>L[G]).filter(Boolean)),[t.blocks,l]),_=dt(D);return q.useEffect(()=>{const L=()=>{try{const W=z3();u(W)}catch(W){console.error("获取消息分割线设置失败:",W)}};L();const I=W=>{W.key==="appSettings"&&L()},G=()=>{L()};return window.addEventListener("storage",I),window.addEventListener("settingsChanged",G),()=>{window.removeEventListener("storage",I),window.removeEventListener("settingsChanged",G)}},[]),q.useEffect(()=>{o(s5()),t.role==="assistant"&&t.assistantId?XC(t.assistantId).then(i):i(null),t.role==="assistant"&&t.model?.id?YC(t.model.id,t.model.iconUrl).then(n):n(null)},[t.id,t.assistantId,t.model?.id]),{blocks:_,modelAvatar:r,assistantAvatar:s,userAvatar:a,showMessageDivider:A,settings:c,themeColors:g,themeStyle:m,showUserAvatar:b,showUserName:v,showModelAvatar:w,showModelName:B,isBubbleStyle:x,getProviderName:E,theme:e}},EF=(t,e,r)=>{const n=Sr(),s=q.useRef(r);return q.useEffect(()=>{s.current=r},[r]),q.useEffect(()=>{(async()=>{if(e.length===0&&t.blocks.length>0)try{const o=[];for(const A of t.blocks){const u=await De.getMessageBlock(A);if(u){if("subType"in u&&u.subType==="comparison"){const l=u;if(!l.comboResult||!l.comboResult.modelResults){console.error(`[MessageItem] 对比分析块数据不完整: ${A}`);continue}console.log(`[MessageItem] 成功加载对比分析块: ${A}`)}if(u.type==="multi_model"&&"responses"in u){const l=u;if(!l.responses||!Array.isArray(l.responses)){console.error(`[MessageItem] 多模型块数据不完整: ${A}`);continue}}o.push(u)}else console.warn(`[MessageItem] 数据库中找不到块: ID=${A}`)}o.length>0?n(Dc(o)):console.warn(`[MessageItem] 数据库中没有找到任何块: 消息ID=${t.id}`)}catch(o){console.error(`[MessageItem] 加载消息块失败: 消息ID=${t.id}`,o)}})()},[t.blocks,e.length,n]),q.useEffect(()=>{t.status},[t.status]),{loading:e.length===0&&t.blocks.length>0}},SF=sn([t=>t.messages.currentTopicId,t=>t.messages.messageIdsByTopic,t=>t.messages.entities],(t,e,r)=>t?(e[t]||[]).map(s=>r[s]).filter(Boolean):[]),G2=({currentMessage:t,showCurrentMessage:e=!1})=>{const n=Ht().palette.mode==="dark",[s,i]=q.useState(!1),[a,o]=q.useState(!1);q.useEffect(()=>{const v=()=>{const w=navigator.userAgent,B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(w),C=window.innerWidth<=768;i(B||C)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const A=dt(SF),u=q.useMemo(()=>{if(!A||A.length===0)return 0;let v=0;for(const w of A)if(w.usage?.totalTokens)v+=w.usage.totalTokens;else try{const B=_n(w);B&&(v+=gm(B))}catch(B){console.warn("计算消息token失败:",B)}return v},[A]),l=q.useMemo(()=>{if(!t)return 0;if(t.usage?.totalTokens)return t.usage.totalTokens;try{const v=_n(t);return v?gm(v):0}catch(v){return console.warn("计算当前消息token失败:",v),0}},[t]),c=v=>v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e4?`${(v/1e3).toFixed(1)}K`:v>=1e3?`${(v/1e3).toFixed(0)}K`:v.toString(),f=e&&t?`${c(u)}/${c(l)}`:c(u),m=e&&t?h.jsxs(h.Fragment,{children:["总Token: ",u.toLocaleString(),h.jsx("br",{}),"当前消息: ",l.toLocaleString()]}):`总Token: ${u.toLocaleString()}`,g=()=>{s&&o(v=>!v)},b=()=>{s&&o(!1)};return h.jsx(Zt,{title:m,placement:"top",arrow:!0,open:s?a:!1,onClose:b,disableHoverListener:s,disableFocusListener:s,disableTouchListener:!s,slotProps:{popper:{disablePortal:s}},children:h.jsxs(de,{onClick:g,sx:{display:"flex",alignItems:"center",gap:.5,padding:"2px 4px",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{opacity:.8}},children:[h.jsx(aE,{size:14,color:n?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}),h.jsx(Se,{variant:"caption",sx:{fontSize:"0.75rem",fontWeight:500,color:n?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.7)",fontFamily:"monospace",lineHeight:1,userSelect:"none"},children:f})]})})},W2=()=>{},TF=({message:t,topicId:e,open:r,onClose:n})=>{const s=Sr(),i=Ht(),a=ba(i.breakpoints.down("sm")),o=q.useCallback(async()=>{if(typeof t.content=="string"&&t.content.trim())return t.content.trim();if(!t.blocks||t.blocks.length===0)return"";try{const v=await De.getMessageBlocksByMessageId(t.id);if(v.length===0){const B=[];for(const C of t.blocks)try{const x=await De.getMessageBlock(C);x&&B.push(x)}catch(x){W2("[MessageEditor] 获取块失败:",C,x)}v.push(...B)}const w=v.filter(B=>B.type==="main_text"||B.type==="unknown");for(const B of w){const C=B.content;if(C&&typeof C=="string"&&C.trim())return C.trim()}for(const B of v){const C=B.content;if(C&&typeof C=="string"&&C.trim())return C.trim()}return""}catch{return""}},[t]),[A,u]=q.useState(""),[l,c]=q.useState(!1),f=t.role==="user";q.useEffect(()=>{let v=!0;return r&&!l?(async()=>{try{const B=await o();v&&(u(B),c(!0))}catch{v&&(u(""),c(!0))}})():r||(c(!1),u("")),()=>{v=!1}},[r,l,o]);const m=q.useCallback(async()=>{const v=typeof A=="string"?A.trim():"";if(!(!e||!v))try{let w;if(t.blocks&&t.blocks.length>0)for(const x of t.blocks){const E=await De.getMessageBlock(x);if(E&&(E.type==="main_text"||E.type==="unknown")){w=x;break}}w||console.warn("[MessageEditor] 未找到主文本块，消息可能没有正确的块结构");const B=new Date().toISOString(),C={status:f?P8.SUCCESS:Bt.SUCCESS,updatedAt:B,...f&&{content:v}};try{await De.transaction("rw",[De.messages,De.message_blocks,De.topics],async()=>{if(w&&await De.updateMessageBlock(w,{content:v,updatedAt:B}),await De.updateMessage(t.id,C),e){const x=await De.topics.get(e);if(x&&x.messages){const E=x.messages.findIndex(D=>D.id===t.id);if(E>=0){const D={...x.messages[E],...C};x.messages[E]=D,await De.topics.put(x)}else console.warn("[MessageEditor] 在topic.messages中未找到消息:",t.id)}else console.warn("[MessageEditor] 话题不存在或没有messages数组:",e)}})}catch(x){throw W2("[MessageEditor] 数据库更新失败:",x),x}w&&s({type:"messageBlocks/updateOneBlock",payload:{id:w,changes:{content:v,updatedAt:B}}}),s(Ge.updateMessage({id:t.id,changes:C}));try{j8()}catch(x){console.warn("[MessageEditor] 清除缓存失败:",x)}f||s(Ge.updateMessage({id:t.id,changes:{...t.content&&{content:void 0},updatedAt:new Date().toISOString()}})),setTimeout(()=>{s(Ge.updateMessage({id:t.id,changes:{updatedAt:new Date().toISOString()}})),w&&s({type:"messageBlocks/updateOneBlock",payload:{id:w,changes:{updatedAt:new Date().toISOString()}}})},100),n()}catch{alert("保存失败，请重试")}},[A,e,t,s,f,n]),g=q.useCallback(()=>{n()},[n]),b=q.useCallback(v=>{u(v.target.value)},[]);return h.jsxs(kr,{open:r,onClose:g,fullWidth:!0,maxWidth:a?"xs":"sm",slotProps:{paper:{sx:{margin:a?1:3,maxHeight:a?"90vh":"80vh",...a&&{position:"fixed",top:"5%",left:"5%",right:"5%",bottom:"auto",transform:"none"}}}},disableEscapeKeyDown:a,children:[h.jsxs(an,{sx:{pb:1,fontWeight:500,fontSize:a?"1.1rem":"1.25rem"},children:["编辑",f?"消息":"回复"]}),h.jsx(Ir,{sx:{pt:2,pb:a?1:2},children:h.jsx(Er,{multiline:!0,fullWidth:!0,minRows:a?3:4,maxRows:a?8:10,value:A,onChange:b,variant:"outlined",placeholder:l?"请输入内容...":"正在加载内容...",disabled:!l,autoFocus:l&&!a,sx:{"& .MuiOutlinedInput-root":{fontSize:a?"16px":"14px",lineHeight:1.5}}})}),h.jsxs(on,{sx:{px:3,pb:2,gap:1},children:[h.jsx(ut,{onClick:g,color:"inherit",size:a?"medium":"small",sx:{minWidth:a?80:"auto"},children:"取消"}),h.jsx(ut,{variant:"contained",color:"primary",onClick:m,disabled:!l||!A||!A.trim(),size:a?"medium":"small",sx:{mr:1,minWidth:a?80:"auto"},children:"保存"})]})]})};class FF extends z8{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const r=await(await fetch(e.image)).blob(),n=new ClipboardItem({[r.type]:r});await navigator.clipboard.write([n])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),r=e[0].types[0],n=await e[0].getType(r);return{value:await this._getBlobData(n,r),type:r}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,r){return new Promise((n,s)=>{const i=new FileReader;r.includes("image")?i.readAsDataURL(e):i.readAsText(e),i.onloadend=()=>{const a=i.result;n(a)},i.onerror=a=>{s(a)}})}}const To=K8("Clipboard",{web:()=>new FF});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wf=function(t,e){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wf(t,e)};function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $f=function(){return $f=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$f.apply(this,arguments)};function Xr(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{u(n.next(l))}catch(c){a(c)}}function A(l){try{u(n.throw(l))}catch(c){a(c)}}function u(l){l.done?i(l.value):s(l.value).then(o,A)}u((n=n.apply(t,[])).next())})}function Hr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(l){return A([u,l])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function zu(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var si=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Lc=function(t,e){return si.fromClientRect(t,e.getBoundingClientRect())},DF=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new si(0,0,n,s)},Hc=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},ur=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ku=0;Ku<$2.length;Ku++)kF[$2.charCodeAt(Ku)]=Ku;var X2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qu=0;qu<X2.length;qu++)AA[X2.charCodeAt(qu)]=qu;var IF=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=AA[t.charCodeAt(n)],a=AA[t.charCodeAt(n+1)],o=AA[t.charCodeAt(n+2)],A=AA[t.charCodeAt(n+3)],l[s++]=i<<2|a>>4,l[s++]=(a&15)<<4|o>>2,l[s++]=(o&3)<<6|A&63;return u},_F=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},UF=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},fa=5,hg=11,od=2,MF=hg-fa,lx=65536>>fa,QF=1<<fa,Ad=QF-1,RF=1024>>fa,OF=lx+RF,NF=OF,LF=32,HF=NF+LF,PF=65536>>hg,jF=1<<MF,zF=jF-1,Y2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},KF=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},qF=function(t,e){var r=IF(t),n=Array.isArray(r)?UF(r):new Uint32Array(r),s=Array.isArray(r)?_F(r):new Uint16Array(r),i=24,a=Y2(s,i/2,n[4]/2),o=n[5]===2?Y2(s,(i+n[4])/2):KF(n,Math.ceil((i+n[4])/4));return new VF(n[0],n[1],n[2],n[3],a,o)},VF=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>fa],r=(r<<od)+(e&Ad),this.data[r];if(e<=65535)return r=this.index[lx+(e-55296>>fa)],r=(r<<od)+(e&Ad),this.data[r];if(e<this.highStart)return r=HF-PF+(e>>hg),r=this.index[r],r+=e>>fa&zF,r=this.index[r],r=(r<<od)+(e&Ad),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),J2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vu=0;Vu<J2.length;Vu++)GF[J2.charCodeAt(Vu)]=Vu;var WF="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Z2=50,$F=1,cx=2,dx=3,XF=4,YF=5,eb=7,hx=8,tb=9,wi=10,Xf=11,rb=12,Yf=13,JF=14,uA=15,Jf=16,Gu=17,zo=18,ZF=19,nb=20,Zf=21,Ko=22,ud=23,Oa=24,dn=25,lA=26,cA=27,Na=28,eD=29,ia=30,tD=31,Wu=32,$u=33,ep=34,tp=35,rp=36,MA=37,np=38,$l=39,Xl=40,ld=41,fx=42,rD=43,nD=[9001,65288],px="!",gt="×",Xu="÷",sp=qF(WF),Ns=[ia,rp],ip=[$F,cx,dx,YF],gx=[wi,hx],sb=[cA,lA],sD=ip.concat(gx),ib=[np,$l,Xl,ep,tp],iD=[uA,Yf],aD=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var o=sp.get(i);if(o>Z2?(s.push(!0),o-=Z2):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(Jf);if(o===XF||o===Xf){if(a===0)return n.push(a),r.push(ia);var A=r[a-1];return sD.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(ia))}if(n.push(a),o===tD)return r.push(e==="strict"?Zf:MA);if(o===fx||o===eD)return r.push(ia);if(o===rD)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(MA):r.push(ia);r.push(o)}),[n,r,s]},cd=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==wi)break}if(s===wi)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==wi)break}if(o!==wi)break}return!1},ab=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===wi)r--;else return n}return 0},oD=function(t,e,r,n,s){if(r[n]===0)return gt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return gt;var a=i-1,o=i+1,A=e[i],u=a>=0?e[a]:0,l=e[o];if(A===cx&&l===dx)return gt;if(ip.indexOf(A)!==-1)return px;if(ip.indexOf(l)!==-1||gx.indexOf(l)!==-1)return gt;if(ab(i,e)===hx)return Xu;if(sp.get(t[i])===Xf||(A===Wu||A===$u)&&sp.get(t[o])===Xf||A===eb||l===eb||A===tb||[wi,Yf,uA].indexOf(A)===-1&&l===tb||[Gu,zo,ZF,Oa,Na].indexOf(l)!==-1||ab(i,e)===Ko||cd(ud,Ko,i,e)||cd([Gu,zo],Zf,i,e)||cd(rb,rb,i,e))return gt;if(A===wi)return Xu;if(A===ud||l===ud)return gt;if(l===Jf||A===Jf)return Xu;if([Yf,uA,Zf].indexOf(l)!==-1||A===JF||u===rp&&iD.indexOf(A)!==-1||A===Na&&l===rp||l===nb||Ns.indexOf(l)!==-1&&A===dn||Ns.indexOf(A)!==-1&&l===dn||A===cA&&[MA,Wu,$u].indexOf(l)!==-1||[MA,Wu,$u].indexOf(A)!==-1&&l===lA||Ns.indexOf(A)!==-1&&sb.indexOf(l)!==-1||sb.indexOf(A)!==-1&&Ns.indexOf(l)!==-1||[cA,lA].indexOf(A)!==-1&&(l===dn||[Ko,uA].indexOf(l)!==-1&&e[o+1]===dn)||[Ko,uA].indexOf(A)!==-1&&l===dn||A===dn&&[dn,Na,Oa].indexOf(l)!==-1)return gt;if([dn,Na,Oa,Gu,zo].indexOf(l)!==-1)for(var c=i;c>=0;){var f=e[c];if(f===dn)return gt;if([Na,Oa].indexOf(f)!==-1)c--;else break}if([cA,lA].indexOf(l)!==-1)for(var c=[Gu,zo].indexOf(A)!==-1?a:i;c>=0;){var f=e[c];if(f===dn)return gt;if([Na,Oa].indexOf(f)!==-1)c--;else break}if(np===A&&[np,$l,ep,tp].indexOf(l)!==-1||[$l,ep].indexOf(A)!==-1&&[$l,Xl].indexOf(l)!==-1||[Xl,tp].indexOf(A)!==-1&&l===Xl||ib.indexOf(A)!==-1&&[nb,lA].indexOf(l)!==-1||ib.indexOf(l)!==-1&&A===cA||Ns.indexOf(A)!==-1&&Ns.indexOf(l)!==-1||A===Oa&&Ns.indexOf(l)!==-1||Ns.concat(dn).indexOf(A)!==-1&&l===Ko&&nD.indexOf(t[o])===-1||Ns.concat(dn).indexOf(l)!==-1&&A===zo)return gt;if(A===ld&&l===ld){for(var m=r[i],g=1;m>0&&(m--,e[m]===ld);)g++;if(g%2!==0)return gt}return A===Wu&&l===$u?gt:Xu},AD=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=aD(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[dn,ia,fx].indexOf(o)!==-1?MA:o}));var a=e.wordBreak==="keep-all"?i.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,s,a]},uD=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===px,this.start=n,this.end=s}return t.prototype.slice=function(){return ur.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),lD=function(t,e){var r=Hc(t),n=AD(r,e),s=n[0],i=n[1],a=n[2],o=r.length,A=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var l=gt;u<o&&(l=oD(r,i,s,++u,a))===gt;);if(l!==gt||u===o){var c=new uD(r,l,A,u);return A=u,{value:c,done:!1}}return{done:!0,value:null}}}},cD=1,dD=2,tu=4,ob=8,cc=10,Ab=47,xA=92,hD=9,fD=32,Yu=34,qo=61,pD=35,gD=36,mD=37,Ju=39,Zu=40,Vo=41,bD=95,rn=45,wD=33,yD=60,xD=62,vD=64,BD=91,CD=93,ED=61,SD=123,el=63,TD=125,ub=124,FD=126,DD=128,lb=65533,dd=42,Aa=43,kD=44,ID=58,_D=59,QA=46,UD=0,MD=8,QD=11,RD=14,OD=31,ND=127,is=-1,mx=48,bx=97,wx=101,LD=102,HD=117,PD=122,yx=65,xx=69,vx=70,jD=85,zD=90,jr=function(t){return t>=mx&&t<=57},KD=function(t){return t>=55296&&t<=57343},La=function(t){return jr(t)||t>=yx&&t<=vx||t>=bx&&t<=LD},qD=function(t){return t>=bx&&t<=PD},VD=function(t){return t>=yx&&t<=zD},GD=function(t){return qD(t)||VD(t)},WD=function(t){return t>=DD},tl=function(t){return t===cc||t===hD||t===fD},dc=function(t){return GD(t)||WD(t)||t===bD},cb=function(t){return dc(t)||jr(t)||t===rn},$D=function(t){return t>=UD&&t<=MD||t===QD||t>=RD&&t<=OD||t===ND},mi=function(t,e){return t!==xA?!1:e!==cc},rl=function(t,e,r){return t===rn?dc(e)||mi(e,r):dc(t)?!0:!!(t===xA&&mi(t,e))},hd=function(t,e,r){return t===Aa||t===rn?jr(e)?!0:e===QA&&jr(r):jr(t===QA?e:t)},XD=function(t){var e=0,r=1;(t[e]===Aa||t[e]===rn)&&(t[e]===rn&&(r=-1),e++);for(var n=[];jr(t[e]);)n.push(t[e++]);var s=n.length?parseInt(ur.apply(void 0,n),10):0;t[e]===QA&&e++;for(var i=[];jr(t[e]);)i.push(t[e++]);var a=i.length,o=a?parseInt(ur.apply(void 0,i),10):0;(t[e]===xx||t[e]===wx)&&e++;var A=1;(t[e]===Aa||t[e]===rn)&&(t[e]===rn&&(A=-1),e++);for(var u=[];jr(t[e]);)u.push(t[e++]);var l=u.length?parseInt(ur.apply(void 0,u),10):0;return r*(s+o*Math.pow(10,-a))*Math.pow(10,A*l)},YD={type:2},JD={type:3},ZD={type:4},ek={type:13},tk={type:8},rk={type:21},nk={type:9},sk={type:10},ik={type:11},ak={type:12},ok={type:14},nl={type:23},Ak={type:1},uk={type:25},lk={type:24},ck={type:26},dk={type:27},hk={type:28},fk={type:29},pk={type:31},ap={type:32},Bx=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Hc(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==ap;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Yu:return this.consumeStringToken(Yu);case pD:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(cb(r)||mi(n,s)){var i=rl(r,n,s)?dD:cD,a=this.consumeName();return{type:5,value:a,flags:i}}break;case gD:if(this.peekCodePoint(0)===qo)return this.consumeCodePoint(),ek;break;case Ju:return this.consumeStringToken(Ju);case Zu:return YD;case Vo:return JD;case dd:if(this.peekCodePoint(0)===qo)return this.consumeCodePoint(),ok;break;case Aa:if(hd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case kD:return ZD;case rn:var o=e,A=this.peekCodePoint(0),u=this.peekCodePoint(1);if(hd(o,A,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rl(o,A,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===rn&&u===xD)return this.consumeCodePoint(),this.consumeCodePoint(),lk;break;case QA:if(hd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ab:if(this.peekCodePoint(0)===dd)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===dd&&(l=this.consumeCodePoint(),l===Ab))return this.consumeToken();if(l===is)return this.consumeToken()}break;case ID:return ck;case _D:return dk;case yD:if(this.peekCodePoint(0)===wD&&this.peekCodePoint(1)===rn&&this.peekCodePoint(2)===rn)return this.consumeCodePoint(),this.consumeCodePoint(),uk;break;case vD:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),m=this.peekCodePoint(2);if(rl(c,f,m)){var a=this.consumeName();return{type:7,value:a}}break;case BD:return hk;case xA:if(mi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case CD:return fk;case ED:if(this.peekCodePoint(0)===qo)return this.consumeCodePoint(),tk;break;case SD:return ik;case TD:return ak;case HD:case jD:var g=this.peekCodePoint(0),b=this.peekCodePoint(1);return g===Aa&&(La(b)||b===el)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ub:if(this.peekCodePoint(0)===qo)return this.consumeCodePoint(),nk;if(this.peekCodePoint(0)===ub)return this.consumeCodePoint(),rk;break;case FD:if(this.peekCodePoint(0)===qo)return this.consumeCodePoint(),sk;break;case is:return ap}return tl(e)?(this.consumeWhiteSpace(),pk):jr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):dc(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ur(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();La(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===el&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ur.apply(void 0,e.map(function(A){return A===el?mx:A})),16),i=parseInt(ur.apply(void 0,e.map(function(A){return A===el?vx:A})),16);return{type:30,start:s,end:i}}var a=parseInt(ur.apply(void 0,e),16);if(this.peekCodePoint(0)===rn&&La(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];La(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(ur.apply(void 0,o),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Zu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Zu?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===is)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ju||r===Yu){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===is||this.peekCodePoint(0)===Vo)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),nl)}for(;;){var s=this.consumeCodePoint();if(s===is||s===Vo)return{type:22,value:ur.apply(void 0,e)};if(tl(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===is||this.peekCodePoint(0)===Vo?(this.consumeCodePoint(),{type:22,value:ur.apply(void 0,e)}):(this.consumeBadUrlRemnants(),nl);if(s===Yu||s===Ju||s===Zu||$D(s))return this.consumeBadUrlRemnants(),nl;if(s===xA)if(mi(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nl;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;tl(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Vo||e===is)return;mi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=ur.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===is||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===cc)return this._value.splice(0,n),Ak;if(s===xA){var i=this._value[n+1];i!==is&&i!==void 0&&(i===cc?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):mi(s,i)&&(r+=this.consumeStringSlice(n),r+=ur(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=tu,n=this.peekCodePoint(0);for((n===Aa||n===rn)&&e.push(this.consumeCodePoint());jr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===QA&&jr(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ob;jr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===xx||n===wx)&&((s===Aa||s===rn)&&jr(i)||jr(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ob;jr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[XD(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(rl(s,i,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===mD?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(La(e)){for(var r=ur(e);La(this.peekCodePoint(0))&&r.length<6;)r+=ur(this.consumeCodePoint());tl(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||KD(n)||n>1114111?lb:n}return e===is?lb:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(cb(r))e+=ur(r);else if(mi(r,this.peekCodePoint(0)))e+=ur(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Cx=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new Bx;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||mk(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?ap:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),ru=function(t){return t.type===15},Fo=function(t){return t.type===17},Nt=function(t){return t.type===20},gk=function(t){return t.type===0},op=function(t,e){return Nt(t)&&t.value===e},Ex=function(t){return t.type!==31},lo=function(t){return t.type!==31&&t.type!==4},Cs=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},mk=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},_i=function(t){return t.type===17||t.type===15},wr=function(t){return t.type===16||_i(t)},Sx=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Rr={type:17,number:0,flags:tu},fg={type:16,number:50,flags:tu},yi={type:16,number:100,flags:tu},dA=function(t,e,r){var n=t[0],s=t[1];return[zt(n,e),zt(typeof s<"u"?s:n,r)]},zt=function(t,e){if(t.type===16)return t.number/100*e;if(ru(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Tx="deg",Fx="grad",Dx="rad",kx="turn",Pc={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Tx:return Math.PI*e.number/180;case Fx:return Math.PI/200*e.number;case Dx:return e.number;case kx:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Ix=function(t){return t.type===15&&(t.unit===Tx||t.unit===Fx||t.unit===Dx||t.unit===kx)},_x=function(t){var e=t.filter(Nt).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Rr,Rr];case"to top":case"bottom":return Fn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Rr,yi];case"to right":case"left":return Fn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yi,yi];case"to bottom":case"top":return Fn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yi,Rr];case"to left":case"right":return Fn(270)}return 0},Fn=function(t){return Math.PI*t/180},Si={name:"color",parse:function(t,e){if(e.type===18){var r=bk[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return xi(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return xi(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return xi(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return xi(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var o=Zs[e.value.toUpperCase()];if(typeof o<"u")return o}return Zs.TRANSPARENT}},Ti=function(t){return(255&t)===0},Fr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},xi=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},db=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},hb=function(t,e){var r=e.filter(lo);if(r.length===3){var n=r.map(db),s=n[0],i=n[1],a=n[2];return xi(s,i,a,1)}if(r.length===4){var o=r.map(db),s=o[0],i=o[1],a=o[2],A=o[3];return xi(s,i,a,A)}return 0};function fd(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var fb=function(t,e){var r=e.filter(lo),n=r[0],s=r[1],i=r[2],a=r[3],o=(n.type===17?Fn(n.number):Pc.parse(t,n))/(Math.PI*2),A=wr(s)?s.number/100:0,u=wr(i)?i.number/100:0,l=typeof a<"u"&&wr(a)?zt(a,1):1;if(A===0)return xi(u*255,u*255,u*255,1);var c=u<=.5?u*(A+1):u+A-u*A,f=u*2-c,m=fd(f,c,o+1/3),g=fd(f,c,o),b=fd(f,c,o-1/3);return xi(m*255,g*255,b*255,l)},bk={hsl:fb,hsla:fb,rgb:hb,rgba:hb},vA=function(t,e){return Si.parse(t,Cx.create(e).parseComponentValue())},Zs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wk={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Nt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yk={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jc=function(t,e){var r=Si.parse(t,e[0]),n=e[1];return n&&wr(n)?{color:r,stop:n}:{color:r,stop:null}},pb=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Rr),n.stop===null&&(n.stop=yi);for(var s=[],i=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=zt(o,e);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var u=null,a=0;a<s.length;a++){var l=s[a];if(l===null)u===null&&(u=a);else if(u!==null){for(var c=a-u,f=s[u-1],m=(l-f)/(c+1),g=1;g<=c;g++)s[u+g-1]=m*g;u=null}}return t.map(function(b,v){var w=b.color;return{color:w,stop:Math.max(Math.min(1,s[v]/e),0)}})},xk=function(t,e,r){var n=e/2,s=r/2,i=zt(t[0],e)-n,a=s-zt(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},vk=function(t,e,r){var n=typeof t=="number"?t:xk(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,o=s/2,A=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[s,i-u,i+u,a-A,a+A]},Kn=function(t,e){return Math.sqrt(t*t+e*e)},gb=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,o){var A=o[0],u=o[1],l=Kn(r-A,n-u);return(s?l<a.optimumDistance:l>a.optimumDistance)?{optimumCorner:o,optimumDistance:l}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Bk=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min(Kn(e,r),Kn(e,r-s),Kn(e-n,r),Kn(e-n,r-s));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),A=gb(n,s,e,r,!0),u=A[0],l=A[1];i=Kn(u-e,(l-r)/o),a=o*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max(Kn(e,r),Kn(e,r-s),Kn(e-n,r),Kn(e-n,r-s));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),c=gb(n,s,e,r,!1),u=c[0],l=c[1];i=Kn(u-e,(l-r)/o),a=o*i}break}return Array.isArray(t.size)&&(i=zt(t.size[0],n),a=t.size.length===2?zt(t.size[1],s):i),[i,a]},Ck=function(t,e){var r=Fn(180),n=[];return Cs(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=_x(s);return}else if(Ix(a)){r=Pc.parse(t,a);return}}var o=jc(t,s);n.push(o)}),{angle:r,stops:n,type:1}},sl=function(t,e){var r=Fn(180),n=[];return Cs(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=_x(s);return}else if(Ix(a)){r=(Pc.parse(t,a)+Fn(270))%Fn(360);return}}var o=jc(t,s);n.push(o)}),{angle:r,stops:n,type:1}},Ek=function(t,e){var r=Fn(180),n=[],s=1,i=0,a=3,o=[];return Cs(e).forEach(function(A,u){var l=A[0];if(u===0){if(Nt(l)&&l.value==="linear"){s=1;return}else if(Nt(l)&&l.value==="radial"){s=2;return}}if(l.type===18){if(l.name==="from"){var c=Si.parse(t,l.values[0]);n.push({stop:Rr,color:c})}else if(l.name==="to"){var c=Si.parse(t,l.values[0]);n.push({stop:yi,color:c})}else if(l.name==="color-stop"){var f=l.values.filter(lo);if(f.length===2){var c=Si.parse(t,f[1]),m=f[0];Fo(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:c})}}}}),s===1?{angle:(r+Fn(180))%Fn(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:o,type:s}},Ux="closest-side",Mx="farthest-side",Qx="closest-corner",Rx="farthest-corner",Ox="circle",Nx="ellipse",Lx="cover",Hx="contain",Sk=function(t,e){var r=0,n=3,s=[],i=[];return Cs(e).forEach(function(a,o){var A=!0;if(o===0){var u=!1;A=a.reduce(function(c,f){if(u)if(Nt(f))switch(f.value){case"center":return i.push(fg),c;case"top":case"left":return i.push(Rr),c;case"right":case"bottom":return i.push(yi),c}else(wr(f)||_i(f))&&i.push(f);else if(Nt(f))switch(f.value){case Ox:return r=0,!1;case Nx:return r=1,!1;case"at":return u=!0,!1;case Ux:return n=0,!1;case Lx:case Mx:return n=1,!1;case Hx:case Qx:return n=2,!1;case Rx:return n=3,!1}else if(_i(f)||wr(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return c},A)}if(A){var l=jc(t,a);s.push(l)}}),{size:n,shape:r,stops:s,position:i,type:2}},il=function(t,e){var r=0,n=3,s=[],i=[];return Cs(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(l,c){if(Nt(c))switch(c.value){case"center":return i.push(fg),!1;case"top":case"left":return i.push(Rr),!1;case"right":case"bottom":return i.push(yi),!1}else if(wr(c)||_i(c))return i.push(c),!1;return l},A):o===1&&(A=a.reduce(function(l,c){if(Nt(c))switch(c.value){case Ox:return r=0,!1;case Nx:return r=1,!1;case Hx:case Ux:return n=0,!1;case Mx:return n=1,!1;case Qx:return n=2,!1;case Lx:case Rx:return n=3,!1}else if(_i(c)||wr(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return l},A)),A){var u=jc(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Tk=function(t){return t.type===1},Fk=function(t){return t.type===2},pg={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Px[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Dk(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Px[t.name])}var Px={"linear-gradient":Ck,"-moz-linear-gradient":sl,"-ms-linear-gradient":sl,"-o-linear-gradient":sl,"-webkit-linear-gradient":sl,"radial-gradient":Sk,"-moz-radial-gradient":il,"-ms-radial-gradient":il,"-o-radial-gradient":il,"-webkit-radial-gradient":il,"-webkit-gradient":Ek},kk={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return lo(n)&&Dk(n)}).map(function(n){return pg.parse(t,n)})}},Ik={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Nt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_k={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Cs(e).map(function(r){return r.filter(wr)}).map(Sx)}},Uk={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Cs(e).map(function(r){return r.filter(Nt).map(function(n){return n.value}).join(" ")}).map(Mk)}},Mk=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},no;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(no||(no={}));var Qk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Cs(e).map(function(r){return r.filter(Rk)})}},Rk=function(t){return Nt(t)||wr(t)},zc=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ok=zc("top"),Nk=zc("right"),Lk=zc("bottom"),Hk=zc("left"),Kc=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Sx(r.filter(wr))}}},Pk=Kc("top-left"),jk=Kc("top-right"),zk=Kc("bottom-right"),Kk=Kc("bottom-left"),qc=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qk=qc("top"),Vk=qc("right"),Gk=qc("bottom"),Wk=qc("left"),Vc=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return ru(r)?r.number:0}}},$k=Vc("top"),Xk=Vc("right"),Yk=Vc("bottom"),Jk=Vc("left"),Zk={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eI={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},tI={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Nt).reduce(function(r,n){return r|rI(n.value)},0)}},rI=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},nI={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},sI={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},hc;(function(t){t.NORMAL="normal",t.STRICT="strict"})(hc||(hc={}));var iI={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return hc.STRICT;case"normal":default:return hc.NORMAL}}},aI={name:"line-height",initialValue:"normal",prefix:!1,type:4},mb=function(t,e){return Nt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:wr(t)?zt(t,e):e},oI={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:pg.parse(t,e)}},AI={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Ap={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Gc=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},uI=Gc("top"),lI=Gc("right"),cI=Gc("bottom"),dI=Gc("left"),hI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Nt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},fI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wc=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pI=Wc("top"),gI=Wc("right"),mI=Wc("bottom"),bI=Wc("left"),wI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},yI={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},xI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&op(e[0],"none")?[]:Cs(e).map(function(r){for(var n={color:Zs.TRANSPARENT,offsetX:Rr,offsetY:Rr,blur:Rr},s=0,i=0;i<r.length;i++){var a=r[i];_i(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=Si.parse(t,a)}return n})}},vI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},BI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=SI[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},CI=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},EI=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,o]:null},SI={matrix:CI,matrix3d:EI},bb={type:16,number:50,flags:tu},TI=[bb,bb],FI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(wr);return r.length!==2?TI:[r[0],r[1]]}},DI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},BA;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(BA||(BA={}));var kI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return BA.BREAK_ALL;case"keep-all":return BA.KEEP_ALL;case"normal":default:return BA.NORMAL}}},II={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Fo(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},jx={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_I={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Fo(e)?e.number:1}},UI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},MI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Nt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},QI={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},RI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},OI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Fo(e))return e.number;if(Nt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},NI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Nt).map(function(r){return r.value})}},LI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},vr=function(t,e){return(t&e)!==0},HI={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},PI={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(Ex),i=0;i<s.length;i++){var a=s[i],o=s[i+1];if(a.type===20){var A=o&&Fo(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},jI={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Ex),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(Nt(i)&&i.value!=="none"){var o=a&&Fo(a)?a.number:0;r.push({counter:i.value,reset:o})}}return r}},zI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ru).map(function(r){return jx.parse(t,r)})}},KI={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(gk);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,o=s[i+1].value;n.push({open:a,close:o})}return n}},wb=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},qI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&op(e[0],"none")?[]:Cs(e).map(function(r){for(var n={color:255,offsetX:Rr,offsetY:Rr,blur:Rr,spread:Rr,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];op(a,"inset")?n.inset=!0:_i(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=Si.parse(t,a)}return n})}},VI={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Nt).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},GI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},WI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ru(e)?e.number:0}},$I=function(){function t(e,r){var n,s;this.animationDuration=Xe(e,zI,r.animationDuration),this.backgroundClip=Xe(e,wk,r.backgroundClip),this.backgroundColor=Xe(e,yk,r.backgroundColor),this.backgroundImage=Xe(e,kk,r.backgroundImage),this.backgroundOrigin=Xe(e,Ik,r.backgroundOrigin),this.backgroundPosition=Xe(e,_k,r.backgroundPosition),this.backgroundRepeat=Xe(e,Uk,r.backgroundRepeat),this.backgroundSize=Xe(e,Qk,r.backgroundSize),this.borderTopColor=Xe(e,Ok,r.borderTopColor),this.borderRightColor=Xe(e,Nk,r.borderRightColor),this.borderBottomColor=Xe(e,Lk,r.borderBottomColor),this.borderLeftColor=Xe(e,Hk,r.borderLeftColor),this.borderTopLeftRadius=Xe(e,Pk,r.borderTopLeftRadius),this.borderTopRightRadius=Xe(e,jk,r.borderTopRightRadius),this.borderBottomRightRadius=Xe(e,zk,r.borderBottomRightRadius),this.borderBottomLeftRadius=Xe(e,Kk,r.borderBottomLeftRadius),this.borderTopStyle=Xe(e,qk,r.borderTopStyle),this.borderRightStyle=Xe(e,Vk,r.borderRightStyle),this.borderBottomStyle=Xe(e,Gk,r.borderBottomStyle),this.borderLeftStyle=Xe(e,Wk,r.borderLeftStyle),this.borderTopWidth=Xe(e,$k,r.borderTopWidth),this.borderRightWidth=Xe(e,Xk,r.borderRightWidth),this.borderBottomWidth=Xe(e,Yk,r.borderBottomWidth),this.borderLeftWidth=Xe(e,Jk,r.borderLeftWidth),this.boxShadow=Xe(e,qI,r.boxShadow),this.color=Xe(e,Zk,r.color),this.direction=Xe(e,eI,r.direction),this.display=Xe(e,tI,r.display),this.float=Xe(e,nI,r.cssFloat),this.fontFamily=Xe(e,QI,r.fontFamily),this.fontSize=Xe(e,RI,r.fontSize),this.fontStyle=Xe(e,LI,r.fontStyle),this.fontVariant=Xe(e,NI,r.fontVariant),this.fontWeight=Xe(e,OI,r.fontWeight),this.letterSpacing=Xe(e,sI,r.letterSpacing),this.lineBreak=Xe(e,iI,r.lineBreak),this.lineHeight=Xe(e,aI,r.lineHeight),this.listStyleImage=Xe(e,oI,r.listStyleImage),this.listStylePosition=Xe(e,AI,r.listStylePosition),this.listStyleType=Xe(e,Ap,r.listStyleType),this.marginTop=Xe(e,uI,r.marginTop),this.marginRight=Xe(e,lI,r.marginRight),this.marginBottom=Xe(e,cI,r.marginBottom),this.marginLeft=Xe(e,dI,r.marginLeft),this.opacity=Xe(e,_I,r.opacity);var i=Xe(e,hI,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Xe(e,fI,r.overflowWrap),this.paddingTop=Xe(e,pI,r.paddingTop),this.paddingRight=Xe(e,gI,r.paddingRight),this.paddingBottom=Xe(e,mI,r.paddingBottom),this.paddingLeft=Xe(e,bI,r.paddingLeft),this.paintOrder=Xe(e,VI,r.paintOrder),this.position=Xe(e,yI,r.position),this.textAlign=Xe(e,wI,r.textAlign),this.textDecorationColor=Xe(e,UI,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Xe(e,MI,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Xe(e,xI,r.textShadow),this.textTransform=Xe(e,vI,r.textTransform),this.transform=Xe(e,BI,r.transform),this.transformOrigin=Xe(e,FI,r.transformOrigin),this.visibility=Xe(e,DI,r.visibility),this.webkitTextStrokeColor=Xe(e,GI,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xe(e,WI,r.webkitTextStrokeWidth),this.wordBreak=Xe(e,kI,r.wordBreak),this.zIndex=Xe(e,II,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ti(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return vr(this.display,4)||vr(this.display,33554432)||vr(this.display,268435456)||vr(this.display,536870912)||vr(this.display,67108864)||vr(this.display,134217728)},t}(),XI=function(){function t(e,r){this.content=Xe(e,HI,r.content),this.quotes=Xe(e,KI,r.quotes)}return t}(),yb=function(){function t(e,r){this.counterIncrement=Xe(e,PI,r.counterIncrement),this.counterReset=Xe(e,jI,r.counterReset)}return t}(),Xe=function(t,e,r){var n=new Bx,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new Cx(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,Nt(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Pc.parse(t,i.parseComponentValue());case"color":return Si.parse(t,i.parseComponentValue());case"image":return pg.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return _i(o)?o:Rr;case"length-percentage":var A=i.parseComponentValue();return wr(A)?A:Rr;case"time":return jx.parse(t,i.parseComponentValue())}break}},YI="data-html2canvas-debug",JI=function(t){var e=t.getAttribute(YI);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},up=function(t,e){var r=JI(t);return r===1||e===r},Es=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,up(r,3))debugger;this.styles=new $I(e,window.getComputedStyle(r,null)),dp(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Lc(this.context,r),up(r,4)&&(this.flags|=16)}return t}(),ZI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var al=0;al<xb.length;al++)hA[xb.charCodeAt(al)]=al;var e_=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=hA[t.charCodeAt(n)],a=hA[t.charCodeAt(n+1)],o=hA[t.charCodeAt(n+2)],A=hA[t.charCodeAt(n+3)],l[s++]=i<<2|a>>4,l[s++]=(a&15)<<4|o>>2,l[s++]=(o&3)<<6|A&63;return u},t_=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},r_=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},pa=5,gg=11,pd=2,n_=gg-pa,zx=65536>>pa,s_=1<<pa,gd=s_-1,i_=1024>>pa,a_=zx+i_,o_=a_,A_=32,u_=o_+A_,l_=65536>>gg,c_=1<<n_,d_=c_-1,vb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},h_=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},f_=function(t,e){var r=e_(t),n=Array.isArray(r)?r_(r):new Uint32Array(r),s=Array.isArray(r)?t_(r):new Uint16Array(r),i=24,a=vb(s,i/2,n[4]/2),o=n[5]===2?vb(s,(i+n[4])/2):h_(n,Math.ceil((i+n[4])/4));return new p_(n[0],n[1],n[2],n[3],a,o)},p_=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>pa],r=(r<<pd)+(e&gd),this.data[r];if(e<=65535)return r=this.index[zx+(e-55296>>pa)],r=(r<<pd)+(e&gd),this.data[r];if(e<this.highStart)return r=u_-l_+(e>>gg),r=this.index[r],r+=e>>pa&d_,r=this.index[r],r=(r<<pd)+(e&gd),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Bb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ol=0;ol<Bb.length;ol++)g_[Bb.charCodeAt(ol)]=ol;var m_=1,md=2,bd=3,Cb=4,Eb=5,b_=7,Sb=8,wd=9,yd=10,Tb=11,Fb=12,Db=13,kb=14,xd=15,w_=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},y_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},x_=f_(ZI),vn="×",vd="÷",v_=function(t){return x_.get(t)},B_=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===md&&a===bd)return vn;if(i===md||i===bd||i===Cb||a===md||a===bd||a===Cb)return vd;if(i===Sb&&[Sb,wd,Tb,Fb].indexOf(a)!==-1||(i===Tb||i===wd)&&(a===wd||a===yd)||(i===Fb||i===yd)&&a===yd||a===Db||a===Eb||a===b_||i===m_)return vn;if(i===Db&&a===kb){for(;s===Eb;)s=e[--n];if(s===kb)return vn}if(i===xd&&a===xd){for(var o=0;s===xd;)o++,s=e[--n];if(o%2===0)return vn}return vd},C_=function(t){var e=w_(t),r=e.length,n=0,s=0,i=e.map(v_);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=vn;n<r&&(a=B_(e,i,++n))===vn;);if(a!==vn||n===r){var o=y_.apply(null,e.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},E_=function(t){for(var e=C_(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},S_=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},T_=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Hc(n.data).map(function(A){return ur(A)}),i=0,a={},o=s.every(function(A,u){r.setStart(n,i),r.setEnd(n,i+A.length);var l=r.getBoundingClientRect();i+=A.length;var c=l.x>a.x||l.y>a.y;return a=l,u===0?!0:c});return t.body.removeChild(e),o},F_=function(){return typeof new Image().crossOrigin<"u"},D_=function(){return typeof new XMLHttpRequest().responseType=="string"},k_=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Ib=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},I_=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=lp(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),_b(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",Ib(A)?_b(lp(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Ib(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},lp=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(s),a},_b=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Mr={get SUPPORT_RANGE_BOUNDS(){var t=S_(document);return Object.defineProperty(Mr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Mr.SUPPORT_RANGE_BOUNDS&&T_(document);return Object.defineProperty(Mr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=k_(document);return Object.defineProperty(Mr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?I_(document):Promise.resolve(!1);return Object.defineProperty(Mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=F_();return Object.defineProperty(Mr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=D_();return Object.defineProperty(Mr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},CA=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),__=function(t,e,r,n){var s=Q_(e,r),i=[],a=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Mr.SUPPORT_RANGE_BOUNDS){var A=Ub(n,a,o.length).getClientRects();if(A.length>1){var u=mg(o),l=0;u.forEach(function(f){i.push(new CA(f,si.fromDOMRectList(t,Ub(n,l+a,f.length).getClientRects()))),l+=f.length})}else i.push(new CA(o,si.fromDOMRectList(t,A)))}else{var c=n.splitText(o.length);i.push(new CA(o,U_(t,n))),n=c}else Mr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),i},U_=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=Lc(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return si.EMPTY},Ub=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},mg=function(t){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return E_(t)},M_=function(t,e){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return O_(t,e)},Q_=function(t,e){return e.letterSpacing!==0?mg(t):M_(t,e)},R_=[32,160,4961,65792,65793,4153,4241],O_=function(t,e){for(var r=lD(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),o=Hc(a),A="";o.forEach(function(u){R_.indexOf(u)===-1?A+=ur(u):(A.length&&n.push(A),n.push(ur(u)),A="")}),A.length&&n.push(A)}};!(s=r.next()).done;)i();return n},N_=function(){function t(e,r,n){this.text=L_(r.data,n.textTransform),this.textBounds=__(e,this.text,n,r)}return t}(),L_=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(H_,P_);case 2:return t.toUpperCase();default:return t}},H_=/(^|\s|:|-|\(|\))([a-z])/g,P_=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Kx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Es),qx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Es),Vx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=Lc(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Es),Gx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Es),cp=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Es),j_=[{type:15,flags:0,unit:"px",number:3}],z_=[{type:16,flags:0,number:50}],K_=function(t){return t.width>t.height?new si(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new si(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},q_=function(t){var e=t.type===V_?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},fc="checkbox",pc="radio",V_="password",Mb=707406591,bg=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=q_(n),(s.type===fc||s.type===pc)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=K_(s.bounds)),s.type){case fc:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=j_;break;case pc:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=z_;break}return s}return e}(Es),Wx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Es),$x=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Es),Xx=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=Jx(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?vA(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Zs.TRANSPARENT,a=n.contentWindow.document.body?vA(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Zs.TRANSPARENT;s.backgroundColor=Ti(i)?Ti(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Es),G_=["OL","UL","MENU"],Yl=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,Zx(s)&&s.data.trim().length>0)r.textNodes.push(new N_(t,s,r.styles));else if(eo(s))if(nv(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return Yl(t,o,r,n)});else{var a=Yx(t,s);a.styles.isVisible()&&(W_(s,a,n)?a.flags|=4:$_(a.styles)&&(a.flags|=2),G_.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?Yl(t,s.shadowRoot,a,n):!gc(s)&&!ev(s)&&!mc(s)&&Yl(t,s,a,n))}},Yx=function(t,e){return hp(e)?new Kx(t,e):tv(e)?new qx(t,e):ev(e)?new Vx(t,e):X_(e)?new Gx(t,e):Y_(e)?new cp(t,e):J_(e)?new bg(t,e):mc(e)?new Wx(t,e):gc(e)?new $x(t,e):rv(e)?new Xx(t,e):new Es(t,e)},Jx=function(t,e){var r=Yx(t,e);return r.flags|=4,Yl(t,e,r,r),r},W_=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||wg(t)&&r.styles.isTransparent()},$_=function(t){return t.isPositioned()||t.isFloating()},Zx=function(t){return t.nodeType===Node.TEXT_NODE},eo=function(t){return t.nodeType===Node.ELEMENT_NODE},dp=function(t){return eo(t)&&typeof t.style<"u"&&!Jl(t)},Jl=function(t){return typeof t.className=="object"},X_=function(t){return t.tagName==="LI"},Y_=function(t){return t.tagName==="OL"},J_=function(t){return t.tagName==="INPUT"},Z_=function(t){return t.tagName==="HTML"},ev=function(t){return t.tagName==="svg"},wg=function(t){return t.tagName==="BODY"},tv=function(t){return t.tagName==="CANVAS"},Qb=function(t){return t.tagName==="VIDEO"},hp=function(t){return t.tagName==="IMG"},rv=function(t){return t.tagName==="IFRAME"},Rb=function(t){return t.tagName==="STYLE"},eU=function(t){return t.tagName==="SCRIPT"},gc=function(t){return t.tagName==="TEXTAREA"},mc=function(t){return t.tagName==="SELECT"},nv=function(t){return t.tagName==="SLOT"},Ob=function(t){return t.tagName.indexOf("-")>0},tU=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return i&&s.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),Nb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Lb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},rU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},nU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ha=function(t,e,r,n,s,i){return t<e||t>r?RA(t,s,i.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+i},sv=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Ar=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(sv(Math.abs(t),i,n,function(a){return ur(Math.floor(a%i)+e)})+s)},Gi=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return sv(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},$a=1,fi=2,pi=4,fA=8,Ls=function(t,e,r,n,s,i){if(t<-9999||t>9999)return RA(t,4,s.length>0);var a=Math.abs(t),o=s;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var u=a%10;u===0&&vr(i,$a)&&o!==""?o=e[u]+o:u>1||u===1&&A===0||u===1&&A===1&&vr(i,fi)||u===1&&A===1&&vr(i,pi)&&t>100||u===1&&A>1&&vr(i,fA)?o=e[u]+(A>0?r[A-1]:"")+o:u===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},Hb="十百千萬",Pb="拾佰仟萬",jb="マイナス",Bd="마이너스",RA=function(t,e,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Ar(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Gi(t,"〇一二三四五六七八九",s);case 6:return Ha(t,1,3999,Nb,3,n).toLowerCase();case 7:return Ha(t,1,3999,Nb,3,n);case 8:return Ar(t,945,969,!1,n);case 9:return Ar(t,97,122,!1,n);case 10:return Ar(t,65,90,!1,n);case 11:return Ar(t,1632,1641,!0,n);case 12:case 49:return Ha(t,1,9999,Lb,3,n);case 35:return Ha(t,1,9999,Lb,3,n).toLowerCase();case 13:return Ar(t,2534,2543,!0,n);case 14:case 30:return Ar(t,6112,6121,!0,n);case 15:return Gi(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return Gi(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Ls(t,"零一二三四五六七八九",Hb,"負",s,fi|pi|fA);case 47:return Ls(t,"零壹貳參肆伍陸柒捌玖",Pb,"負",s,$a|fi|pi|fA);case 42:return Ls(t,"零一二三四五六七八九",Hb,"负",s,fi|pi|fA);case 41:return Ls(t,"零壹贰叁肆伍陆柒捌玖",Pb,"负",s,$a|fi|pi|fA);case 26:return Ls(t,"〇一二三四五六七八九","十百千万",jb,s,0);case 25:return Ls(t,"零壱弐参四伍六七八九","拾百千万",jb,s,$a|fi|pi);case 31:return Ls(t,"영일이삼사오육칠팔구","십백천만",Bd,i,$a|fi|pi);case 33:return Ls(t,"零一二三四五六七八九","十百千萬",Bd,i,0);case 32:return Ls(t,"零壹貳參四五六七八九","拾百千",Bd,i,$a|fi|pi);case 18:return Ar(t,2406,2415,!0,n);case 20:return Ha(t,1,19999,nU,3,n);case 21:return Ar(t,2790,2799,!0,n);case 22:return Ar(t,2662,2671,!0,n);case 22:return Ha(t,1,10999,rU,3,n);case 23:return Gi(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Gi(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ar(t,3302,3311,!0,n);case 28:return Gi(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return Gi(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Ar(t,3792,3801,!0,n);case 37:return Ar(t,6160,6169,!0,n);case 38:return Ar(t,4160,4169,!0,n);case 39:return Ar(t,2918,2927,!0,n);case 40:return Ar(t,1776,1785,!0,n);case 43:return Ar(t,3046,3055,!0,n);case 44:return Ar(t,3174,3183,!0,n);case 45:return Ar(t,3664,3673,!0,n);case 46:return Ar(t,3872,3881,!0,n);case 3:default:return Ar(t,48,57,!0,n)}},iv="data-html2canvas-ignore",zb=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new tU,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=sU(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=s.contentWindow,A=o.document,u=oU(s).then(function(){return Xr(n,void 0,void 0,function(){var l,c;return Hr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(cU),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),l=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,aU(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(A,c)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(uU(document.doctype)+"<html></html>"),lU(this.referenceElement.ownerDocument,i,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),u},t.prototype.createElementClone=function(e){if(up(e,2))debugger;if(tv(e))return this.createCanvasClone(e);if(Qb(e))return this.createVideoClone(e);if(Rb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return hp(r)&&(hp(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Ob(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Cd(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();A?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!eo(r)||!eU(r)&&!r.hasAttribute(iv)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!eo(r)||!Rb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(eo(i)&&nv(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(Zx(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&eo(e)&&(dp(e)||Jl(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&dp(s)&&(this.clonedReferenceElement=s),wg(s)&&fU(s);var A=this.counters.parse(new yb(this.context,i)),u=this.resolvePseudoContent(e,s,a,EA.BEFORE);Ob(e)&&(r=!0),Qb(e)||this.cloneChildNodes(e,s,r),u&&s.insertBefore(u,s.firstChild);var l=this.resolvePseudoContent(e,s,o,EA.AFTER);return l&&s.appendChild(l),this.counters.pop(A),(i&&(this.options.copyStyles||Jl(e))&&!rv(e)||r)&&Cd(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(gc(e)||mc(e))&&(gc(s)||mc(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new yb(this.context,n));var A=new XI(this.context,n),u=o.createElement("html2canvaspseudoelement");Cd(n,u),A.content.forEach(function(c){if(c.type===0)u.appendChild(o.createTextNode(c.value));else if(c.type===22){var f=o.createElement("img");f.src=c.value,f.style.opacity="1",u.appendChild(f)}else if(c.type===18){if(c.name==="attr"){var m=c.values.filter(Nt);m.length&&u.appendChild(o.createTextNode(e.getAttribute(m[0].value)||""))}else if(c.name==="counter"){var g=c.values.filter(lo),b=g[0],v=g[1];if(b&&Nt(b)){var w=i.counters.getCounterValue(b.value),B=v&&Nt(v)?Ap.parse(i.context,v.value):3;u.appendChild(o.createTextNode(RA(w,B,!1)))}}else if(c.name==="counters"){var C=c.values.filter(lo),b=C[0],x=C[1],v=C[2];if(b&&Nt(b)){var E=i.counters.getCounterValues(b.value),D=v&&Nt(v)?Ap.parse(i.context,v.value):3,_=x&&x.type===0?x.value:"",L=E.map(function(W){return RA(W,D,!1)}).join(_);u.appendChild(o.createTextNode(L))}}}else if(c.type===20)switch(c.value){case"open-quote":u.appendChild(o.createTextNode(wb(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(wb(A.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(c.value))}}),u.className=fp+" "+pp;var l=s===EA.BEFORE?" "+fp:" "+pp;return Jl(r)?r.className.baseValue+=l:r.className+=l,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),EA;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(EA||(EA={}));var sU=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(iv,"true"),t.body.appendChild(r),r},iU=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},aU=function(t){return Promise.all([].slice.call(t.images,0).map(iU))},oU=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},AU=["all","d","content"],Cd=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);AU.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},uU=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},lU=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},cU=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},dU=":before",hU=":after",fp="___html2canvas___pseudoelement_before",pp="___html2canvas___pseudoelement_after",Kb=`{
    content: "" !important;
    display: none !important;
}`,fU=function(t){pU(t,"."+fp+dU+Kb+`
         .`+pp+hU+Kb)},pU=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},av=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),gU=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Sd(e)||yU(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Xr(this,void 0,void 0,function(){var r,n,s,i,a=this;return Hr(this,function(o){switch(o.label){case 0:return r=av.isSameOrigin(e),n=!Ed(e)&&this._options.useCORS===!0&&Mr.SUPPORT_CORS_IMAGES&&!r,s=!Ed(e)&&!r&&!Sd(e)&&typeof this._options.proxy=="string"&&Mr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Ed(e)&&!Sd(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,u){var l=new Image;l.onload=function(){return A(l)},l.onerror=u,(xU(i)||n)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return A(l)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var o=Mr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")i(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return i(c.result)},!1),c.addEventListener("error",function(f){return a(f)},!1),c.readAsDataURL(A.response)}else a("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=a;var u=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var l=r._options.imageTimeout;A.timeout=l,A.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+s)}}A.send()})},t}(),mU=/^data:image\/svg\+xml/i,bU=/^data:image\/.*;base64,/i,wU=/^data:image\/.*/i,yU=function(t){return Mr.SUPPORT_SVG_DRAWING||!vU(t)},Ed=function(t){return wU.test(t)},xU=function(t){return bU.test(t)},Sd=function(t){return t.substr(0,4)==="blob"},vU=function(t){return t.substr(-3).toLowerCase()==="svg"||mU.test(t)},We=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Pa=function(t,e,r){return new We(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Al=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Pa(this.start,this.startControl,e),s=Pa(this.startControl,this.endControl,e),i=Pa(this.endControl,this.end,e),a=Pa(n,s,e),o=Pa(s,i,e),A=Pa(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),En=function(t){return t.type===1},BU=function(){function t(e){var r=e.styles,n=e.bounds,s=dA(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],o=dA(r.borderTopRightRadius,n.width,n.height),A=o[0],u=o[1],l=dA(r.borderBottomRightRadius,n.width,n.height),c=l[0],f=l[1],m=dA(r.borderBottomLeftRadius,n.width,n.height),g=m[0],b=m[1],v=[];v.push((i+A)/n.width),v.push((g+c)/n.width),v.push((a+b)/n.height),v.push((u+f)/n.height);var w=Math.max.apply(Math,v);w>1&&(i/=w,a/=w,A/=w,u/=w,c/=w,f/=w,g/=w,b/=w);var B=n.width-A,C=n.height-f,x=n.width-c,E=n.height-b,D=r.borderTopWidth,_=r.borderRightWidth,L=r.borderBottomWidth,I=r.borderLeftWidth,G=zt(r.paddingTop,e.bounds.width),W=zt(r.paddingRight,e.bounds.width),Q=zt(r.paddingBottom,e.bounds.width),j=zt(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?$t(n.left+I/3,n.top+D/3,i-I/3,a-D/3,Ut.TOP_LEFT):new We(n.left+I/3,n.top+D/3),this.topRightBorderDoubleOuterBox=i>0||a>0?$t(n.left+B,n.top+D/3,A-_/3,u-D/3,Ut.TOP_RIGHT):new We(n.left+n.width-_/3,n.top+D/3),this.bottomRightBorderDoubleOuterBox=c>0||f>0?$t(n.left+x,n.top+C,c-_/3,f-L/3,Ut.BOTTOM_RIGHT):new We(n.left+n.width-_/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=g>0||b>0?$t(n.left+I/3,n.top+E,g-I/3,b-L/3,Ut.BOTTOM_LEFT):new We(n.left+I/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?$t(n.left+I*2/3,n.top+D*2/3,i-I*2/3,a-D*2/3,Ut.TOP_LEFT):new We(n.left+I*2/3,n.top+D*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?$t(n.left+B,n.top+D*2/3,A-_*2/3,u-D*2/3,Ut.TOP_RIGHT):new We(n.left+n.width-_*2/3,n.top+D*2/3),this.bottomRightBorderDoubleInnerBox=c>0||f>0?$t(n.left+x,n.top+C,c-_*2/3,f-L*2/3,Ut.BOTTOM_RIGHT):new We(n.left+n.width-_*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||b>0?$t(n.left+I*2/3,n.top+E,g-I*2/3,b-L*2/3,Ut.BOTTOM_LEFT):new We(n.left+I*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=i>0||a>0?$t(n.left+I/2,n.top+D/2,i-I/2,a-D/2,Ut.TOP_LEFT):new We(n.left+I/2,n.top+D/2),this.topRightBorderStroke=i>0||a>0?$t(n.left+B,n.top+D/2,A-_/2,u-D/2,Ut.TOP_RIGHT):new We(n.left+n.width-_/2,n.top+D/2),this.bottomRightBorderStroke=c>0||f>0?$t(n.left+x,n.top+C,c-_/2,f-L/2,Ut.BOTTOM_RIGHT):new We(n.left+n.width-_/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=g>0||b>0?$t(n.left+I/2,n.top+E,g-I/2,b-L/2,Ut.BOTTOM_LEFT):new We(n.left+I/2,n.top+n.height-L/2),this.topLeftBorderBox=i>0||a>0?$t(n.left,n.top,i,a,Ut.TOP_LEFT):new We(n.left,n.top),this.topRightBorderBox=A>0||u>0?$t(n.left+B,n.top,A,u,Ut.TOP_RIGHT):new We(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||f>0?$t(n.left+x,n.top+C,c,f,Ut.BOTTOM_RIGHT):new We(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||b>0?$t(n.left,n.top+E,g,b,Ut.BOTTOM_LEFT):new We(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?$t(n.left+I,n.top+D,Math.max(0,i-I),Math.max(0,a-D),Ut.TOP_LEFT):new We(n.left+I,n.top+D),this.topRightPaddingBox=A>0||u>0?$t(n.left+Math.min(B,n.width-_),n.top+D,B>n.width+_?0:Math.max(0,A-_),Math.max(0,u-D),Ut.TOP_RIGHT):new We(n.left+n.width-_,n.top+D),this.bottomRightPaddingBox=c>0||f>0?$t(n.left+Math.min(x,n.width-I),n.top+Math.min(C,n.height-L),Math.max(0,c-_),Math.max(0,f-L),Ut.BOTTOM_RIGHT):new We(n.left+n.width-_,n.top+n.height-L),this.bottomLeftPaddingBox=g>0||b>0?$t(n.left+I,n.top+Math.min(E,n.height-L),Math.max(0,g-I),Math.max(0,b-L),Ut.BOTTOM_LEFT):new We(n.left+I,n.top+n.height-L),this.topLeftContentBox=i>0||a>0?$t(n.left+I+j,n.top+D+G,Math.max(0,i-(I+j)),Math.max(0,a-(D+G)),Ut.TOP_LEFT):new We(n.left+I+j,n.top+D+G),this.topRightContentBox=A>0||u>0?$t(n.left+Math.min(B,n.width+I+j),n.top+D+G,B>n.width+I+j?0:A-I+j,u-(D+G),Ut.TOP_RIGHT):new We(n.left+n.width-(_+W),n.top+D+G),this.bottomRightContentBox=c>0||f>0?$t(n.left+Math.min(x,n.width-(I+j)),n.top+Math.min(C,n.height+D+G),Math.max(0,c-(_+W)),f-(L+Q),Ut.BOTTOM_RIGHT):new We(n.left+n.width-(_+W),n.top+n.height-(L+Q)),this.bottomLeftContentBox=g>0||b>0?$t(n.left+I+j,n.top+E,Math.max(0,g-(I+j)),b-(L+Q),Ut.BOTTOM_LEFT):new We(n.left+I+j,n.top+n.height-(L+Q))}return t}(),Ut;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ut||(Ut={}));var $t=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,o=n*i,A=t+r,u=e+n;switch(s){case Ut.TOP_LEFT:return new Al(new We(t,u),new We(t,u-o),new We(A-a,e),new We(A,e));case Ut.TOP_RIGHT:return new Al(new We(t,e),new We(t+a,e),new We(A,u-o),new We(A,u));case Ut.BOTTOM_RIGHT:return new Al(new We(A,e),new We(A,e+o),new We(t+a,u),new We(t,u));case Ut.BOTTOM_LEFT:default:return new Al(new We(A,u),new We(A-a,u),new We(t,e+o),new We(t,e))}},bc=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},CU=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},wc=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},EU=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),ul=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),SU=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),TU=function(t){return t.type===0},ov=function(t){return t.type===1},FU=function(t){return t.type===2},qb=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},DU=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},Av=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),uv=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new BU(this.container),this.container.styles.opacity<1&&this.effects.push(new SU(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new EU(n,s,i))}if(this.container.styles.overflowX!==0){var a=bc(this.curves),o=wc(this.curves);qb(a,o)?this.effects.push(new ul(a,6)):(this.effects.push(new ul(a,2)),this.effects.push(new ul(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!ov(A)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=bc(n.curves),o=wc(n.curves);qb(a,o)||s.unshift(new ul(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(A){return vr(A.target,e)})},t}(),gp=function(t,e,r,n){t.container.elements.forEach(function(s){var i=vr(s.flags,4),a=vr(s.flags,2),o=new uv(s,t);vr(s.styles.display,2048)&&n.push(o);var A=vr(s.flags,8)?[]:n;if(i||a){var u=i||s.styles.isPositioned()?r:e,l=new Av(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var c=s.styles.zIndex.order;if(c<0){var f=0;u.negativeZIndex.some(function(g,b){return c>g.element.container.styles.zIndex.order?(f=b,!1):f>0}),u.negativeZIndex.splice(f,0,l)}else if(c>0){var m=0;u.positiveZIndex.some(function(g,b){return c>=g.element.container.styles.zIndex.order?(m=b+1,!1):m>0}),u.positiveZIndex.splice(m,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else s.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);gp(o,l,i?l:r,A)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),gp(o,e,r,A);vr(s.flags,8)&&lv(s,A)})},lv=function(t,e){for(var r=t instanceof cp?t.start:1,n=t instanceof cp?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof Gx&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=RA(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},kU=function(t){var e=new uv(t,null),r=new Av(e),n=[];return gp(e,r,r,n),lv(e.container,n),r},Vb=function(t,e){switch(e){case 0:return Dn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Dn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Dn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Dn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},IU=function(t,e){switch(e){case 0:return Dn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Dn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Dn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Dn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},_U=function(t,e){switch(e){case 0:return Dn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Dn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Dn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Dn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},UU=function(t,e){switch(e){case 0:return ll(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return ll(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return ll(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return ll(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},ll=function(t,e){var r=[];return En(t)?r.push(t.subdivide(.5,!1)):r.push(t),En(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Dn=function(t,e,r,n){var s=[];return En(t)?s.push(t.subdivide(.5,!1)):s.push(t),En(r)?s.push(r.subdivide(.5,!0)):s.push(r),En(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),En(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},cv=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},yc=function(t){var e=t.styles,r=t.bounds,n=zt(e.paddingLeft,r.width),s=zt(e.paddingRight,r.width),i=zt(e.paddingTop,r.width),a=zt(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},MU=function(t,e){return t===0?e.bounds:t===2?yc(e):cv(e)},QU=function(t,e){return t===0?e.bounds:t===2?yc(e):cv(e)},Td=function(t,e,r){var n=MU(Xa(t.styles.backgroundOrigin,e),t),s=QU(Xa(t.styles.backgroundClip,e),t),i=RU(Xa(t.styles.backgroundSize,e),r,n),a=i[0],o=i[1],A=dA(Xa(t.styles.backgroundPosition,e),n.width-a,n.height-o),u=OU(Xa(t.styles.backgroundRepeat,e),A,i,n,s),l=Math.round(n.left+A[0]),c=Math.round(n.top+A[1]);return[u,l,c,a,o]},ja=function(t){return Nt(t)&&t.value===no.AUTO},cl=function(t){return typeof t=="number"},RU=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(wr(a)&&o&&wr(o))return[zt(a,r.width),zt(o,r.height)];var A=cl(i);if(Nt(a)&&(a.value===no.CONTAIN||a.value===no.COVER)){if(cl(i)){var u=r.width/r.height;return u<i!=(a.value===no.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var l=cl(n),c=cl(s),f=l||c;if(ja(a)&&(!o||ja(o))){if(l&&c)return[n,s];if(!A&&!f)return[r.width,r.height];if(f&&A){var m=l?n:s*i,g=c?s:n/i;return[m,g]}var b=l?n:r.width,v=c?s:r.height;return[b,v]}if(A){var w=0,B=0;return wr(a)?w=zt(a,r.width):wr(o)&&(B=zt(o,r.height)),ja(a)?w=B*i:(!o||ja(o))&&(B=w/i),[w,B]}var C=null,x=null;if(wr(a)?C=zt(a,r.width):o&&wr(o)&&(x=zt(o,r.height)),C!==null&&(!o||ja(o))&&(x=l&&c?C/n*s:r.height),x!==null&&ja(a)&&(C=l&&c?x/s*n:r.width),C!==null&&x!==null)return[C,x];throw new Error("Unable to calculate background-size for element")},Xa=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},OU=function(t,e,r,n,s){var i=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new We(Math.round(n.left),Math.round(n.top+a)),new We(Math.round(n.left+n.width),Math.round(n.top+a)),new We(Math.round(n.left+n.width),Math.round(A+n.top+a)),new We(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new We(Math.round(n.left+i),Math.round(n.top)),new We(Math.round(n.left+i+o),Math.round(n.top)),new We(Math.round(n.left+i+o),Math.round(n.height+n.top)),new We(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new We(Math.round(n.left+i),Math.round(n.top+a)),new We(Math.round(n.left+i+o),Math.round(n.top+a)),new We(Math.round(n.left+i+o),Math.round(n.top+a+A)),new We(Math.round(n.left+i),Math.round(n.top+a+A))];default:return[new We(Math.round(s.left),Math.round(s.top)),new We(Math.round(s.left+s.width),Math.round(s.top)),new We(Math.round(s.left+s.width),Math.round(s.height+s.top)),new We(Math.round(s.left),Math.round(s.height+s.top))]}},NU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Gb="Hidden Text",LU=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=NU,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Gb)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Gb)),n.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),dv=function(){function t(e,r){this.context=e,this.options=r}return t}(),HU=1e4,PU=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new LU(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),FU(r)&&(this.ctx.globalAlpha=r.opacity),TU(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),ov(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Xr(this,void 0,void 0,function(){var n;return Hr(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Xr(this,void 0,void 0,function(){return Hr(this,function(n){switch(n.label){case 0:if(vr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=mg(r.text);a.reduce(function(o,A){return i.ctx.fillText(A,o,r.bounds.top+s),o+i.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=VU(r.fontFamily).join(", "),i=ru(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Xr(this,void 0,void 0,function(){var s,i,a,o,A,u,l,c,f=this;return Hr(this,function(m){return s=this.createFontStyle(n),i=s[0],a=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),u=A.baseline,l=A.middle,c=n.paintOrder,r.textBounds.forEach(function(g){c.forEach(function(b){switch(b){case 0:f.ctx.fillStyle=Fr(n.color),f.renderTextWithLetterSpacing(g,n.letterSpacing,u);var v=n.textShadow;v.length&&g.text.trim().length&&(v.slice(0).reverse().forEach(function(w){f.ctx.shadowColor=Fr(w.color),f.ctx.shadowOffsetX=w.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=w.offsetY.number*f.options.scale,f.ctx.shadowBlur=w.blur.number,f.renderTextWithLetterSpacing(g,n.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Fr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:f.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+l),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(f.ctx.strokeStyle=Fr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=yc(r),a=wc(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Xr(this,void 0,void 0,function(){var n,s,i,a,o,A,B,B,u,l,c,f,x,m,g,E,b,v,w,B,C,x,E;return Hr(this,function(D){switch(D.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,o=n.textNodes,D.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,i)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Kx))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=D.sent(),this.renderReplacedElement(n,s,B),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof qx&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof Vx))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=D.sent(),this.renderReplacedElement(n,s,B),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Xx&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:l=D.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),D.label=14;case 14:if(n instanceof bg&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===fc?n.checked&&(this.ctx.save(),this.path([new We(n.bounds.left+c*.39363,n.bounds.top+c*.79),new We(n.bounds.left+c*.16,n.bounds.top+c*.5549),new We(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new We(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new We(n.bounds.left+c*.72983,n.bounds.top+c*.23),new We(n.bounds.left+c*.84,n.bounds.top+c*.34085),new We(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=Fr(Mb),this.ctx.fill(),this.ctx.restore()):n.type===pc&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=Fr(Mb),this.ctx.fill(),this.ctx.restore())),jU(n)&&n.value.length){switch(f=this.createFontStyle(i),x=f[0],m=f[1],g=this.fontMetrics.getMetrics(x,m).baseline,this.ctx.font=x,this.ctx.fillStyle=Fr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=KU(n.styles.textAlign),E=yc(n),b=0,n.styles.textAlign){case 1:b+=E.width/2;break;case 2:b+=E.width;break}v=E.add(b,0,0,-E.height/2+1),this.ctx.save(),this.path([new We(E.left,E.top),new We(E.left+E.width,E.top),new We(E.left+E.width,E.top+E.height),new We(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new CA(n.value,v),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!vr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];B=void 0,C=w.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return B=D.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(x=this.createFontStyle(i)[0],this.ctx.font=x,this.ctx.fillStyle=Fr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new si(n.bounds.left,n.bounds.top+zt(n.styles.paddingTop,n.bounds.width),n.bounds.width,mb(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new CA(r.listValue,E),i.letterSpacing,mb(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Xr(this,void 0,void 0,function(){var n,s,w,i,a,w,o,A,w,u,l,w,c,f,w,m,g,w,b,v,w;return Hr(this,function(B){switch(B.label){case 0:if(vr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,s=r.negativeZIndex,B.label=2;case 2:return n<s.length?(w=s[n],[4,this.renderStack(w)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),i=0,a=r.nonInlineLevel,B.label=7;case 7:return i<a.length?(w=a[i],[4,this.renderNode(w)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:o=0,A=r.nonPositionedFloats,B.label=11;case 11:return o<A.length?(w=A[o],[4,this.renderStack(w)]):[3,14];case 12:B.sent(),B.label=13;case 13:return o++,[3,11];case 14:u=0,l=r.nonPositionedInlineLevel,B.label=15;case 15:return u<l.length?(w=l[u],[4,this.renderStack(w)]):[3,18];case 16:B.sent(),B.label=17;case 17:return u++,[3,15];case 18:c=0,f=r.inlineLevel,B.label=19;case 19:return c<f.length?(w=f[c],[4,this.renderNode(w)]):[3,22];case 20:B.sent(),B.label=21;case 21:return c++,[3,19];case 22:m=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return m<g.length?(w=g[m],[4,this.renderStack(w)]):[3,26];case 24:B.sent(),B.label=25;case 25:return m++,[3,23];case 26:b=0,v=r.positiveZIndex,B.label=27;case 27:return b<v.length?(w=v[b],[4,this.renderStack(w)]):[3,30];case 28:B.sent(),B.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=En(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),En(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},e.prototype.renderBackgroundImage=function(r){return Xr(this,void 0,void 0,function(){var n,s,i,a,o,A;return Hr(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(l){var c,f,m,G,J,Y,j,T,L,g,G,J,Y,j,T,b,v,w,B,C,x,E,D,_,L,I,G,W,Q,j,T,V,J,Y,oe,re,pe,te,$,he,me,ye;return Hr(this,function(ce){switch(ce.label){case 0:if(l.type!==0)return[3,5];c=void 0,f=l.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return c=ce.sent(),[3,4];case 3:return ce.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return c&&(m=Td(r,n,[c.width,c.height,c.width/c.height]),G=m[0],J=m[1],Y=m[2],j=m[3],T=m[4],L=i.ctx.createPattern(i.resizeImage(c,j,T),"repeat"),i.renderRepeat(G,L,J,Y)),[3,6];case 5:Tk(l)?(g=Td(r,n,[null,null,null]),G=g[0],J=g[1],Y=g[2],j=g[3],T=g[4],b=vk(l.angle,j,T),v=b[0],w=b[1],B=b[2],C=b[3],x=b[4],E=document.createElement("canvas"),E.width=j,E.height=T,D=E.getContext("2d"),_=D.createLinearGradient(w,C,B,x),pb(l.stops,v).forEach(function(H){return _.addColorStop(H.stop,Fr(H.color))}),D.fillStyle=_,D.fillRect(0,0,j,T),j>0&&T>0&&(L=i.ctx.createPattern(E,"repeat"),i.renderRepeat(G,L,J,Y))):Fk(l)&&(I=Td(r,n,[null,null,null]),G=I[0],W=I[1],Q=I[2],j=I[3],T=I[4],V=l.position.length===0?[fg]:l.position,J=zt(V[0],j),Y=zt(V[V.length-1],T),oe=Bk(l,J,Y,j,T),re=oe[0],pe=oe[1],re>0&&pe>0&&(te=i.ctx.createRadialGradient(W+J,Q+Y,0,W+J,Q+Y,re),pb(l.stops,re*2).forEach(function(H){return te.addColorStop(H.stop,Fr(H.color))}),i.path(G),i.ctx.fillStyle=te,re!==pe?($=r.bounds.left+.5*r.bounds.width,he=r.bounds.top+.5*r.bounds.height,me=pe/re,ye=1/me,i.ctx.save(),i.ctx.translate($,he),i.ctx.transform(1,0,0,me,0,0),i.ctx.translate(-$,-he),i.ctx.fillRect(W,ye*(Q-he)+he,j,T*ye),i.ctx.restore()):i.ctx.fill())),ce.label=6;case 6:return n--,[2]}})},i=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(A=o[a],[5,s(A)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Xr(this,void 0,void 0,function(){return Hr(this,function(i){return this.path(Vb(s,n)),this.ctx.fillStyle=Fr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Xr(this,void 0,void 0,function(){var a,o;return Hr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return a=IU(i,s),this.path(a),this.ctx.fillStyle=Fr(r),this.ctx.fill(),o=_U(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Xr(this,void 0,void 0,function(){var n,s,i,a,o,A,u,l,c=this;return Hr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Ti(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=zU(Xa(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ti(n.backgroundColor)||(this.ctx.fillStyle=Fr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){c.ctx.save();var g=bc(r.curves),b=m.inset?0:HU,v=DU(g,-b+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(c.path(g),c.ctx.clip(),c.mask(v)):(c.mask(g),c.ctx.clip(),c.path(v)),c.ctx.shadowOffsetX=m.offsetX.number+b,c.ctx.shadowOffsetY=m.offsetY.number,c.ctx.shadowColor=Fr(m.color),c.ctx.shadowBlur=m.blur.number,c.ctx.fillStyle=m.inset?Fr(m.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),f.label=2;case 2:o=0,A=0,u=i,f.label=3;case 3:return A<u.length?(l=u[A],l.style!==0&&!Ti(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Xr(this,void 0,void 0,function(){var o,A,u,l,c,f,m,g,b,v,w,B,C,x,E,D,E,D;return Hr(this,function(_){return this.ctx.save(),o=UU(i,s),A=Vb(i,s),a===2&&(this.path(A),this.ctx.clip()),En(A[0])?(u=A[0].start.x,l=A[0].start.y):(u=A[0].x,l=A[0].y),En(A[1])?(c=A[1].end.x,f=A[1].end.y):(c=A[1].x,f=A[1].y),s===0||s===2?m=Math.abs(u-c):m=Math.abs(l-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),g=n<3?n*3:n*2,b=n<3?n*2:n,a===3&&(g=n,b=n),v=!0,m<=g*2?v=!1:m<=g*2+b?(w=m/(2*g+b),g*=w,b*=w):(B=Math.floor((m+b)/(g+b)),C=(m-B*g)/(B-1),x=(m-(B+1)*g)/B,b=x<=0||Math.abs(b-C)<Math.abs(b-x)?C:x),v&&(a===3?this.ctx.setLineDash([0,g+b]):this.ctx.setLineDash([g,b])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Fr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(En(A[0])&&(E=A[3],D=A[0],this.ctx.beginPath(),this.formatPath([new We(E.end.x,E.end.y),new We(D.start.x,D.start.y)]),this.ctx.stroke()),En(A[1])&&(E=A[1],D=A[2],this.ctx.beginPath(),this.formatPath([new We(E.end.x,E.end.y),new We(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Xr(this,void 0,void 0,function(){var n;return Hr(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=kU(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(dv),jU=function(t){return t instanceof $x||t instanceof Wx?!0:t instanceof bg&&t.type!==pc&&t.type!==fc},zU=function(t,e){switch(t){case 0:return bc(e);case 2:return CU(e);case 1:default:return wc(e)}},KU=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qU=["-apple-system","system-ui"],VU=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return qU.indexOf(e)===-1}):t},GU=function(t){Xn(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Xr(this,void 0,void 0,function(){var n,s;return Hr(this,function(i){switch(i.label){case 0:return n=lp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,WU(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(dv),WU=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},$U=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zu([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),XU=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new $U({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new gU(this,e)}return t.instanceCount=1,t}(),hv=function(t,e){return e===void 0&&(e={}),YU(t,e)};typeof window<"u"&&av.setContext(window);var YU=function(t,e){return Xr(void 0,void 0,void 0,function(){var r,n,s,i,a,o,A,u,l,c,f,m,g,b,v,w,B,C,x,E,_,D,_,L,I,G,W,Q,j,T,V,J,Y,oe,re,pe,te,$,he,me;return Hr(this,function(ye){switch(ye.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},i=$f({logging:(W=e.logging)!==null&&W!==void 0?W:!0,cache:e.cache},s),a={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:n.innerHeight,scrollX:(T=e.scrollX)!==null&&T!==void 0?T:n.pageXOffset,scrollY:(V=e.scrollY)!==null&&V!==void 0?V:n.pageYOffset},o=new si(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new XU(i,o),u=(J=e.foreignObjectRendering)!==null&&J!==void 0?J:!1,l={allowTaint:(Y=e.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new zb(A,t,l),f=c.clonedReferenceElement,f?[4,c.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ye.sent(),g=wg(f)||Z_(f)?DF(f.ownerDocument):Lc(A,f),b=g.width,v=g.height,w=g.left,B=g.top,C=JU(A,f,e.backgroundColor),x={canvas:e.canvas,backgroundColor:C,scale:(re=(oe=e.scale)!==null&&oe!==void 0?oe:n.devicePixelRatio)!==null&&re!==void 0?re:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+w,y:((te=e.y)!==null&&te!==void 0?te:0)+B,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(b),height:(he=e.height)!==null&&he!==void 0?he:Math.ceil(v)},u?(A.logger.debug("Document cloned, using foreign object rendering"),_=new GU(A,x),[4,_.render(f)]):[3,3];case 2:return E=ye.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+w+","+B+" with size "+b+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),D=Jx(A,f),C===D.styles.backgroundColor&&(D.styles.backgroundColor=Zs.TRANSPARENT),A.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),_=new PU(A,x),[4,_.render(D)];case 4:E=ye.sent(),ye.label=5;case 5:return(!((me=e.removeContainer)!==null&&me!==void 0)||me)&&(zb.destroy(m)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,E]}})})},JU=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?vA(t,getComputedStyle(n.documentElement).backgroundColor):Zs.TRANSPARENT,i=n.body?vA(t,getComputedStyle(n.body).backgroundColor):Zs.TRANSPARENT,a=typeof r=="string"?vA(t,r):r===null?Zs.TRANSPARENT:4294967295;return e===n.documentElement?Ti(s)?Ti(i)?a:i:s:a},ZU=Object.defineProperty,eM=Object.defineProperties,tM=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,rM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,mp=(t,e,r)=>e in t?ZU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yt=(t,e)=>{for(var r in e||(e={}))rM.call(e,r)&&mp(t,r,e[r]);if(Wb)for(var r of Wb(e))nM.call(e,r)&&mp(t,r,e[r]);return t},co=(t,e)=>eM(t,tM(e)),Qe=(t,e,r)=>mp(t,typeof e!="symbol"?e+"":e,r),sM=(t,e,r)=>new Promise((n,s)=>{var i=A=>{try{o(r.next(A))}catch(u){s(u)}},a=A=>{try{o(r.throw(A))}catch(u){s(u)}},o=A=>A.done?n(A.value):Promise.resolve(A.value).then(i,a);o((r=r.apply(t,e)).next())});class xc{constructor(e){Qe(this,"rootKey"),this.rootKey=e}}const iM=Object.seal({});class Ne extends xc{constructor(e){super(e),Qe(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(s=>s instanceof xc?s.prepForXml(e):s).filter(s=>s!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:iM}}addChildElement(e){return this.root.push(e),this}}class $c extends Ne{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class at extends xc{constructor(e){super("_attr"),Qe(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,s])=>{if(s!==void 0){const i=this.xmlKeys&&this.xmlKeys[n]||n;r[i]=s}}),{_attr:r}}}class Xc extends xc{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:s,value:i})=>co(yt({},n),{[s]:i}),{})}}}class fr extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fd={},dl={exports:{}},$b;function yg(){if($b)return dl.exports;$b=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(E,D,_){return Function.prototype.apply.call(E,D,_)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:r=function(E){return Object.getOwnPropertyNames(E)};function n(x){console&&console.warn&&console.warn(x)}var s=Number.isNaN||function(E){return E!==E};function i(){i.init.call(this)}dl.exports=i,dl.exports.once=w,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function o(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(x){if(typeof x!="number"||x<0||s(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");a=x}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||s(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function A(x){return x._maxListeners===void 0?i.defaultMaxListeners:x._maxListeners}i.prototype.getMaxListeners=function(){return A(this)},i.prototype.emit=function(E){for(var D=[],_=1;_<arguments.length;_++)D.push(arguments[_]);var L=E==="error",I=this._events;if(I!==void 0)L=L&&I.error===void 0;else if(!L)return!1;if(L){var G;if(D.length>0&&(G=D[0]),G instanceof Error)throw G;var W=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw W.context=G,W}var Q=I[E];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,D);else for(var j=Q.length,T=g(Q,j),_=0;_<j;++_)e(T[_],this,D);return!0};function u(x,E,D,_){var L,I,G;if(o(D),I=x._events,I===void 0?(I=x._events=Object.create(null),x._eventsCount=0):(I.newListener!==void 0&&(x.emit("newListener",E,D.listener?D.listener:D),I=x._events),G=I[E]),G===void 0)G=I[E]=D,++x._eventsCount;else if(typeof G=="function"?G=I[E]=_?[D,G]:[G,D]:_?G.unshift(D):G.push(D),L=A(x),L>0&&G.length>L&&!G.warned){G.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=x,W.type=E,W.count=G.length,n(W)}return x}i.prototype.addListener=function(E,D){return u(this,E,D,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(E,D){return u(this,E,D,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(x,E,D){var _={fired:!1,wrapFn:void 0,target:x,type:E,listener:D},L=l.bind(_);return L.listener=D,_.wrapFn=L,L}i.prototype.once=function(E,D){return o(D),this.on(E,c(this,E,D)),this},i.prototype.prependOnceListener=function(E,D){return o(D),this.prependListener(E,c(this,E,D)),this},i.prototype.removeListener=function(E,D){var _,L,I,G,W;if(o(D),L=this._events,L===void 0)return this;if(_=L[E],_===void 0)return this;if(_===D||_.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete L[E],L.removeListener&&this.emit("removeListener",E,_.listener||D));else if(typeof _!="function"){for(I=-1,G=_.length-1;G>=0;G--)if(_[G]===D||_[G].listener===D){W=_[G].listener,I=G;break}if(I<0)return this;I===0?_.shift():b(_,I),_.length===1&&(L[E]=_[0]),L.removeListener!==void 0&&this.emit("removeListener",E,W||D)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(E){var D,_,L;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[E]),this;if(arguments.length===0){var I=Object.keys(_),G;for(L=0;L<I.length;++L)G=I[L],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=_[E],typeof D=="function")this.removeListener(E,D);else if(D!==void 0)for(L=D.length-1;L>=0;L--)this.removeListener(E,D[L]);return this};function f(x,E,D){var _=x._events;if(_===void 0)return[];var L=_[E];return L===void 0?[]:typeof L=="function"?D?[L.listener||L]:[L]:D?v(L):g(L,L.length)}i.prototype.listeners=function(E){return f(this,E,!0)},i.prototype.rawListeners=function(E){return f(this,E,!1)},i.listenerCount=function(x,E){return typeof x.listenerCount=="function"?x.listenerCount(E):m.call(x,E)},i.prototype.listenerCount=m;function m(x){var E=this._events;if(E!==void 0){var D=E[x];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(x,E){for(var D=new Array(E),_=0;_<E;++_)D[_]=x[_];return D}function b(x,E){for(;E+1<x.length;E++)x[E]=x[E+1];x.pop()}function v(x){for(var E=new Array(x.length),D=0;D<E.length;++D)E[D]=x[D].listener||x[D];return E}function w(x,E){return new Promise(function(D,_){function L(G){x.removeListener(E,I),_(G)}function I(){typeof x.removeListener=="function"&&x.removeListener("error",L),D([].slice.call(arguments))}C(x,E,I,{once:!0}),E!=="error"&&B(x,L,{once:!0})})}function B(x,E,D){typeof x.on=="function"&&C(x,"error",E,D)}function C(x,E,D,_){if(typeof x.on=="function")_.once?x.once(E,D):x.on(E,D);else if(typeof x.addEventListener=="function")x.addEventListener(E,function L(I){_.once&&x.removeEventListener(E,L),D(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return dl.exports}var hl={exports:{}},Xb;function Ri(){return Xb||(Xb=1,typeof Object.create=="function"?hl.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:hl.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),hl.exports}function aM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pv={exports:{}},pr=pv.exports={},cs,ds;function bp(){throw new Error("setTimeout has not been defined")}function wp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cs=setTimeout:cs=bp}catch{cs=bp}try{typeof clearTimeout=="function"?ds=clearTimeout:ds=wp}catch{ds=wp}})();function gv(t){if(cs===setTimeout)return setTimeout(t,0);if((cs===bp||!cs)&&setTimeout)return cs=setTimeout,setTimeout(t,0);try{return cs(t,0)}catch{try{return cs.call(null,t,0)}catch{return cs.call(this,t,0)}}}function oM(t){if(ds===clearTimeout)return clearTimeout(t);if((ds===wp||!ds)&&clearTimeout)return ds=clearTimeout,clearTimeout(t);try{return ds(t)}catch{try{return ds.call(null,t)}catch{return ds.call(this,t)}}}var Xs=[],so=!1,ua,Zl=-1;function AM(){!so||!ua||(so=!1,ua.length?Xs=ua.concat(Xs):Zl=-1,Xs.length&&mv())}function mv(){if(!so){var t=gv(AM);so=!0;for(var e=Xs.length;e;){for(ua=Xs,Xs=[];++Zl<e;)ua&&ua[Zl].run();Zl=-1,e=Xs.length}ua=null,so=!1,oM(t)}}pr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Xs.push(new bv(t,e)),Xs.length===1&&!so&&gv(mv)};function bv(t,e){this.fun=t,this.array=e}bv.prototype.run=function(){this.fun.apply(null,this.array)};pr.title="browser";pr.browser=!0;pr.env={};pr.argv=[];pr.version="";pr.versions={};function ii(){}pr.on=ii;pr.addListener=ii;pr.once=ii;pr.off=ii;pr.removeListener=ii;pr.removeAllListeners=ii;pr.emit=ii;pr.prependListener=ii;pr.prependOnceListener=ii;pr.listeners=function(t){return[]};pr.binding=function(t){throw new Error("process.binding is not supported")};pr.cwd=function(){return"/"};pr.chdir=function(t){throw new Error("process.chdir is not supported")};pr.umask=function(){return 0};var uM=pv.exports;const ht=aM(uM);var Dd,Yb;function wv(){return Yb||(Yb=1,Dd=yg().EventEmitter),Dd}var kd={},Go={},Jb;function lM(){if(Jb)return Go;Jb=1,Go.byteLength=o,Go.toByteArray=u,Go.fromByteArray=f;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function a(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=m.indexOf("=");b===-1&&(b=g);var v=b===g?0:4-b%4;return[b,v]}function o(m){var g=a(m),b=g[0],v=g[1];return(b+v)*3/4-v}function A(m,g,b){return(g+b)*3/4-b}function u(m){var g,b=a(m),v=b[0],w=b[1],B=new r(A(m,v,w)),C=0,x=w>0?v-4:v,E;for(E=0;E<x;E+=4)g=e[m.charCodeAt(E)]<<18|e[m.charCodeAt(E+1)]<<12|e[m.charCodeAt(E+2)]<<6|e[m.charCodeAt(E+3)],B[C++]=g>>16&255,B[C++]=g>>8&255,B[C++]=g&255;return w===2&&(g=e[m.charCodeAt(E)]<<2|e[m.charCodeAt(E+1)]>>4,B[C++]=g&255),w===1&&(g=e[m.charCodeAt(E)]<<10|e[m.charCodeAt(E+1)]<<4|e[m.charCodeAt(E+2)]>>2,B[C++]=g>>8&255,B[C++]=g&255),B}function l(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function c(m,g,b){for(var v,w=[],B=g;B<b;B+=3)v=(m[B]<<16&16711680)+(m[B+1]<<8&65280)+(m[B+2]&255),w.push(l(v));return w.join("")}function f(m){for(var g,b=m.length,v=b%3,w=[],B=16383,C=0,x=b-v;C<x;C+=B)w.push(c(m,C,C+B>x?x:C+B));return v===1?(g=m[b-1],w.push(t[g>>2]+t[g<<4&63]+"==")):v===2&&(g=(m[b-2]<<8)+m[b-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return Go}var fl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Zb;function cM(){return Zb||(Zb=1,fl.read=function(t,e,r,n,s){var i,a,o=s*8-n-1,A=(1<<o)-1,u=A>>1,l=-7,c=r?s-1:0,f=r?-1:1,m=t[e+c];for(c+=f,i=m&(1<<-l)-1,m>>=-l,l+=o;l>0;i=i*256+t[e+c],c+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=a*256+t[e+c],c+=f,l-=8);if(i===0)i=1-u;else{if(i===A)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-u}return(m?-1:1)*a*Math.pow(2,i-n)},fl.write=function(t,e,r,n,s,i){var a,o,A,u=i*8-s-1,l=(1<<u)-1,c=l>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:i-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(A=Math.pow(2,-a))<1&&(a--,A*=2),a+c>=1?e+=f/A:e+=f*Math.pow(2,1-c),e*A>=2&&(a++,A/=2),a+c>=l?(o=0,a=l):a+c>=1?(o=(e*A-1)*Math.pow(2,s),a=a+c):(o=e*Math.pow(2,c-1)*Math.pow(2,s),a=0));s>=8;t[r+m]=o&255,m+=g,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;t[r+m]=a&255,m+=g,a/=256,u-=8);t[r+m-g]|=b*128}),fl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ew;function Yc(){return ew||(ew=1,function(t){var e=lM(),r=cM(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var N=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(N,F),N.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(N){if(N>s)throw new RangeError('The value "'+N+'" is invalid for option "size"');var F=new Uint8Array(N);return Object.setPrototypeOf(F,o.prototype),F}function o(N,F,k){if(typeof N=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(N)}return A(N,F,k)}o.poolSize=8192;function A(N,F,k){if(typeof N=="string")return f(N,F);if(ArrayBuffer.isView(N))return g(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Ce(N,ArrayBuffer)||N&&Ce(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(N,SharedArrayBuffer)||N&&Ce(N.buffer,SharedArrayBuffer)))return b(N,F,k);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var R=N.valueOf&&N.valueOf();if(R!=null&&R!==N)return o.from(R,F,k);var Ae=v(N);if(Ae)return Ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return o.from(N[Symbol.toPrimitive]("string"),F,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}o.from=function(N,F,k){return A(N,F,k)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function l(N,F,k){return u(N),N<=0?a(N):F!==void 0?typeof k=="string"?a(N).fill(F,k):a(N).fill(F):a(N)}o.alloc=function(N,F,k){return l(N,F,k)};function c(N){return u(N),a(N<0?0:w(N)|0)}o.allocUnsafe=function(N){return c(N)},o.allocUnsafeSlow=function(N){return c(N)};function f(N,F){if((typeof F!="string"||F==="")&&(F="utf8"),!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F);var k=C(N,F)|0,R=a(k),Ae=R.write(N,F);return Ae!==k&&(R=R.slice(0,Ae)),R}function m(N){for(var F=N.length<0?0:w(N.length)|0,k=a(F),R=0;R<F;R+=1)k[R]=N[R]&255;return k}function g(N){if(Ce(N,Uint8Array)){var F=new Uint8Array(N);return b(F.buffer,F.byteOffset,F.byteLength)}return m(N)}function b(N,F,k){if(F<0||N.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<F+(k||0))throw new RangeError('"length" is outside of buffer bounds');var R;return F===void 0&&k===void 0?R=new Uint8Array(N):k===void 0?R=new Uint8Array(N,F):R=new Uint8Array(N,F,k),Object.setPrototypeOf(R,o.prototype),R}function v(N){if(o.isBuffer(N)){var F=w(N.length)|0,k=a(F);return k.length===0||N.copy(k,0,0,F),k}if(N.length!==void 0)return typeof N.length!="number"||O(N.length)?a(0):m(N);if(N.type==="Buffer"&&Array.isArray(N.data))return m(N.data)}function w(N){if(N>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return N|0}function B(N){return+N!=N&&(N=0),o.alloc(+N)}o.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==o.prototype},o.compare=function(F,k){if(Ce(F,Uint8Array)&&(F=o.from(F,F.offset,F.byteLength)),Ce(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(F)||!o.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===k)return 0;for(var R=F.length,Ae=k.length,be=0,le=Math.min(R,Ae);be<le;++be)if(F[be]!==k[be]){R=F[be],Ae=k[be];break}return R<Ae?-1:Ae<R?1:0},o.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(F,k){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return o.alloc(0);var R;if(k===void 0)for(k=0,R=0;R<F.length;++R)k+=F[R].length;var Ae=o.allocUnsafe(k),be=0;for(R=0;R<F.length;++R){var le=F[R];if(Ce(le,Uint8Array))be+le.length>Ae.length?o.from(le).copy(Ae,be):Uint8Array.prototype.set.call(Ae,le,be);else if(o.isBuffer(le))le.copy(Ae,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=le.length}return Ae};function C(N,F){if(o.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Ce(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var k=N.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&k===0)return 0;for(var Ae=!1;;)switch(F){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return P(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return Z(N).length;default:if(Ae)return R?-1:P(N).length;F=(""+F).toLowerCase(),Ae=!0}}o.byteLength=C;function x(N,F,k){var R=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,F>>>=0,k<=F))return"";for(N||(N="utf8");;)switch(N){case"hex":return re(this,F,k);case"utf8":case"utf-8":return T(this,F,k);case"ascii":return Y(this,F,k);case"latin1":case"binary":return oe(this,F,k);case"base64":return j(this,F,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,F,k);default:if(R)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),R=!0}}o.prototype._isBuffer=!0;function E(N,F,k){var R=N[F];N[F]=N[k],N[k]=R}o.prototype.swap16=function(){var F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<F;k+=2)E(this,k,k+1);return this},o.prototype.swap32=function(){var F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<F;k+=4)E(this,k,k+3),E(this,k+1,k+2);return this},o.prototype.swap64=function(){var F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<F;k+=8)E(this,k,k+7),E(this,k+1,k+6),E(this,k+2,k+5),E(this,k+3,k+4);return this},o.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?T(this,0,F):x.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(F){if(!o.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:o.compare(this,F)===0},o.prototype.inspect=function(){var F="",k=t.INSPECT_MAX_BYTES;return F=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(F+=" ... "),"<Buffer "+F+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(F,k,R,Ae,be){if(Ce(F,Uint8Array)&&(F=o.from(F,F.offset,F.byteLength)),!o.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(k===void 0&&(k=0),R===void 0&&(R=F?F.length:0),Ae===void 0&&(Ae=0),be===void 0&&(be=this.length),k<0||R>F.length||Ae<0||be>this.length)throw new RangeError("out of range index");if(Ae>=be&&k>=R)return 0;if(Ae>=be)return-1;if(k>=R)return 1;if(k>>>=0,R>>>=0,Ae>>>=0,be>>>=0,this===F)return 0;for(var le=be-Ae,Te=R-k,_e=Math.min(le,Te),ve=this.slice(Ae,be),Me=F.slice(k,R),je=0;je<_e;++je)if(ve[je]!==Me[je]){le=ve[je],Te=Me[je];break}return le<Te?-1:Te<le?1:0};function D(N,F,k,R,Ae){if(N.length===0)return-1;if(typeof k=="string"?(R=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,O(k)&&(k=Ae?0:N.length-1),k<0&&(k=N.length+k),k>=N.length){if(Ae)return-1;k=N.length-1}else if(k<0)if(Ae)k=0;else return-1;if(typeof F=="string"&&(F=o.from(F,R)),o.isBuffer(F))return F.length===0?-1:_(N,F,k,R,Ae);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?Ae?Uint8Array.prototype.indexOf.call(N,F,k):Uint8Array.prototype.lastIndexOf.call(N,F,k):_(N,[F],k,R,Ae);throw new TypeError("val must be string, number or Buffer")}function _(N,F,k,R,Ae){var be=1,le=N.length,Te=F.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(N.length<2||F.length<2)return-1;be=2,le/=2,Te/=2,k/=2}function _e(At,It){return be===1?At[It]:At.readUInt16BE(It*be)}var ve;if(Ae){var Me=-1;for(ve=k;ve<le;ve++)if(_e(N,ve)===_e(F,Me===-1?0:ve-Me)){if(Me===-1&&(Me=ve),ve-Me+1===Te)return Me*be}else Me!==-1&&(ve-=ve-Me),Me=-1}else for(k+Te>le&&(k=le-Te),ve=k;ve>=0;ve--){for(var je=!0,Ke=0;Ke<Te;Ke++)if(_e(N,ve+Ke)!==_e(F,Ke)){je=!1;break}if(je)return ve}return-1}o.prototype.includes=function(F,k,R){return this.indexOf(F,k,R)!==-1},o.prototype.indexOf=function(F,k,R){return D(this,F,k,R,!0)},o.prototype.lastIndexOf=function(F,k,R){return D(this,F,k,R,!1)};function L(N,F,k,R){k=Number(k)||0;var Ae=N.length-k;R?(R=Number(R),R>Ae&&(R=Ae)):R=Ae;var be=F.length;R>be/2&&(R=be/2);for(var le=0;le<R;++le){var Te=parseInt(F.substr(le*2,2),16);if(O(Te))return le;N[k+le]=Te}return le}function I(N,F,k,R){return se(P(F,N.length-k),N,k,R)}function G(N,F,k,R){return se(ge(F),N,k,R)}function W(N,F,k,R){return se(Z(F),N,k,R)}function Q(N,F,k,R){return se(ie(F,N.length-k),N,k,R)}o.prototype.write=function(F,k,R,Ae){if(k===void 0)Ae="utf8",R=this.length,k=0;else if(R===void 0&&typeof k=="string")Ae=k,R=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(R)?(R=R>>>0,Ae===void 0&&(Ae="utf8")):(Ae=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var be=this.length-k;if((R===void 0||R>be)&&(R=be),F.length>0&&(R<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");for(var le=!1;;)switch(Ae){case"hex":return L(this,F,k,R);case"utf8":case"utf-8":return I(this,F,k,R);case"ascii":case"latin1":case"binary":return G(this,F,k,R);case"base64":return W(this,F,k,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,F,k,R);default:if(le)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),le=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(N,F,k){return F===0&&k===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(F,k))}function T(N,F,k){k=Math.min(N.length,k);for(var R=[],Ae=F;Ae<k;){var be=N[Ae],le=null,Te=be>239?4:be>223?3:be>191?2:1;if(Ae+Te<=k){var _e,ve,Me,je;switch(Te){case 1:be<128&&(le=be);break;case 2:_e=N[Ae+1],(_e&192)===128&&(je=(be&31)<<6|_e&63,je>127&&(le=je));break;case 3:_e=N[Ae+1],ve=N[Ae+2],(_e&192)===128&&(ve&192)===128&&(je=(be&15)<<12|(_e&63)<<6|ve&63,je>2047&&(je<55296||je>57343)&&(le=je));break;case 4:_e=N[Ae+1],ve=N[Ae+2],Me=N[Ae+3],(_e&192)===128&&(ve&192)===128&&(Me&192)===128&&(je=(be&15)<<18|(_e&63)<<12|(ve&63)<<6|Me&63,je>65535&&je<1114112&&(le=je))}}le===null?(le=65533,Te=1):le>65535&&(le-=65536,R.push(le>>>10&1023|55296),le=56320|le&1023),R.push(le),Ae+=Te}return J(R)}var V=4096;function J(N){var F=N.length;if(F<=V)return String.fromCharCode.apply(String,N);for(var k="",R=0;R<F;)k+=String.fromCharCode.apply(String,N.slice(R,R+=V));return k}function Y(N,F,k){var R="";k=Math.min(N.length,k);for(var Ae=F;Ae<k;++Ae)R+=String.fromCharCode(N[Ae]&127);return R}function oe(N,F,k){var R="";k=Math.min(N.length,k);for(var Ae=F;Ae<k;++Ae)R+=String.fromCharCode(N[Ae]);return R}function re(N,F,k){var R=N.length;(!F||F<0)&&(F=0),(!k||k<0||k>R)&&(k=R);for(var Ae="",be=F;be<k;++be)Ae+=ue[N[be]];return Ae}function pe(N,F,k){for(var R=N.slice(F,k),Ae="",be=0;be<R.length-1;be+=2)Ae+=String.fromCharCode(R[be]+R[be+1]*256);return Ae}o.prototype.slice=function(F,k){var R=this.length;F=~~F,k=k===void 0?R:~~k,F<0?(F+=R,F<0&&(F=0)):F>R&&(F=R),k<0?(k+=R,k<0&&(k=0)):k>R&&(k=R),k<F&&(k=F);var Ae=this.subarray(F,k);return Object.setPrototypeOf(Ae,o.prototype),Ae};function te(N,F,k){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+F>k)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(F,k,R){F=F>>>0,k=k>>>0,R||te(F,k,this.length);for(var Ae=this[F],be=1,le=0;++le<k&&(be*=256);)Ae+=this[F+le]*be;return Ae},o.prototype.readUintBE=o.prototype.readUIntBE=function(F,k,R){F=F>>>0,k=k>>>0,R||te(F,k,this.length);for(var Ae=this[F+--k],be=1;k>0&&(be*=256);)Ae+=this[F+--k]*be;return Ae},o.prototype.readUint8=o.prototype.readUInt8=function(F,k){return F=F>>>0,k||te(F,1,this.length),this[F]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(F,k){return F=F>>>0,k||te(F,2,this.length),this[F]|this[F+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(F,k){return F=F>>>0,k||te(F,2,this.length),this[F]<<8|this[F+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(F,k){return F=F>>>0,k||te(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(F,k){return F=F>>>0,k||te(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},o.prototype.readIntLE=function(F,k,R){F=F>>>0,k=k>>>0,R||te(F,k,this.length);for(var Ae=this[F],be=1,le=0;++le<k&&(be*=256);)Ae+=this[F+le]*be;return be*=128,Ae>=be&&(Ae-=Math.pow(2,8*k)),Ae},o.prototype.readIntBE=function(F,k,R){F=F>>>0,k=k>>>0,R||te(F,k,this.length);for(var Ae=k,be=1,le=this[F+--Ae];Ae>0&&(be*=256);)le+=this[F+--Ae]*be;return be*=128,le>=be&&(le-=Math.pow(2,8*k)),le},o.prototype.readInt8=function(F,k){return F=F>>>0,k||te(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},o.prototype.readInt16LE=function(F,k){F=F>>>0,k||te(F,2,this.length);var R=this[F]|this[F+1]<<8;return R&32768?R|4294901760:R},o.prototype.readInt16BE=function(F,k){F=F>>>0,k||te(F,2,this.length);var R=this[F+1]|this[F]<<8;return R&32768?R|4294901760:R},o.prototype.readInt32LE=function(F,k){return F=F>>>0,k||te(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},o.prototype.readInt32BE=function(F,k){return F=F>>>0,k||te(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},o.prototype.readFloatLE=function(F,k){return F=F>>>0,k||te(F,4,this.length),r.read(this,F,!0,23,4)},o.prototype.readFloatBE=function(F,k){return F=F>>>0,k||te(F,4,this.length),r.read(this,F,!1,23,4)},o.prototype.readDoubleLE=function(F,k){return F=F>>>0,k||te(F,8,this.length),r.read(this,F,!0,52,8)},o.prototype.readDoubleBE=function(F,k){return F=F>>>0,k||te(F,8,this.length),r.read(this,F,!1,52,8)};function $(N,F,k,R,Ae,be){if(!o.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Ae||F<be)throw new RangeError('"value" argument is out of bounds');if(k+R>N.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(F,k,R,Ae){if(F=+F,k=k>>>0,R=R>>>0,!Ae){var be=Math.pow(2,8*R)-1;$(this,F,k,R,be,0)}var le=1,Te=0;for(this[k]=F&255;++Te<R&&(le*=256);)this[k+Te]=F/le&255;return k+R},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(F,k,R,Ae){if(F=+F,k=k>>>0,R=R>>>0,!Ae){var be=Math.pow(2,8*R)-1;$(this,F,k,R,be,0)}var le=R-1,Te=1;for(this[k+le]=F&255;--le>=0&&(Te*=256);)this[k+le]=F/Te&255;return k+R},o.prototype.writeUint8=o.prototype.writeUInt8=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,1,255,0),this[k]=F&255,k+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,2,65535,0),this[k]=F&255,this[k+1]=F>>>8,k+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,2,65535,0),this[k]=F>>>8,this[k+1]=F&255,k+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,4,4294967295,0),this[k+3]=F>>>24,this[k+2]=F>>>16,this[k+1]=F>>>8,this[k]=F&255,k+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,4,4294967295,0),this[k]=F>>>24,this[k+1]=F>>>16,this[k+2]=F>>>8,this[k+3]=F&255,k+4},o.prototype.writeIntLE=function(F,k,R,Ae){if(F=+F,k=k>>>0,!Ae){var be=Math.pow(2,8*R-1);$(this,F,k,R,be-1,-be)}var le=0,Te=1,_e=0;for(this[k]=F&255;++le<R&&(Te*=256);)F<0&&_e===0&&this[k+le-1]!==0&&(_e=1),this[k+le]=(F/Te>>0)-_e&255;return k+R},o.prototype.writeIntBE=function(F,k,R,Ae){if(F=+F,k=k>>>0,!Ae){var be=Math.pow(2,8*R-1);$(this,F,k,R,be-1,-be)}var le=R-1,Te=1,_e=0;for(this[k+le]=F&255;--le>=0&&(Te*=256);)F<0&&_e===0&&this[k+le+1]!==0&&(_e=1),this[k+le]=(F/Te>>0)-_e&255;return k+R},o.prototype.writeInt8=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,1,127,-128),F<0&&(F=255+F+1),this[k]=F&255,k+1},o.prototype.writeInt16LE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,2,32767,-32768),this[k]=F&255,this[k+1]=F>>>8,k+2},o.prototype.writeInt16BE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,2,32767,-32768),this[k]=F>>>8,this[k+1]=F&255,k+2},o.prototype.writeInt32LE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,4,2147483647,-2147483648),this[k]=F&255,this[k+1]=F>>>8,this[k+2]=F>>>16,this[k+3]=F>>>24,k+4},o.prototype.writeInt32BE=function(F,k,R){return F=+F,k=k>>>0,R||$(this,F,k,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[k]=F>>>24,this[k+1]=F>>>16,this[k+2]=F>>>8,this[k+3]=F&255,k+4};function he(N,F,k,R,Ae,be){if(k+R>N.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function me(N,F,k,R,Ae){return F=+F,k=k>>>0,Ae||he(N,F,k,4),r.write(N,F,k,R,23,4),k+4}o.prototype.writeFloatLE=function(F,k,R){return me(this,F,k,!0,R)},o.prototype.writeFloatBE=function(F,k,R){return me(this,F,k,!1,R)};function ye(N,F,k,R,Ae){return F=+F,k=k>>>0,Ae||he(N,F,k,8),r.write(N,F,k,R,52,8),k+8}o.prototype.writeDoubleLE=function(F,k,R){return ye(this,F,k,!0,R)},o.prototype.writeDoubleBE=function(F,k,R){return ye(this,F,k,!1,R)},o.prototype.copy=function(F,k,R,Ae){if(!o.isBuffer(F))throw new TypeError("argument should be a Buffer");if(R||(R=0),!Ae&&Ae!==0&&(Ae=this.length),k>=F.length&&(k=F.length),k||(k=0),Ae>0&&Ae<R&&(Ae=R),Ae===R||F.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),F.length-k<Ae-R&&(Ae=F.length-k+R);var be=Ae-R;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,R,Ae):Uint8Array.prototype.set.call(F,this.subarray(R,Ae),k),be},o.prototype.fill=function(F,k,R,Ae){if(typeof F=="string"){if(typeof k=="string"?(Ae=k,k=0,R=this.length):typeof R=="string"&&(Ae=R,R=this.length),Ae!==void 0&&typeof Ae!="string")throw new TypeError("encoding must be a string");if(typeof Ae=="string"&&!o.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(F.length===1){var be=F.charCodeAt(0);(Ae==="utf8"&&be<128||Ae==="latin1")&&(F=be)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(k<0||this.length<k||this.length<R)throw new RangeError("Out of range index");if(R<=k)return this;k=k>>>0,R=R===void 0?this.length:R>>>0,F||(F=0);var le;if(typeof F=="number")for(le=k;le<R;++le)this[le]=F;else{var Te=o.isBuffer(F)?F:o.from(F,Ae),_e=Te.length;if(_e===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(le=0;le<R-k;++le)this[le+k]=Te[le%_e]}return this};var ce=/[^+/0-9A-Za-z-_]/g;function H(N){if(N=N.split("=")[0],N=N.trim().replace(ce,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function P(N,F){F=F||1/0;for(var k,R=N.length,Ae=null,be=[],le=0;le<R;++le){if(k=N.charCodeAt(le),k>55295&&k<57344){if(!Ae){if(k>56319){(F-=3)>-1&&be.push(239,191,189);continue}else if(le+1===R){(F-=3)>-1&&be.push(239,191,189);continue}Ae=k;continue}if(k<56320){(F-=3)>-1&&be.push(239,191,189),Ae=k;continue}k=(Ae-55296<<10|k-56320)+65536}else Ae&&(F-=3)>-1&&be.push(239,191,189);if(Ae=null,k<128){if((F-=1)<0)break;be.push(k)}else if(k<2048){if((F-=2)<0)break;be.push(k>>6|192,k&63|128)}else if(k<65536){if((F-=3)<0)break;be.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((F-=4)<0)break;be.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return be}function ge(N){for(var F=[],k=0;k<N.length;++k)F.push(N.charCodeAt(k)&255);return F}function ie(N,F){for(var k,R,Ae,be=[],le=0;le<N.length&&!((F-=2)<0);++le)k=N.charCodeAt(le),R=k>>8,Ae=k%256,be.push(Ae),be.push(R);return be}function Z(N){return e.toByteArray(H(N))}function se(N,F,k,R){for(var Ae=0;Ae<R&&!(Ae+k>=F.length||Ae>=N.length);++Ae)F[Ae+k]=N[Ae];return Ae}function Ce(N,F){return N instanceof F||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===F.name}function O(N){return N!==N}var ue=function(){for(var N="0123456789abcdef",F=new Array(256),k=0;k<16;++k)for(var R=k*16,Ae=0;Ae<16;++Ae)F[R+Ae]=N[k]+N[Ae];return F}()}(kd)),kd}var Id={},_d={},Ud,tw;function yv(){return tw||(tw=1,Ud=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}),Ud}var Md,rw;function xg(){if(rw)return Md;rw=1;var t=yv();return Md=function(){return t()&&!!Symbol.toStringTag},Md}var Qd,nw;function xv(){return nw||(nw=1,Qd=Object),Qd}var Rd,sw;function dM(){return sw||(sw=1,Rd=Error),Rd}var Od,iw;function hM(){return iw||(iw=1,Od=EvalError),Od}var Nd,aw;function fM(){return aw||(aw=1,Nd=RangeError),Nd}var Ld,ow;function pM(){return ow||(ow=1,Ld=ReferenceError),Ld}var Hd,Aw;function vv(){return Aw||(Aw=1,Hd=SyntaxError),Hd}var Pd,uw;function nu(){return uw||(uw=1,Pd=TypeError),Pd}var jd,lw;function gM(){return lw||(lw=1,jd=URIError),jd}var zd,cw;function mM(){return cw||(cw=1,zd=Math.abs),zd}var Kd,dw;function bM(){return dw||(dw=1,Kd=Math.floor),Kd}var qd,hw;function wM(){return hw||(hw=1,qd=Math.max),qd}var Vd,fw;function yM(){return fw||(fw=1,Vd=Math.min),Vd}var Gd,pw;function xM(){return pw||(pw=1,Gd=Math.pow),Gd}var Wd,gw;function vM(){return gw||(gw=1,Wd=Math.round),Wd}var $d,mw;function BM(){return mw||(mw=1,$d=Number.isNaN||function(e){return e!==e}),$d}var Xd,bw;function CM(){if(bw)return Xd;bw=1;var t=BM();return Xd=function(r){return t(r)||r===0?r:r<0?-1:1},Xd}var Yd,ww;function EM(){return ww||(ww=1,Yd=Object.getOwnPropertyDescriptor),Yd}var Jd,yw;function su(){if(yw)return Jd;yw=1;var t=EM();if(t)try{t([],"length")}catch{t=null}return Jd=t,Jd}var Zd,xw;function Jc(){if(xw)return Zd;xw=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Zd=t,Zd}var eh,vw;function SM(){if(vw)return eh;vw=1;var t=typeof Symbol<"u"&&Symbol,e=yv();return eh=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},eh}var th,Bw;function Bv(){return Bw||(Bw=1,th=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),th}var rh,Cw;function Cv(){if(Cw)return rh;Cw=1;var t=xv();return rh=t.getPrototypeOf||null,rh}var nh,Ew;function TM(){if(Ew)return nh;Ew=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(A,u){for(var l=[],c=0;c<A.length;c+=1)l[c]=A[c];for(var f=0;f<u.length;f+=1)l[f+A.length]=u[f];return l},i=function(A,u){for(var l=[],c=u,f=0;c<A.length;c+=1,f+=1)l[f]=A[c];return l},a=function(o,A){for(var u="",l=0;l<o.length;l+=1)u+=o[l],l+1<o.length&&(u+=A);return u};return nh=function(A){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var l=i(arguments,1),c,f=function(){if(this instanceof c){var w=u.apply(this,s(l,arguments));return Object(w)===w?w:this}return u.apply(A,s(l,arguments))},m=r(0,u.length-l.length),g=[],b=0;b<m;b++)g[b]="$"+b;if(c=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},nh}var sh,Sw;function iu(){if(Sw)return sh;Sw=1;var t=TM();return sh=Function.prototype.bind||t,sh}var ih,Tw;function vg(){return Tw||(Tw=1,ih=Function.prototype.call),ih}var ah,Fw;function Ev(){return Fw||(Fw=1,ah=Function.prototype.apply),ah}var oh,Dw;function FM(){return Dw||(Dw=1,oh=typeof Reflect<"u"&&Reflect&&Reflect.apply),oh}var Ah,kw;function DM(){if(kw)return Ah;kw=1;var t=iu(),e=Ev(),r=vg(),n=FM();return Ah=n||t.call(r,e),Ah}var uh,Iw;function kM(){if(Iw)return uh;Iw=1;var t=iu(),e=nu(),r=vg(),n=DM();return uh=function(i){if(i.length<1||typeof i[0]!="function")throw new e("a function is required");return n(t,r,i)},uh}var lh,_w;function IM(){if(_w)return lh;_w=1;var t=kM(),e=su(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return lh=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?function(o){return i(o==null?o:s(o))}:!1,lh}var ch,Uw;function _M(){if(Uw)return ch;Uw=1;var t=Bv(),e=Cv(),r=IM();return ch=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,ch}var dh,Mw;function UM(){if(Mw)return dh;Mw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=iu();return dh=r.call(t,e),dh}var hh,Qw;function Bg(){if(Qw)return hh;Qw=1;var t,e=xv(),r=dM(),n=hM(),s=fM(),i=pM(),a=vv(),o=nu(),A=gM(),u=mM(),l=bM(),c=wM(),f=yM(),m=xM(),g=vM(),b=CM(),v=Function,w=function(ge){try{return v('"use strict"; return ('+ge+").constructor;")()}catch{}},B=su(),C=Jc(),x=function(){throw new o},E=B?function(){try{return arguments.callee,x}catch{try{return B(arguments,"callee").get}catch{return x}}}():x,D=SM()(),_=_M(),L=Cv(),I=Bv(),G=Ev(),W=vg(),Q={},j=typeof Uint8Array>"u"||!_?t:_(Uint8Array),T={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":D&&_?_([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D&&_?_(_([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!D||!_?t:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":B,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!D||!_?t:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D&&_?_(""[Symbol.iterator]()):t,"%Symbol%":D?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":E,"%TypedArray%":j,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":A,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":W,"%Function.prototype.apply%":G,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":L,"%Math.abs%":u,"%Math.floor%":l,"%Math.max%":c,"%Math.min%":f,"%Math.pow%":m,"%Math.round%":g,"%Math.sign%":b,"%Reflect.getPrototypeOf%":I};if(_)try{null.error}catch(ge){var V=_(_(ge));T["%Error.prototype%"]=V}var J=function ge(ie){var Z;if(ie==="%AsyncFunction%")Z=w("async function () {}");else if(ie==="%GeneratorFunction%")Z=w("function* () {}");else if(ie==="%AsyncGeneratorFunction%")Z=w("async function* () {}");else if(ie==="%AsyncGenerator%"){var se=ge("%AsyncGeneratorFunction%");se&&(Z=se.prototype)}else if(ie==="%AsyncIteratorPrototype%"){var Ce=ge("%AsyncGenerator%");Ce&&_&&(Z=_(Ce.prototype))}return T[ie]=Z,Z},Y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oe=iu(),re=UM(),pe=oe.call(W,Array.prototype.concat),te=oe.call(G,Array.prototype.splice),$=oe.call(W,String.prototype.replace),he=oe.call(W,String.prototype.slice),me=oe.call(W,RegExp.prototype.exec),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,H=function(ie){var Z=he(ie,0,1),se=he(ie,-1);if(Z==="%"&&se!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Ce=[];return $(ie,ye,function(O,ue,N,F){Ce[Ce.length]=N?$(F,ce,"$1"):ue||O}),Ce},P=function(ie,Z){var se=ie,Ce;if(re(Y,se)&&(Ce=Y[se],se="%"+Ce[0]+"%"),re(T,se)){var O=T[se];if(O===Q&&(O=J(se)),typeof O>"u"&&!Z)throw new o("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:Ce,name:se,value:O}}throw new a("intrinsic "+ie+" does not exist!")};return hh=function(ie,Z){if(typeof ie!="string"||ie.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new o('"allowMissing" argument must be a boolean');if(me(/^%?[^%]*%?$/,ie)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var se=H(ie),Ce=se.length>0?se[0]:"",O=P("%"+Ce+"%",Z),ue=O.name,N=O.value,F=!1,k=O.alias;k&&(Ce=k[0],te(se,pe([0,1],k)));for(var R=1,Ae=!0;R<se.length;R+=1){var be=se[R],le=he(be,0,1),Te=he(be,-1);if((le==='"'||le==="'"||le==="`"||Te==='"'||Te==="'"||Te==="`")&&le!==Te)throw new a("property names with quotes must have matching quotes");if((be==="constructor"||!Ae)&&(F=!0),Ce+="."+be,ue="%"+Ce+"%",re(T,ue))N=T[ue];else if(N!=null){if(!(be in N)){if(!Z)throw new o("base intrinsic for "+ie+" exists, but the property is not available.");return}if(B&&R+1>=se.length){var _e=B(N,be);Ae=!!_e,Ae&&"get"in _e&&!("originalValue"in _e.get)?N=_e.get:N=N[be]}else Ae=re(N,be),N=N[be];Ae&&!F&&(T[ue]=N)}}return N},hh}var fh={exports:{}},ph,Rw;function MM(){if(Rw)return ph;Rw=1;var t=Jc(),e=vv(),r=nu(),n=su();return ph=function(i,a,o){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var A=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,f=!!n&&n(i,a);if(t)t(i,a,{configurable:l===null&&f?f.configurable:!l,enumerable:A===null&&f?f.enumerable:!A,value:o,writable:u===null&&f?f.writable:!u});else if(c||!A&&!u&&!l)i[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ph}var gh,Ow;function QM(){if(Ow)return gh;Ow=1;var t=Jc(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},gh=e,gh}var mh,Nw;function RM(){if(Nw)return mh;Nw=1;var t=Bg(),e=MM(),r=QM()(),n=su(),s=nu(),i=t("%Math.floor%");return mh=function(o,A){if(typeof o!="function")throw new s("`fn` is not a function");if(typeof A!="number"||A<0||A>4294967295||i(A)!==A)throw new s("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],l=!0,c=!0;if("length"in o&&n){var f=n(o,"length");f&&!f.configurable&&(l=!1),f&&!f.writable&&(c=!1)}return(l||c||!u)&&(r?e(o,"length",A,!0,!0):e(o,"length",A)),o},mh}var Lw;function Sv(){return Lw||(Lw=1,function(t){var e=iu(),r=Bg(),n=RM(),s=nu(),i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,i),A=Jc(),u=r("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new s("a function is required");var m=o(e,a,arguments);return n(m,1+u(0,f.length-(arguments.length-1)),!0)};var l=function(){return o(e,i,arguments)};A?A(t.exports,"apply",{value:l}):t.exports.apply=l}(fh)),fh.exports}var bh,Hw;function Tv(){if(Hw)return bh;Hw=1;var t=Bg(),e=Sv(),r=e(t("String.prototype.indexOf"));return bh=function(s,i){var a=t(s,!!i);return typeof a=="function"&&r(s,".prototype.")>-1?e(a):a},bh}var wh,Pw;function OM(){if(Pw)return wh;Pw=1;var t=xg()(),e=Tv(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},s=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},i=function(){return n(arguments)}();return n.isLegacyArguments=s,wh=i?n:s,wh}var yh,jw;function NM(){if(jw)return yh;jw=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=xg()(),s=Object.getPrototypeOf,i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return yh=function(A){if(typeof A!="function")return!1;if(r.test(e.call(A)))return!0;if(!n){var u=t.call(A);return u==="[object GeneratorFunction]"}if(!s)return!1;if(typeof a>"u"){var l=i();a=l?s(l):!1}return s(A)===a},yh}var xh,zw;function LM(){if(zw)return xh;zw=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(B){B!==n&&(e=null)}else e=null;var s=/^\s*class\b/,i=function(C){try{var x=t.call(C);return s.test(x)}catch{return!1}},a=function(C){try{return i(C)?!1:(t.call(C),!0)}catch{return!1}},o=Object.prototype.toString,A="[object Object]",u="[object Function]",l="[object GeneratorFunction]",c="[object HTMLAllCollection]",f="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var w=document.all;o.call(w)===o.call(document.all)&&(v=function(C){if((b||!C)&&(typeof C>"u"||typeof C=="object"))try{var x=o.call(C);return(x===c||x===f||x===m||x===A)&&C("")==null}catch{}return!1})}return xh=e?function(C){if(v(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{e(C,null,r)}catch(x){if(x!==n)return!1}return!i(C)&&a(C)}:function(C){if(v(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(g)return a(C);if(i(C))return!1;var x=o.call(C);return x!==u&&x!==l&&!/^\[object HTML/.test(x)?!1:a(C)},xh}var vh,Kw;function HM(){if(Kw)return vh;Kw=1;var t=LM(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(A,u,l){for(var c=0,f=A.length;c<f;c++)r.call(A,c)&&(l==null?u(A[c],c,A):u.call(l,A[c],c,A))},s=function(A,u,l){for(var c=0,f=A.length;c<f;c++)l==null?u(A.charAt(c),c,A):u.call(l,A.charAt(c),c,A)},i=function(A,u,l){for(var c in A)r.call(A,c)&&(l==null?u(A[c],c,A):u.call(l,A[c],c,A))},a=function(A,u,l){if(!t(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=l),e.call(A)==="[object Array]"?n(A,u,c):typeof A=="string"?s(A,u,c):i(A,u,c)};return vh=a,vh}var Bh,qw;function PM(){return qw||(qw=1,Bh=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Bh}var Ch,Vw;function jM(){if(Vw)return Ch;Vw=1;var t=PM(),e=typeof globalThis>"u"?bs:globalThis;return Ch=function(){for(var n=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(n[n.length]=t[s]);return n},Ch}var Eh,Gw;function Fv(){if(Gw)return Eh;Gw=1;var t=HM(),e=jM(),r=Sv(),n=Tv(),s=su(),i=n("Object.prototype.toString"),a=xg()(),o=typeof globalThis>"u"?bs:globalThis,A=e(),u=n("String.prototype.slice"),l=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,w){for(var B=0;B<v.length;B+=1)if(v[B]===w)return B;return-1},f={__proto__:null};a&&s&&l?t(A,function(b){var v=new o[b];if(Symbol.toStringTag in v){var w=l(v),B=s(w,Symbol.toStringTag);if(!B){var C=l(w);B=s(C,Symbol.toStringTag)}f["$"+b]=r(B.get)}}):t(A,function(b){var v=new o[b],w=v.slice||v.set;w&&(f["$"+b]=r(w))});var m=function(v){var w=!1;return t(f,function(B,C){if(!w)try{"$"+B(v)===C&&(w=u(C,1))}catch{}}),w},g=function(v){var w=!1;return t(f,function(B,C){if(!w)try{B(v),w=u(C,1)}catch{}}),w};return Eh=function(v){if(!v||typeof v!="object")return!1;if(!a){var w=u(i(v),8,-1);return c(A,w)>-1?w:w!=="Object"?!1:g(v)}return s?m(v):null},Eh}var Sh,Ww;function zM(){if(Ww)return Sh;Ww=1;var t=Fv();return Sh=function(r){return!!t(r)},Sh}var $w;function KM(){return $w||($w=1,function(t){var e=OM(),r=NM(),n=Fv(),s=zM();function i(R){return R.call.bind(R)}var a=typeof BigInt<"u",o=typeof Symbol<"u",A=i(Object.prototype.toString),u=i(Number.prototype.valueOf),l=i(String.prototype.valueOf),c=i(Boolean.prototype.valueOf);if(a)var f=i(BigInt.prototype.valueOf);if(o)var m=i(Symbol.prototype.valueOf);function g(R,Ae){if(typeof R!="object")return!1;try{return Ae(R),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function b(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}t.isPromise=b;function v(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):s(R)||he(R)}t.isArrayBufferView=v;function w(R){return n(R)==="Uint8Array"}t.isUint8Array=w;function B(R){return n(R)==="Uint8ClampedArray"}t.isUint8ClampedArray=B;function C(R){return n(R)==="Uint16Array"}t.isUint16Array=C;function x(R){return n(R)==="Uint32Array"}t.isUint32Array=x;function E(R){return n(R)==="Int8Array"}t.isInt8Array=E;function D(R){return n(R)==="Int16Array"}t.isInt16Array=D;function _(R){return n(R)==="Int32Array"}t.isInt32Array=_;function L(R){return n(R)==="Float32Array"}t.isFloat32Array=L;function I(R){return n(R)==="Float64Array"}t.isFloat64Array=I;function G(R){return n(R)==="BigInt64Array"}t.isBigInt64Array=G;function W(R){return n(R)==="BigUint64Array"}t.isBigUint64Array=W;function Q(R){return A(R)==="[object Map]"}Q.working=typeof Map<"u"&&Q(new Map);function j(R){return typeof Map>"u"?!1:Q.working?Q(R):R instanceof Map}t.isMap=j;function T(R){return A(R)==="[object Set]"}T.working=typeof Set<"u"&&T(new Set);function V(R){return typeof Set>"u"?!1:T.working?T(R):R instanceof Set}t.isSet=V;function J(R){return A(R)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function Y(R){return typeof WeakMap>"u"?!1:J.working?J(R):R instanceof WeakMap}t.isWeakMap=Y;function oe(R){return A(R)==="[object WeakSet]"}oe.working=typeof WeakSet<"u"&&oe(new WeakSet);function re(R){return oe(R)}t.isWeakSet=re;function pe(R){return A(R)==="[object ArrayBuffer]"}pe.working=typeof ArrayBuffer<"u"&&pe(new ArrayBuffer);function te(R){return typeof ArrayBuffer>"u"?!1:pe.working?pe(R):R instanceof ArrayBuffer}t.isArrayBuffer=te;function $(R){return A(R)==="[object DataView]"}$.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&$(new DataView(new ArrayBuffer(1),0,1));function he(R){return typeof DataView>"u"?!1:$.working?$(R):R instanceof DataView}t.isDataView=he;var me=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ye(R){return A(R)==="[object SharedArrayBuffer]"}function ce(R){return typeof me>"u"?!1:(typeof ye.working>"u"&&(ye.working=ye(new me)),ye.working?ye(R):R instanceof me)}t.isSharedArrayBuffer=ce;function H(R){return A(R)==="[object AsyncFunction]"}t.isAsyncFunction=H;function P(R){return A(R)==="[object Map Iterator]"}t.isMapIterator=P;function ge(R){return A(R)==="[object Set Iterator]"}t.isSetIterator=ge;function ie(R){return A(R)==="[object Generator]"}t.isGeneratorObject=ie;function Z(R){return A(R)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Z;function se(R){return g(R,u)}t.isNumberObject=se;function Ce(R){return g(R,l)}t.isStringObject=Ce;function O(R){return g(R,c)}t.isBooleanObject=O;function ue(R){return a&&g(R,f)}t.isBigIntObject=ue;function N(R){return o&&g(R,m)}t.isSymbolObject=N;function F(R){return se(R)||Ce(R)||O(R)||ue(R)||N(R)}t.isBoxedPrimitive=F;function k(R){return typeof Uint8Array<"u"&&(te(R)||ce(R))}t.isAnyArrayBuffer=k,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(t,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})}(_d)),_d}var Th,Xw;function qM(){return Xw||(Xw=1,Th=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Th}var Yw;function Dv(){return Yw||(Yw=1,function(t){var e=Object.getOwnPropertyDescriptors||function(he){for(var me=Object.keys(he),ye={},ce=0;ce<me.length;ce++)ye[me[ce]]=Object.getOwnPropertyDescriptor(he,me[ce]);return ye},r=/%[sdj%]/g;t.format=function($){if(!E($)){for(var he=[],me=0;me<arguments.length;me++)he.push(a(arguments[me]));return he.join(" ")}for(var me=1,ye=arguments,ce=ye.length,H=String($).replace(r,function(ge){if(ge==="%%")return"%";if(me>=ce)return ge;switch(ge){case"%s":return String(ye[me++]);case"%d":return Number(ye[me++]);case"%j":try{return JSON.stringify(ye[me++])}catch{return"[Circular]"}default:return ge}}),P=ye[me];me<ce;P=ye[++me])B(P)||!I(P)?H+=" "+P:H+=" "+a(P);return H},t.deprecate=function($,he){if(typeof ht<"u"&&ht.noDeprecation===!0)return $;if(typeof ht>"u")return function(){return t.deprecate($,he).apply(this,arguments)};var me=!1;function ye(){if(!me){if(ht.throwDeprecation)throw new Error(he);ht.traceDeprecation?console.trace(he):console.error(he),me=!0}return $.apply(this,arguments)}return ye};var n={},s=/^$/;if(ht.env.NODE_DEBUG){var i=ht.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+i+"$","i")}t.debuglog=function($){if($=$.toUpperCase(),!n[$])if(s.test($)){var he=ht.pid;n[$]=function(){var me=t.format.apply(t,arguments);console.error("%s %d: %s",$,he,me)}}else n[$]=function(){};return n[$]};function a($,he){var me={seen:[],stylize:A};return arguments.length>=3&&(me.depth=arguments[2]),arguments.length>=4&&(me.colors=arguments[3]),w(he)?me.showHidden=he:he&&t._extend(me,he),_(me.showHidden)&&(me.showHidden=!1),_(me.depth)&&(me.depth=2),_(me.colors)&&(me.colors=!1),_(me.customInspect)&&(me.customInspect=!0),me.colors&&(me.stylize=o),l(me,$,me.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o($,he){var me=a.styles[he];return me?"\x1B["+a.colors[me][0]+"m"+$+"\x1B["+a.colors[me][1]+"m":$}function A($,he){return $}function u($){var he={};return $.forEach(function(me,ye){he[me]=!0}),he}function l($,he,me){if($.customInspect&&he&&Q(he.inspect)&&he.inspect!==t.inspect&&!(he.constructor&&he.constructor.prototype===he)){var ye=he.inspect(me,$);return E(ye)||(ye=l($,ye,me)),ye}var ce=c($,he);if(ce)return ce;var H=Object.keys(he),P=u(H);if($.showHidden&&(H=Object.getOwnPropertyNames(he)),W(he)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return f(he);if(H.length===0){if(Q(he)){var ge=he.name?": "+he.name:"";return $.stylize("[Function"+ge+"]","special")}if(L(he))return $.stylize(RegExp.prototype.toString.call(he),"regexp");if(G(he))return $.stylize(Date.prototype.toString.call(he),"date");if(W(he))return f(he)}var ie="",Z=!1,se=["{","}"];if(v(he)&&(Z=!0,se=["[","]"]),Q(he)){var Ce=he.name?": "+he.name:"";ie=" [Function"+Ce+"]"}if(L(he)&&(ie=" "+RegExp.prototype.toString.call(he)),G(he)&&(ie=" "+Date.prototype.toUTCString.call(he)),W(he)&&(ie=" "+f(he)),H.length===0&&(!Z||he.length==0))return se[0]+ie+se[1];if(me<0)return L(he)?$.stylize(RegExp.prototype.toString.call(he),"regexp"):$.stylize("[Object]","special");$.seen.push(he);var O;return Z?O=m($,he,me,P,H):O=H.map(function(ue){return g($,he,me,P,ue,Z)}),$.seen.pop(),b(O,ie,se)}function c($,he){if(_(he))return $.stylize("undefined","undefined");if(E(he)){var me="'"+JSON.stringify(he).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(me,"string")}if(x(he))return $.stylize(""+he,"number");if(w(he))return $.stylize(""+he,"boolean");if(B(he))return $.stylize("null","null")}function f($){return"["+Error.prototype.toString.call($)+"]"}function m($,he,me,ye,ce){for(var H=[],P=0,ge=he.length;P<ge;++P)oe(he,String(P))?H.push(g($,he,me,ye,String(P),!0)):H.push("");return ce.forEach(function(ie){ie.match(/^\d+$/)||H.push(g($,he,me,ye,ie,!0))}),H}function g($,he,me,ye,ce,H){var P,ge,ie;if(ie=Object.getOwnPropertyDescriptor(he,ce)||{value:he[ce]},ie.get?ie.set?ge=$.stylize("[Getter/Setter]","special"):ge=$.stylize("[Getter]","special"):ie.set&&(ge=$.stylize("[Setter]","special")),oe(ye,ce)||(P="["+ce+"]"),ge||($.seen.indexOf(ie.value)<0?(B(me)?ge=l($,ie.value,null):ge=l($,ie.value,me-1),ge.indexOf(`
`)>-1&&(H?ge=ge.split(`
`).map(function(Z){return"  "+Z}).join(`
`).slice(2):ge=`
`+ge.split(`
`).map(function(Z){return"   "+Z}).join(`
`))):ge=$.stylize("[Circular]","special")),_(P)){if(H&&ce.match(/^\d+$/))return ge;P=JSON.stringify(""+ce),P.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.slice(1,-1),P=$.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=$.stylize(P,"string"))}return P+": "+ge}function b($,he,me){var ye=$.reduce(function(ce,H){return H.indexOf(`
`)>=0,ce+H.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ye>60?me[0]+(he===""?"":he+`
 `)+" "+$.join(`,
  `)+" "+me[1]:me[0]+he+" "+$.join(", ")+" "+me[1]}t.types=KM();function v($){return Array.isArray($)}t.isArray=v;function w($){return typeof $=="boolean"}t.isBoolean=w;function B($){return $===null}t.isNull=B;function C($){return $==null}t.isNullOrUndefined=C;function x($){return typeof $=="number"}t.isNumber=x;function E($){return typeof $=="string"}t.isString=E;function D($){return typeof $=="symbol"}t.isSymbol=D;function _($){return $===void 0}t.isUndefined=_;function L($){return I($)&&T($)==="[object RegExp]"}t.isRegExp=L,t.types.isRegExp=L;function I($){return typeof $=="object"&&$!==null}t.isObject=I;function G($){return I($)&&T($)==="[object Date]"}t.isDate=G,t.types.isDate=G;function W($){return I($)&&(T($)==="[object Error]"||$ instanceof Error)}t.isError=W,t.types.isNativeError=W;function Q($){return typeof $=="function"}t.isFunction=Q;function j($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}t.isPrimitive=j,t.isBuffer=qM();function T($){return Object.prototype.toString.call($)}function V($){return $<10?"0"+$.toString(10):$.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var $=new Date,he=[V($.getHours()),V($.getMinutes()),V($.getSeconds())].join(":");return[$.getDate(),J[$.getMonth()],he].join(" ")}t.log=function(){console.log("%s - %s",Y(),t.format.apply(t,arguments))},t.inherits=Ri(),t._extend=function($,he){if(!he||!I(he))return $;for(var me=Object.keys(he),ye=me.length;ye--;)$[me[ye]]=he[me[ye]];return $};function oe($,he){return Object.prototype.hasOwnProperty.call($,he)}var re=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(he){if(typeof he!="function")throw new TypeError('The "original" argument must be of type Function');if(re&&he[re]){var me=he[re];if(typeof me!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(me,re,{value:me,enumerable:!1,writable:!1,configurable:!0}),me}function me(){for(var ye,ce,H=new Promise(function(ie,Z){ye=ie,ce=Z}),P=[],ge=0;ge<arguments.length;ge++)P.push(arguments[ge]);P.push(function(ie,Z){ie?ce(ie):ye(Z)});try{he.apply(this,P)}catch(ie){ce(ie)}return H}return Object.setPrototypeOf(me,Object.getPrototypeOf(he)),re&&Object.defineProperty(me,re,{value:me,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(me,e(he))},t.promisify.custom=re;function pe($,he){if(!$){var me=new Error("Promise was rejected with a falsy value");me.reason=$,$=me}return he($)}function te($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function he(){for(var me=[],ye=0;ye<arguments.length;ye++)me.push(arguments[ye]);var ce=me.pop();if(typeof ce!="function")throw new TypeError("The last argument must be of type Function");var H=this,P=function(){return ce.apply(H,arguments)};$.apply(this,me).then(function(ge){ht.nextTick(P.bind(null,null,ge))},function(ge){ht.nextTick(pe.bind(null,ge,P))})}return Object.setPrototypeOf(he,Object.getPrototypeOf($)),Object.defineProperties(he,e($)),he}t.callbackify=te}(Id)),Id}var Fh,Jw;function VM(){if(Jw)return Fh;Jw=1;function t(f,m){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(f);m&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),g.push.apply(g,b)}return g}function e(f){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?t(Object(g),!0).forEach(function(b){r(f,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(b){Object.defineProperty(f,b,Object.getOwnPropertyDescriptor(g,b))})}return f}function r(f,m,g){return m in f?Object.defineProperty(f,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[m]=g,f}function n(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function s(f,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}function i(f,m,g){return m&&s(f.prototype,m),f}var a=Yc(),o=a.Buffer,A=Dv(),u=A.inspect,l=u&&u.custom||"inspect";function c(f,m,g){o.prototype.copy.call(f,m,g)}return Fh=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return i(f,[{key:"push",value:function(g){var b={data:g,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(g){var b={data:g,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var b=this.head,v=""+b.data;b=b.next;)v+=g+b.data;return v}},{key:"concat",value:function(g){if(this.length===0)return o.alloc(0);for(var b=o.allocUnsafe(g>>>0),v=this.head,w=0;v;)c(v.data,b,w),w+=v.data.length,v=v.next;return b}},{key:"consume",value:function(g,b){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=b?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var b=this.head,v=1,w=b.data;for(g-=w.length;b=b.next;){var B=b.data,C=g>B.length?B.length:g;if(C===B.length?w+=B:w+=B.slice(0,g),g-=C,g===0){C===B.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=B.slice(C));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(g){var b=o.allocUnsafe(g),v=this.head,w=1;for(v.data.copy(b),g-=v.data.length;v=v.next;){var B=v.data,C=g>B.length?B.length:g;if(B.copy(b,b.length-g,0,C),g-=C,g===0){C===B.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=B.slice(C));break}++w}return this.length-=w,b}},{key:l,value:function(g,b){return u(this,e({},b,{depth:0,customInspect:!1}))}}]),f}(),Fh}var Dh,Zw;function kv(){if(Zw)return Dh;Zw=1;function t(a,o){var A=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ht.nextTick(s,this,a)):ht.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(c){!o&&c?A._writableState?A._writableState.errorEmitted?ht.nextTick(r,A):(A._writableState.errorEmitted=!0,ht.nextTick(e,A,c)):ht.nextTick(e,A,c):o?(ht.nextTick(r,A),o(c)):ht.nextTick(r,A)}),this)}function e(a,o){s(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(a,o){a.emit("error",o)}function i(a,o){var A=a._readableState,u=a._writableState;A&&A.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return Dh={destroy:t,undestroy:n,errorOrDestroy:i},Dh}var kh={},e4;function Do(){if(e4)return kh;e4=1;function t(o,A){o.prototype=Object.create(A.prototype),o.prototype.constructor=o,o.__proto__=A}var e={};function r(o,A,u){u||(u=Error);function l(f,m,g){return typeof A=="string"?A:A(f,m,g)}var c=function(f){t(m,f);function m(g,b,v){return f.call(this,l(g,b,v))||this}return m}(u);c.prototype.name=u.name,c.prototype.code=o,e[o]=c}function n(o,A){if(Array.isArray(o)){var u=o.length;return o=o.map(function(l){return String(l)}),u>2?"one of ".concat(A," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(A," ").concat(o[0]," or ").concat(o[1]):"of ".concat(A," ").concat(o[0])}else return"of ".concat(A," ").concat(String(o))}function s(o,A,u){return o.substr(0,A.length)===A}function i(o,A,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-A.length,u)===A}function a(o,A,u){return typeof u!="number"&&(u=0),u+A.length>o.length?!1:o.indexOf(A,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,A){return'The value "'+A+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,A,u){var l;typeof A=="string"&&s(A,"not ")?(l="must not be",A=A.replace(/^not /,"")):l="must be";var c;if(i(o," argument"))c="The ".concat(o," ").concat(l," ").concat(n(A,"type"));else{var f=a(o,".")?"property":"argument";c='The "'.concat(o,'" ').concat(f," ").concat(l," ").concat(n(A,"type"))}return c+=". Received type ".concat(typeof u),c},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),kh.codes=e,kh}var Ih,t4;function Iv(){if(t4)return Ih;t4=1;var t=Do().codes.ERR_INVALID_OPT_VALUE;function e(n,s,i){return n.highWaterMark!=null?n.highWaterMark:s?n[i]:null}function r(n,s,i,a){var o=e(s,a,i);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var A=a?i:"highWaterMark";throw new t(A,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return Ih={getHighWaterMark:r},Ih}var _h,r4;function GM(){if(r4)return _h;r4=1,_h=t;function t(r,n){if(e("noDeprecation"))return r;var s=!1;function i(){if(!s){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!bs.localStorage)return!1}catch{return!1}var n=bs.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return _h}var Uh,n4;function _v(){if(n4)return Uh;n4=1,Uh=L;function t(ce){var H=this;this.next=null,this.entry=null,this.finish=function(){ye(H,ce)}}var e;L.WritableState=D;var r={deprecate:GM()},n=wv(),s=Yc().Buffer,i=bs.Uint8Array||function(){};function a(ce){return s.from(ce)}function o(ce){return s.isBuffer(ce)||ce instanceof i}var A=kv(),u=Iv(),l=u.getHighWaterMark,c=Do().codes,f=c.ERR_INVALID_ARG_TYPE,m=c.ERR_METHOD_NOT_IMPLEMENTED,g=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,v=c.ERR_STREAM_DESTROYED,w=c.ERR_STREAM_NULL_VALUES,B=c.ERR_STREAM_WRITE_AFTER_END,C=c.ERR_UNKNOWN_ENCODING,x=A.errorOrDestroy;Ri()(L,n);function E(){}function D(ce,H,P){e=e||ho(),ce=ce||{},typeof P!="boolean"&&(P=H instanceof e),this.objectMode=!!ce.objectMode,P&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=l(this,ce,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ce.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){J(H,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}D.prototype.getBuffer=function(){for(var H=this.bufferedRequest,P=[];H;)P.push(H),H=H.next;return P},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(H){return _.call(this,H)?!0:this!==L?!1:H&&H._writableState instanceof D}})):_=function(H){return H instanceof this};function L(ce){e=e||ho();var H=this instanceof e;if(!H&&!_.call(L,this))return new L(ce);this._writableState=new D(ce,this,H),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}L.prototype.pipe=function(){x(this,new b)};function I(ce,H){var P=new B;x(ce,P),ht.nextTick(H,P)}function G(ce,H,P,ge){var ie;return P===null?ie=new w:typeof P!="string"&&!H.objectMode&&(ie=new f("chunk",["string","Buffer"],P)),ie?(x(ce,ie),ht.nextTick(ge,ie),!1):!0}L.prototype.write=function(ce,H,P){var ge=this._writableState,ie=!1,Z=!ge.objectMode&&o(ce);return Z&&!s.isBuffer(ce)&&(ce=a(ce)),typeof H=="function"&&(P=H,H=null),Z?H="buffer":H||(H=ge.defaultEncoding),typeof P!="function"&&(P=E),ge.ending?I(this,P):(Z||G(this,ge,ce,P))&&(ge.pendingcb++,ie=Q(this,ge,Z,ce,H,P)),ie},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&re(this,ce))},L.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new C(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(ce,H,P){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof H=="string"&&(H=s.from(H,P)),H}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Q(ce,H,P,ge,ie,Z){if(!P){var se=W(H,ge,ie);ge!==se&&(P=!0,ie="buffer",ge=se)}var Ce=H.objectMode?1:ge.length;H.length+=Ce;var O=H.length<H.highWaterMark;if(O||(H.needDrain=!0),H.writing||H.corked){var ue=H.lastBufferedRequest;H.lastBufferedRequest={chunk:ge,encoding:ie,isBuf:P,callback:Z,next:null},ue?ue.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else j(ce,H,!1,Ce,ge,ie,Z);return O}function j(ce,H,P,ge,ie,Z,se){H.writelen=ge,H.writecb=se,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new v("write")):P?ce._writev(ie,H.onwrite):ce._write(ie,Z,H.onwrite),H.sync=!1}function T(ce,H,P,ge,ie){--H.pendingcb,P?(ht.nextTick(ie,ge),ht.nextTick(he,ce,H),ce._writableState.errorEmitted=!0,x(ce,ge)):(ie(ge),ce._writableState.errorEmitted=!0,x(ce,ge),he(ce,H))}function V(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function J(ce,H){var P=ce._writableState,ge=P.sync,ie=P.writecb;if(typeof ie!="function")throw new g;if(V(P),H)T(ce,P,ge,H,ie);else{var Z=pe(P)||ce.destroyed;!Z&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&re(ce,P),ge?ht.nextTick(Y,ce,P,Z,ie):Y(ce,P,Z,ie)}}function Y(ce,H,P,ge){P||oe(ce,H),H.pendingcb--,ge(),he(ce,H)}function oe(ce,H){H.length===0&&H.needDrain&&(H.needDrain=!1,ce.emit("drain"))}function re(ce,H){H.bufferProcessing=!0;var P=H.bufferedRequest;if(ce._writev&&P&&P.next){var ge=H.bufferedRequestCount,ie=new Array(ge),Z=H.corkedRequestsFree;Z.entry=P;for(var se=0,Ce=!0;P;)ie[se]=P,P.isBuf||(Ce=!1),P=P.next,se+=1;ie.allBuffers=Ce,j(ce,H,!0,H.length,ie,"",Z.finish),H.pendingcb++,H.lastBufferedRequest=null,Z.next?(H.corkedRequestsFree=Z.next,Z.next=null):H.corkedRequestsFree=new t(H),H.bufferedRequestCount=0}else{for(;P;){var O=P.chunk,ue=P.encoding,N=P.callback,F=H.objectMode?1:O.length;if(j(ce,H,!1,F,O,ue,N),P=P.next,H.bufferedRequestCount--,H.writing)break}P===null&&(H.lastBufferedRequest=null)}H.bufferedRequest=P,H.bufferProcessing=!1}L.prototype._write=function(ce,H,P){P(new m("_write()"))},L.prototype._writev=null,L.prototype.end=function(ce,H,P){var ge=this._writableState;return typeof ce=="function"?(P=ce,ce=null,H=null):typeof H=="function"&&(P=H,H=null),ce!=null&&this.write(ce,H),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||me(this,ge,P),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function pe(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function te(ce,H){ce._final(function(P){H.pendingcb--,P&&x(ce,P),H.prefinished=!0,ce.emit("prefinish"),he(ce,H)})}function $(ce,H){!H.prefinished&&!H.finalCalled&&(typeof ce._final=="function"&&!H.destroyed?(H.pendingcb++,H.finalCalled=!0,ht.nextTick(te,ce,H)):(H.prefinished=!0,ce.emit("prefinish")))}function he(ce,H){var P=pe(H);if(P&&($(ce,H),H.pendingcb===0&&(H.finished=!0,ce.emit("finish"),H.autoDestroy))){var ge=ce._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ce.destroy()}return P}function me(ce,H,P){H.ending=!0,he(ce,H),P&&(H.finished?ht.nextTick(P):ce.once("finish",P)),H.ended=!0,ce.writable=!1}function ye(ce,H,P){var ge=ce.entry;for(ce.entry=null;ge;){var ie=ge.callback;H.pendingcb--,ie(P),ge=ge.next}H.corkedRequestsFree.next=ce}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),L.prototype.destroy=A.destroy,L.prototype._undestroy=A.undestroy,L.prototype._destroy=function(ce,H){H(ce)},Uh}var Mh,s4;function ho(){if(s4)return Mh;s4=1;var t=Object.keys||function(u){var l=[];for(var c in u)l.push(c);return l};Mh=a;var e=Uv(),r=_v();Ri()(a,e);for(var n=t(r.prototype),s=0;s<n.length;s++){var i=n[s];a.prototype[i]||(a.prototype[i]=r.prototype[i])}function a(u){if(!(this instanceof a))return new a(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||ht.nextTick(A,this)}function A(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Mh}var Qh={},pl={exports:{}},i4;function WM(){return i4||(i4=1,function(t,e){var r=Yc(),n=r.Buffer;function s(a,o){for(var A in a)o[A]=a[A]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(a,o,A){return n(a,o,A)}s(n,i),i.from=function(a,o,A){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,A)},i.alloc=function(a,o,A){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof A=="string"?u.fill(o,A):u.fill(o):u.fill(0),u},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(pl,pl.exports)),pl.exports}var a4;function yp(){if(a4)return Qh;a4=1;var t=WM().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var B;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(B)return;w=(""+w).toLowerCase(),B=!0}}function n(w){var B=r(w);if(typeof B!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return B||w}Qh.StringDecoder=s;function s(w){this.encoding=n(w);var B;switch(this.encoding){case"utf16le":this.text=c,this.end=f,B=4;break;case"utf8":this.fillLast=A,B=4;break;case"base64":this.text=m,this.end=g,B=3;break;default:this.write=b,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(B)}s.prototype.write=function(w){if(w.length===0)return"";var B,C;if(this.lastNeed){if(B=this.fillLast(w),B===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<w.length?B?B+this.text(w,C):this.text(w,C):B||""},s.prototype.end=l,s.prototype.text=u,s.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function i(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,B,C){var x=B.length-1;if(x<C)return 0;var E=i(B[x]);return E>=0?(E>0&&(w.lastNeed=E-1),E):--x<C||E===-2?0:(E=i(B[x]),E>=0?(E>0&&(w.lastNeed=E-2),E):--x<C||E===-2?0:(E=i(B[x]),E>=0?(E>0&&(E===2?E=0:w.lastNeed=E-3),E):0))}function o(w,B,C){if((B[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return w.lastNeed=2,"�"}}function A(w){var B=this.lastTotal-this.lastNeed,C=o(this,w);if(C!==void 0)return C;if(this.lastNeed<=w.length)return w.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,B,0,w.length),this.lastNeed-=w.length}function u(w,B){var C=a(this,w,B);if(!this.lastNeed)return w.toString("utf8",B);this.lastTotal=C;var x=w.length-(C-this.lastNeed);return w.copy(this.lastChar,0,x),w.toString("utf8",B,x)}function l(w){var B=w&&w.length?this.write(w):"";return this.lastNeed?B+"�":B}function c(w,B){if((w.length-B)%2===0){var C=w.toString("utf16le",B);if(C){var x=C.charCodeAt(C.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",B,w.length-1)}function f(w){var B=w&&w.length?this.write(w):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,C)}return B}function m(w,B){var C=(w.length-B)%3;return C===0?w.toString("base64",B):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",B,w.length-C))}function g(w){var B=w&&w.length?this.write(w):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function b(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}return Qh}var Rh,o4;function Cg(){if(o4)return Rh;o4=1;var t=Do().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,A=new Array(o),u=0;u<o;u++)A[u]=arguments[u];i.apply(this,A)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function s(i,a,o){if(typeof a=="function")return s(i,null,a);a||(a={}),o=e(o||r);var A=a.readable||a.readable!==!1&&i.readable,u=a.writable||a.writable!==!1&&i.writable,l=function(){i.writable||f()},c=i._writableState&&i._writableState.finished,f=function(){u=!1,c=!0,A||o.call(i)},m=i._readableState&&i._readableState.endEmitted,g=function(){A=!1,m=!0,u||o.call(i)},b=function(C){o.call(i,C)},v=function(){var C;if(A&&!m)return(!i._readableState||!i._readableState.ended)&&(C=new t),o.call(i,C);if(u&&!c)return(!i._writableState||!i._writableState.ended)&&(C=new t),o.call(i,C)},w=function(){i.req.on("finish",f)};return n(i)?(i.on("complete",f),i.on("abort",v),i.req?w():i.on("request",w)):u&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",g),i.on("finish",f),a.error!==!1&&i.on("error",b),i.on("close",v),function(){i.removeListener("complete",f),i.removeListener("abort",v),i.removeListener("request",w),i.req&&i.req.removeListener("finish",f),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",f),i.removeListener("end",g),i.removeListener("error",b),i.removeListener("close",v)}}return Rh=s,Rh}var Oh,A4;function $M(){if(A4)return Oh;A4=1;var t;function e(w,B,C){return B in w?Object.defineProperty(w,B,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[B]=C,w}var r=Cg(),n=Symbol("lastResolve"),s=Symbol("lastReject"),i=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),A=Symbol("handlePromise"),u=Symbol("stream");function l(w,B){return{value:w,done:B}}function c(w){var B=w[n];if(B!==null){var C=w[u].read();C!==null&&(w[o]=null,w[n]=null,w[s]=null,B(l(C,!1)))}}function f(w){ht.nextTick(c,w)}function m(w,B){return function(C,x){w.then(function(){if(B[a]){C(l(void 0,!0));return}B[A](C,x)},x)}}var g=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var B=this,C=this[i];if(C!==null)return Promise.reject(C);if(this[a])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(_,L){ht.nextTick(function(){B[i]?L(B[i]):_(l(void 0,!0))})});var x=this[o],E;if(x)E=new Promise(m(x,this));else{var D=this[u].read();if(D!==null)return Promise.resolve(l(D,!1));E=new Promise(this[A])}return this[o]=E,E}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var B=this;return new Promise(function(C,x){B[u].destroy(null,function(E){if(E){x(E);return}C(l(void 0,!0))})})}),t),g),v=function(B){var C,x=Object.create(b,(C={},e(C,u,{value:B,writable:!0}),e(C,n,{value:null,writable:!0}),e(C,s,{value:null,writable:!0}),e(C,i,{value:null,writable:!0}),e(C,a,{value:B._readableState.endEmitted,writable:!0}),e(C,A,{value:function(D,_){var L=x[u].read();L?(x[o]=null,x[n]=null,x[s]=null,D(l(L,!1))):(x[n]=D,x[s]=_)},writable:!0}),C));return x[o]=null,r(B,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=x[s];D!==null&&(x[o]=null,x[n]=null,x[s]=null,D(E)),x[i]=E;return}var _=x[n];_!==null&&(x[o]=null,x[n]=null,x[s]=null,_(l(void 0,!0))),x[a]=!0}),B.on("readable",f.bind(null,x)),x};return Oh=v,Oh}var Nh,u4;function XM(){return u4||(u4=1,Nh=function(){throw new Error("Readable.from is not available in the browser")}),Nh}var Lh,l4;function Uv(){if(l4)return Lh;l4=1,Lh=I;var t;I.ReadableState=L,yg().EventEmitter;var e=function(se,Ce){return se.listeners(Ce).length},r=wv(),n=Yc().Buffer,s=bs.Uint8Array||function(){};function i(Z){return n.from(Z)}function a(Z){return n.isBuffer(Z)||Z instanceof s}var o=Dv(),A;o&&o.debuglog?A=o.debuglog("stream"):A=function(){};var u=VM(),l=kv(),c=Iv(),f=c.getHighWaterMark,m=Do().codes,g=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,C,x;Ri()(I,r);var E=l.errorOrDestroy,D=["error","close","destroy","pause","resume"];function _(Z,se,Ce){if(typeof Z.prependListener=="function")return Z.prependListener(se,Ce);!Z._events||!Z._events[se]?Z.on(se,Ce):Array.isArray(Z._events[se])?Z._events[se].unshift(Ce):Z._events[se]=[Ce,Z._events[se]]}function L(Z,se,Ce){t=t||ho(),Z=Z||{},typeof Ce!="boolean"&&(Ce=se instanceof t),this.objectMode=!!Z.objectMode,Ce&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=f(this,Z,"readableHighWaterMark",Ce),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(B||(B=yp().StringDecoder),this.decoder=new B(Z.encoding),this.encoding=Z.encoding)}function I(Z){if(t=t||ho(),!(this instanceof I))return new I(Z);var se=this instanceof t;this._readableState=new L(Z,this,se),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),r.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(se){this._readableState&&(this._readableState.destroyed=se)}}),I.prototype.destroy=l.destroy,I.prototype._undestroy=l.undestroy,I.prototype._destroy=function(Z,se){se(Z)},I.prototype.push=function(Z,se){var Ce=this._readableState,O;return Ce.objectMode?O=!0:typeof Z=="string"&&(se=se||Ce.defaultEncoding,se!==Ce.encoding&&(Z=n.from(Z,se),se=""),O=!0),G(this,Z,se,!1,O)},I.prototype.unshift=function(Z){return G(this,Z,null,!0,!1)};function G(Z,se,Ce,O,ue){A("readableAddChunk",se);var N=Z._readableState;if(se===null)N.reading=!1,J(Z,N);else{var F;if(ue||(F=Q(N,se)),F)E(Z,F);else if(N.objectMode||se&&se.length>0)if(typeof se!="string"&&!N.objectMode&&Object.getPrototypeOf(se)!==n.prototype&&(se=i(se)),O)N.endEmitted?E(Z,new w):W(Z,N,se,!0);else if(N.ended)E(Z,new b);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!Ce?(se=N.decoder.write(se),N.objectMode||se.length!==0?W(Z,N,se,!1):re(Z,N)):W(Z,N,se,!1)}else O||(N.reading=!1,re(Z,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function W(Z,se,Ce,O){se.flowing&&se.length===0&&!se.sync?(se.awaitDrain=0,Z.emit("data",Ce)):(se.length+=se.objectMode?1:Ce.length,O?se.buffer.unshift(Ce):se.buffer.push(Ce),se.needReadable&&Y(Z)),re(Z,se)}function Q(Z,se){var Ce;return!a(se)&&typeof se!="string"&&se!==void 0&&!Z.objectMode&&(Ce=new g("chunk",["string","Buffer","Uint8Array"],se)),Ce}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(Z){B||(B=yp().StringDecoder);var se=new B(Z);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ce=this._readableState.buffer.head,O="";Ce!==null;)O+=se.write(Ce.data),Ce=Ce.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var j=1073741824;function T(Z){return Z>=j?Z=j:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function V(Z,se){return Z<=0||se.length===0&&se.ended?0:se.objectMode?1:Z!==Z?se.flowing&&se.length?se.buffer.head.data.length:se.length:(Z>se.highWaterMark&&(se.highWaterMark=T(Z)),Z<=se.length?Z:se.ended?se.length:(se.needReadable=!0,0))}I.prototype.read=function(Z){A("read",Z),Z=parseInt(Z,10);var se=this._readableState,Ce=Z;if(Z!==0&&(se.emittedReadable=!1),Z===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return A("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?P(this):Y(this),null;if(Z=V(Z,se),Z===0&&se.ended)return se.length===0&&P(this),null;var O=se.needReadable;A("need readable",O),(se.length===0||se.length-Z<se.highWaterMark)&&(O=!0,A("length less than watermark",O)),se.ended||se.reading?(O=!1,A("reading or ended",O)):O&&(A("do read"),se.reading=!0,se.sync=!0,se.length===0&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(Z=V(Ce,se)));var ue;return Z>0?ue=H(Z,se):ue=null,ue===null?(se.needReadable=se.length<=se.highWaterMark,Z=0):(se.length-=Z,se.awaitDrain=0),se.length===0&&(se.ended||(se.needReadable=!0),Ce!==Z&&se.ended&&P(this)),ue!==null&&this.emit("data",ue),ue};function J(Z,se){if(A("onEofChunk"),!se.ended){if(se.decoder){var Ce=se.decoder.end();Ce&&Ce.length&&(se.buffer.push(Ce),se.length+=se.objectMode?1:Ce.length)}se.ended=!0,se.sync?Y(Z):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,oe(Z)))}}function Y(Z){var se=Z._readableState;A("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(A("emitReadable",se.flowing),se.emittedReadable=!0,ht.nextTick(oe,Z))}function oe(Z){var se=Z._readableState;A("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&(se.length||se.ended)&&(Z.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,ce(Z)}function re(Z,se){se.readingMore||(se.readingMore=!0,ht.nextTick(pe,Z,se))}function pe(Z,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){var Ce=se.length;if(A("maybeReadMore read 0"),Z.read(0),Ce===se.length)break}se.readingMore=!1}I.prototype._read=function(Z){E(this,new v("_read()"))},I.prototype.pipe=function(Z,se){var Ce=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=Z;break;case 1:O.pipes=[O.pipes,Z];break;default:O.pipes.push(Z);break}O.pipesCount+=1,A("pipe count=%d opts=%j",O.pipesCount,se);var ue=(!se||se.end!==!1)&&Z!==ht.stdout&&Z!==ht.stderr,N=ue?k:Me;O.endEmitted?ht.nextTick(N):Ce.once("end",N),Z.on("unpipe",F);function F(je,Ke){A("onunpipe"),je===Ce&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,be())}function k(){A("onend"),Z.end()}var R=te(Ce);Z.on("drain",R);var Ae=!1;function be(){A("cleanup"),Z.removeListener("close",_e),Z.removeListener("finish",ve),Z.removeListener("drain",R),Z.removeListener("error",Te),Z.removeListener("unpipe",F),Ce.removeListener("end",k),Ce.removeListener("end",Me),Ce.removeListener("data",le),Ae=!0,O.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&R()}Ce.on("data",le);function le(je){A("ondata");var Ke=Z.write(je);A("dest.write",Ke),Ke===!1&&((O.pipesCount===1&&O.pipes===Z||O.pipesCount>1&&ie(O.pipes,Z)!==-1)&&!Ae&&(A("false write response, pause",O.awaitDrain),O.awaitDrain++),Ce.pause())}function Te(je){A("onerror",je),Me(),Z.removeListener("error",Te),e(Z,"error")===0&&E(Z,je)}_(Z,"error",Te);function _e(){Z.removeListener("finish",ve),Me()}Z.once("close",_e);function ve(){A("onfinish"),Z.removeListener("close",_e),Me()}Z.once("finish",ve);function Me(){A("unpipe"),Ce.unpipe(Z)}return Z.emit("pipe",Ce),O.flowing||(A("pipe resume"),Ce.resume()),Z};function te(Z){return function(){var Ce=Z._readableState;A("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&e(Z,"data")&&(Ce.flowing=!0,ce(Z))}}I.prototype.unpipe=function(Z){var se=this._readableState,Ce={hasUnpiped:!1};if(se.pipesCount===0)return this;if(se.pipesCount===1)return Z&&Z!==se.pipes?this:(Z||(Z=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,Z&&Z.emit("unpipe",this,Ce),this);if(!Z){var O=se.pipes,ue=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var N=0;N<ue;N++)O[N].emit("unpipe",this,{hasUnpiped:!1});return this}var F=ie(se.pipes,Z);return F===-1?this:(se.pipes.splice(F,1),se.pipesCount-=1,se.pipesCount===1&&(se.pipes=se.pipes[0]),Z.emit("unpipe",this,Ce),this)},I.prototype.on=function(Z,se){var Ce=r.prototype.on.call(this,Z,se),O=this._readableState;return Z==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):Z==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,A("on readable",O.length,O.reading),O.length?Y(this):O.reading||ht.nextTick(he,this)),Ce},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(Z,se){var Ce=r.prototype.removeListener.call(this,Z,se);return Z==="readable"&&ht.nextTick($,this),Ce},I.prototype.removeAllListeners=function(Z){var se=r.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&ht.nextTick($,this),se};function $(Z){var se=Z._readableState;se.readableListening=Z.listenerCount("readable")>0,se.resumeScheduled&&!se.paused?se.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function he(Z){A("readable nexttick read 0"),Z.read(0)}I.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(A("resume"),Z.flowing=!Z.readableListening,me(this,Z)),Z.paused=!1,this};function me(Z,se){se.resumeScheduled||(se.resumeScheduled=!0,ht.nextTick(ye,Z,se))}function ye(Z,se){A("resume",se.reading),se.reading||Z.read(0),se.resumeScheduled=!1,Z.emit("resume"),ce(Z),se.flowing&&!se.reading&&Z.read(0)}I.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(Z){var se=Z._readableState;for(A("flow",se.flowing);se.flowing&&Z.read()!==null;);}I.prototype.wrap=function(Z){var se=this,Ce=this._readableState,O=!1;Z.on("end",function(){if(A("wrapped end"),Ce.decoder&&!Ce.ended){var F=Ce.decoder.end();F&&F.length&&se.push(F)}se.push(null)}),Z.on("data",function(F){if(A("wrapped data"),Ce.decoder&&(F=Ce.decoder.write(F)),!(Ce.objectMode&&F==null)&&!(!Ce.objectMode&&(!F||!F.length))){var k=se.push(F);k||(O=!0,Z.pause())}});for(var ue in Z)this[ue]===void 0&&typeof Z[ue]=="function"&&(this[ue]=function(k){return function(){return Z[k].apply(Z,arguments)}}(ue));for(var N=0;N<D.length;N++)Z.on(D[N],this.emit.bind(this,D[N]));return this._read=function(F){A("wrapped _read",F),O&&(O=!1,Z.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=$M()),C(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(se){this._readableState&&(this._readableState.flowing=se)}}),I._fromList=H,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function H(Z,se){if(se.length===0)return null;var Ce;return se.objectMode?Ce=se.buffer.shift():!Z||Z>=se.length?(se.decoder?Ce=se.buffer.join(""):se.buffer.length===1?Ce=se.buffer.first():Ce=se.buffer.concat(se.length),se.buffer.clear()):Ce=se.buffer.consume(Z,se.decoder),Ce}function P(Z){var se=Z._readableState;A("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,ht.nextTick(ge,se,Z))}function ge(Z,se){if(A("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,se.readable=!1,se.emit("end"),Z.autoDestroy)){var Ce=se._writableState;(!Ce||Ce.autoDestroy&&Ce.finished)&&se.destroy()}}typeof Symbol=="function"&&(I.from=function(Z,se){return x===void 0&&(x=XM()),x(I,Z,se)});function ie(Z,se){for(var Ce=0,O=Z.length;Ce<O;Ce++)if(Z[Ce]===se)return Ce;return-1}return Lh}var Hh,c4;function Mv(){if(c4)return Hh;c4=1,Hh=o;var t=Do().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,i=ho();Ri()(o,i);function a(l,c){var f=this._transformState;f.transforming=!1;var m=f.writecb;if(m===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,c!=null&&this.push(c),m(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function o(l){if(!(this instanceof o))return new o(l);i.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",A)}function A(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,f){u(l,c,f)}):u(this,null,null)}o.prototype.push=function(l,c){return this._transformState.needTransform=!1,i.prototype.push.call(this,l,c)},o.prototype._transform=function(l,c,f){f(new e("_transform()"))},o.prototype._write=function(l,c,f){var m=this._transformState;if(m.writecb=f,m.writechunk=l,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},o.prototype._read=function(l){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},o.prototype._destroy=function(l,c){i.prototype._destroy.call(this,l,function(f){c(f)})};function u(l,c,f){if(c)return l.emit("error",c);if(f!=null&&l.push(f),l._writableState.length)throw new s;if(l._transformState.transforming)throw new n;return l.push(null)}return Hh}var Ph,d4;function YM(){if(d4)return Ph;d4=1,Ph=e;var t=Mv();Ri()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,s){s(null,r)},Ph}var jh,h4;function JM(){if(h4)return jh;h4=1;var t;function e(f){var m=!1;return function(){m||(m=!0,f.apply(void 0,arguments))}}var r=Do().codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function i(f){if(f)throw f}function a(f){return f.setHeader&&typeof f.abort=="function"}function o(f,m,g,b){b=e(b);var v=!1;f.on("close",function(){v=!0}),t===void 0&&(t=Cg()),t(f,{readable:m,writable:g},function(B){if(B)return b(B);v=!0,b()});var w=!1;return function(B){if(!v&&!w){if(w=!0,a(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();b(B||new s("pipe"))}}}function A(f){f()}function u(f,m){return f.pipe(m)}function l(f){return!f.length||typeof f[f.length-1]!="function"?i:f.pop()}function c(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];var b=l(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,w=m.map(function(B,C){var x=C<m.length-1,E=C>0;return o(B,x,E,function(D){v||(v=D),D&&w.forEach(A),!x&&(w.forEach(A),b(v))})});return m.reduce(u)}return jh=c,jh}var zh,f4;function Eg(){if(f4)return zh;f4=1,zh=r;var t=yg().EventEmitter,e=Ri();e(r,t),r.Readable=Uv(),r.Writable=_v(),r.Duplex=ho(),r.Transform=Mv(),r.PassThrough=YM(),r.finished=Cg(),r.pipeline=JM(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,s){var i=this;function a(m){n.writable&&n.write(m)===!1&&i.pause&&i.pause()}i.on("data",a);function o(){i.readable&&i.resume&&i.resume()}n.on("drain",o),!n._isStdio&&(!s||s.end!==!1)&&(i.on("end",u),i.on("close",l));var A=!1;function u(){A||(A=!0,n.end())}function l(){A||(A=!0,typeof n.destroy=="function"&&n.destroy())}function c(m){if(f(),t.listenerCount(this,"error")===0)throw m}i.on("error",c),n.on("error",c);function f(){i.removeListener("data",a),n.removeListener("drain",o),i.removeListener("end",u),i.removeListener("close",l),i.removeListener("error",c),n.removeListener("error",c),i.removeListener("end",f),i.removeListener("close",f),n.removeListener("close",f)}return i.on("end",f),i.on("close",f),n.on("close",f),n.emit("pipe",i),n},zh}var p4;function ZM(){return p4||(p4=1,function(t){(function(e){e.parser=function(H,P){return new n(H,P)},e.SAXParser=n,e.SAXStream=l,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(H,P){if(!(this instanceof n))return new n(H,P);var ge=this;i(ge),ge.q=ge.c="",ge.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ge.opt=P||{},ge.opt.lowercase=ge.opt.lowercase||ge.opt.lowercasetags,ge.looseCase=ge.opt.lowercase?"toLowerCase":"toUpperCase",ge.tags=[],ge.closed=ge.closedRoot=ge.sawRoot=!1,ge.tag=ge.error=null,ge.strict=!!H,ge.noscript=!!(H||ge.opt.noscript),ge.state=I.BEGIN,ge.strictEntities=ge.opt.strictEntities,ge.ENTITIES=ge.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ge.attribList=[],ge.opt.xmlns&&(ge.ns=Object.create(b)),ge.trackPosition=ge.opt.position!==!1,ge.trackPosition&&(ge.position=ge.line=ge.column=0),W(ge,"onready")}Object.create||(Object.create=function(H){function P(){}P.prototype=H;var ge=new P;return ge}),Object.keys||(Object.keys=function(H){var P=[];for(var ge in H)H.hasOwnProperty(ge)&&P.push(ge);return P});function s(H){for(var P=Math.max(e.MAX_BUFFER_LENGTH,10),ge=0,ie=0,Z=r.length;ie<Z;ie++){var se=H[r[ie]].length;if(se>P)switch(r[ie]){case"textNode":j(H);break;case"cdata":Q(H,"oncdata",H.cdata),H.cdata="";break;case"script":Q(H,"onscript",H.script),H.script="";break;default:V(H,"Max buffer length exceeded: "+r[ie])}ge=Math.max(ge,se)}var Ce=e.MAX_BUFFER_LENGTH-ge;H.bufferCheckPosition=Ce+H.position}function i(H){for(var P=0,ge=r.length;P<ge;P++)H[r[P]]=""}function a(H){j(H),H.cdata!==""&&(Q(H,"oncdata",H.cdata),H.cdata=""),H.script!==""&&(Q(H,"onscript",H.script),H.script="")}n.prototype={end:function(){J(this)},write:ce,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=Eg().Stream}catch{o=function(){}}var A=e.EVENTS.filter(function(H){return H!=="error"&&H!=="end"});function u(H,P){return new l(H,P)}function l(H,P){if(!(this instanceof l))return new l(H,P);o.apply(this),this._parser=new n(H,P),this.writable=!0,this.readable=!0;var ge=this;this._parser.onend=function(){ge.emit("end")},this._parser.onerror=function(ie){ge.emit("error",ie),ge._parser.error=null},this._decoder=null,A.forEach(function(ie){Object.defineProperty(ge,"on"+ie,{get:function(){return ge._parser["on"+ie]},set:function(Z){if(!Z)return ge.removeAllListeners(ie),ge._parser["on"+ie]=Z,Z;ge.on(ie,Z)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(o.prototype,{constructor:{value:l}}),l.prototype.write=function(H){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(H)){if(!this._decoder){var P=yp().StringDecoder;this._decoder=new P("utf8")}H=this._decoder.write(H)}return this._parser.write(H.toString()),this.emit("data",H),!0},l.prototype.end=function(H){return H&&H.length&&this.write(H),this._parser.end(),!0},l.prototype.on=function(H,P){var ge=this;return!ge._parser["on"+H]&&A.indexOf(H)!==-1&&(ge._parser["on"+H]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,H),ge.emit.apply(ge,ie)}),o.prototype.on.call(ge,H,P)};var c="[CDATA[",f="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",b={xml:m,xmlns:g},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(H){return H===" "||H===`
`||H==="\r"||H==="	"}function E(H){return H==='"'||H==="'"}function D(H){return H===">"||x(H)}function _(H,P){return H.test(P)}function L(H,P){return!_(H,P)}var I=0;e.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(H){var P=e.ENTITIES[H],ge=typeof P=="number"?String.fromCharCode(P):P;e.ENTITIES[H]=ge});for(var G in e.STATE)e.STATE[e.STATE[G]]=G;I=e.STATE;function W(H,P,ge){H[P]&&H[P](ge)}function Q(H,P,ge){H.textNode&&j(H),W(H,P,ge)}function j(H){H.textNode=T(H.opt,H.textNode),H.textNode&&W(H,"ontext",H.textNode),H.textNode=""}function T(H,P){return H.trim&&(P=P.trim()),H.normalize&&(P=P.replace(/\s+/g," ")),P}function V(H,P){return j(H),H.trackPosition&&(P+=`
Line: `+H.line+`
Column: `+H.column+`
Char: `+H.c),P=new Error(P),H.error=P,W(H,"onerror",P),H}function J(H){return H.sawRoot&&!H.closedRoot&&Y(H,"Unclosed root tag"),H.state!==I.BEGIN&&H.state!==I.BEGIN_WHITESPACE&&H.state!==I.TEXT&&V(H,"Unexpected end"),j(H),H.c="",H.closed=!0,W(H,"onend"),n.call(H,H.strict,H.opt),H}function Y(H,P){if(typeof H!="object"||!(H instanceof n))throw new Error("bad call to strictFail");H.strict&&V(H,P)}function oe(H){H.strict||(H.tagName=H.tagName[H.looseCase]());var P=H.tags[H.tags.length-1]||H,ge=H.tag={name:H.tagName,attributes:{}};H.opt.xmlns&&(ge.ns=P.ns),H.attribList.length=0,Q(H,"onopentagstart",ge)}function re(H,P){var ge=H.indexOf(":"),ie=ge<0?["",H]:H.split(":"),Z=ie[0],se=ie[1];return P&&H==="xmlns"&&(Z="xmlns",se=""),{prefix:Z,local:se}}function pe(H){if(H.strict||(H.attribName=H.attribName[H.looseCase]()),H.attribList.indexOf(H.attribName)!==-1||H.tag.attributes.hasOwnProperty(H.attribName)){H.attribName=H.attribValue="";return}if(H.opt.xmlns){var P=re(H.attribName,!0),ge=P.prefix,ie=P.local;if(ge==="xmlns")if(ie==="xml"&&H.attribValue!==m)Y(H,"xml: prefix must be bound to "+m+`
Actual: `+H.attribValue);else if(ie==="xmlns"&&H.attribValue!==g)Y(H,"xmlns: prefix must be bound to "+g+`
Actual: `+H.attribValue);else{var Z=H.tag,se=H.tags[H.tags.length-1]||H;Z.ns===se.ns&&(Z.ns=Object.create(se.ns)),Z.ns[ie]=H.attribValue}H.attribList.push([H.attribName,H.attribValue])}else H.tag.attributes[H.attribName]=H.attribValue,Q(H,"onattribute",{name:H.attribName,value:H.attribValue});H.attribName=H.attribValue=""}function te(H,P){if(H.opt.xmlns){var ge=H.tag,ie=re(H.tagName);ge.prefix=ie.prefix,ge.local=ie.local,ge.uri=ge.ns[ie.prefix]||"",ge.prefix&&!ge.uri&&(Y(H,"Unbound namespace prefix: "+JSON.stringify(H.tagName)),ge.uri=ie.prefix);var Z=H.tags[H.tags.length-1]||H;ge.ns&&Z.ns!==ge.ns&&Object.keys(ge.ns).forEach(function(le){Q(H,"onopennamespace",{prefix:le,uri:ge.ns[le]})});for(var se=0,Ce=H.attribList.length;se<Ce;se++){var O=H.attribList[se],ue=O[0],N=O[1],F=re(ue,!0),k=F.prefix,R=F.local,Ae=k===""?"":ge.ns[k]||"",be={name:ue,value:N,prefix:k,local:R,uri:Ae};k&&k!=="xmlns"&&!Ae&&(Y(H,"Unbound namespace prefix: "+JSON.stringify(k)),be.uri=k),H.tag.attributes[ue]=be,Q(H,"onattribute",be)}H.attribList.length=0}H.tag.isSelfClosing=!!P,H.sawRoot=!0,H.tags.push(H.tag),Q(H,"onopentag",H.tag),P||(!H.noscript&&H.tagName.toLowerCase()==="script"?H.state=I.SCRIPT:H.state=I.TEXT,H.tag=null,H.tagName=""),H.attribName=H.attribValue="",H.attribList.length=0}function $(H){if(!H.tagName){Y(H,"Weird empty close tag."),H.textNode+="</>",H.state=I.TEXT;return}if(H.script){if(H.tagName!=="script"){H.script+="</"+H.tagName+">",H.tagName="",H.state=I.SCRIPT;return}Q(H,"onscript",H.script),H.script=""}var P=H.tags.length,ge=H.tagName;H.strict||(ge=ge[H.looseCase]());for(var ie=ge;P--;){var Z=H.tags[P];if(Z.name!==ie)Y(H,"Unexpected close tag");else break}if(P<0){Y(H,"Unmatched closing tag: "+H.tagName),H.textNode+="</"+H.tagName+">",H.state=I.TEXT;return}H.tagName=ge;for(var se=H.tags.length;se-- >P;){var Ce=H.tag=H.tags.pop();H.tagName=H.tag.name,Q(H,"onclosetag",H.tagName);var O={};for(var ue in Ce.ns)O[ue]=Ce.ns[ue];var N=H.tags[H.tags.length-1]||H;H.opt.xmlns&&Ce.ns!==N.ns&&Object.keys(Ce.ns).forEach(function(F){var k=Ce.ns[F];Q(H,"onclosenamespace",{prefix:F,uri:k})})}P===0&&(H.closedRoot=!0),H.tagName=H.attribValue=H.attribName="",H.attribList.length=0,H.state=I.TEXT}function he(H){var P=H.entity,ge=P.toLowerCase(),ie,Z="";return H.ENTITIES[P]?H.ENTITIES[P]:H.ENTITIES[ge]?H.ENTITIES[ge]:(P=ge,P.charAt(0)==="#"&&(P.charAt(1)==="x"?(P=P.slice(2),ie=parseInt(P,16),Z=ie.toString(16)):(P=P.slice(1),ie=parseInt(P,10),Z=ie.toString(10))),P=P.replace(/^0+/,""),isNaN(ie)||Z.toLowerCase()!==P?(Y(H,"Invalid character entity"),"&"+H.entity+";"):String.fromCodePoint(ie))}function me(H,P){P==="<"?(H.state=I.OPEN_WAKA,H.startTagPosition=H.position):x(P)||(Y(H,"Non-whitespace before first tag."),H.textNode=P,H.state=I.TEXT)}function ye(H,P){var ge="";return P<H.length&&(ge=H.charAt(P)),ge}function ce(H){var P=this;if(this.error)throw this.error;if(P.closed)return V(P,"Cannot write after close. Assign an onready handler.");if(H===null)return J(P);typeof H=="object"&&(H=H.toString());for(var ge=0,ie="";ie=ye(H,ge++),P.c=ie,!!ie;)switch(P.trackPosition&&(P.position++,ie===`
`?(P.line++,P.column=0):P.column++),P.state){case I.BEGIN:if(P.state=I.BEGIN_WHITESPACE,ie==="\uFEFF")continue;me(P,ie);continue;case I.BEGIN_WHITESPACE:me(P,ie);continue;case I.TEXT:if(P.sawRoot&&!P.closedRoot){for(var Z=ge-1;ie&&ie!=="<"&&ie!=="&";)ie=ye(H,ge++),ie&&P.trackPosition&&(P.position++,ie===`
`?(P.line++,P.column=0):P.column++);P.textNode+=H.substring(Z,ge-1)}ie==="<"&&!(P.sawRoot&&P.closedRoot&&!P.strict)?(P.state=I.OPEN_WAKA,P.startTagPosition=P.position):(!x(ie)&&(!P.sawRoot||P.closedRoot)&&Y(P,"Text data outside of root node."),ie==="&"?P.state=I.TEXT_ENTITY:P.textNode+=ie);continue;case I.SCRIPT:ie==="<"?P.state=I.SCRIPT_ENDING:P.script+=ie;continue;case I.SCRIPT_ENDING:ie==="/"?P.state=I.CLOSE_TAG:(P.script+="<"+ie,P.state=I.SCRIPT);continue;case I.OPEN_WAKA:if(ie==="!")P.state=I.SGML_DECL,P.sgmlDecl="";else if(!x(ie))if(_(v,ie))P.state=I.OPEN_TAG,P.tagName=ie;else if(ie==="/")P.state=I.CLOSE_TAG,P.tagName="";else if(ie==="?")P.state=I.PROC_INST,P.procInstName=P.procInstBody="";else{if(Y(P,"Unencoded <"),P.startTagPosition+1<P.position){var se=P.position-P.startTagPosition;ie=new Array(se).join(" ")+ie}P.textNode+="<"+ie,P.state=I.TEXT}continue;case I.SGML_DECL:(P.sgmlDecl+ie).toUpperCase()===c?(Q(P,"onopencdata"),P.state=I.CDATA,P.sgmlDecl="",P.cdata=""):P.sgmlDecl+ie==="--"?(P.state=I.COMMENT,P.comment="",P.sgmlDecl=""):(P.sgmlDecl+ie).toUpperCase()===f?(P.state=I.DOCTYPE,(P.doctype||P.sawRoot)&&Y(P,"Inappropriately located doctype declaration"),P.doctype="",P.sgmlDecl=""):ie===">"?(Q(P,"onsgmldeclaration",P.sgmlDecl),P.sgmlDecl="",P.state=I.TEXT):(E(ie)&&(P.state=I.SGML_DECL_QUOTED),P.sgmlDecl+=ie);continue;case I.SGML_DECL_QUOTED:ie===P.q&&(P.state=I.SGML_DECL,P.q=""),P.sgmlDecl+=ie;continue;case I.DOCTYPE:ie===">"?(P.state=I.TEXT,Q(P,"ondoctype",P.doctype),P.doctype=!0):(P.doctype+=ie,ie==="["?P.state=I.DOCTYPE_DTD:E(ie)&&(P.state=I.DOCTYPE_QUOTED,P.q=ie));continue;case I.DOCTYPE_QUOTED:P.doctype+=ie,ie===P.q&&(P.q="",P.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:P.doctype+=ie,ie==="]"?P.state=I.DOCTYPE:E(ie)&&(P.state=I.DOCTYPE_DTD_QUOTED,P.q=ie);continue;case I.DOCTYPE_DTD_QUOTED:P.doctype+=ie,ie===P.q&&(P.state=I.DOCTYPE_DTD,P.q="");continue;case I.COMMENT:ie==="-"?P.state=I.COMMENT_ENDING:P.comment+=ie;continue;case I.COMMENT_ENDING:ie==="-"?(P.state=I.COMMENT_ENDED,P.comment=T(P.opt,P.comment),P.comment&&Q(P,"oncomment",P.comment),P.comment=""):(P.comment+="-"+ie,P.state=I.COMMENT);continue;case I.COMMENT_ENDED:ie!==">"?(Y(P,"Malformed comment"),P.comment+="--"+ie,P.state=I.COMMENT):P.state=I.TEXT;continue;case I.CDATA:ie==="]"?P.state=I.CDATA_ENDING:P.cdata+=ie;continue;case I.CDATA_ENDING:ie==="]"?P.state=I.CDATA_ENDING_2:(P.cdata+="]"+ie,P.state=I.CDATA);continue;case I.CDATA_ENDING_2:ie===">"?(P.cdata&&Q(P,"oncdata",P.cdata),Q(P,"onclosecdata"),P.cdata="",P.state=I.TEXT):ie==="]"?P.cdata+="]":(P.cdata+="]]"+ie,P.state=I.CDATA);continue;case I.PROC_INST:ie==="?"?P.state=I.PROC_INST_ENDING:x(ie)?P.state=I.PROC_INST_BODY:P.procInstName+=ie;continue;case I.PROC_INST_BODY:if(!P.procInstBody&&x(ie))continue;ie==="?"?P.state=I.PROC_INST_ENDING:P.procInstBody+=ie;continue;case I.PROC_INST_ENDING:ie===">"?(Q(P,"onprocessinginstruction",{name:P.procInstName,body:P.procInstBody}),P.procInstName=P.procInstBody="",P.state=I.TEXT):(P.procInstBody+="?"+ie,P.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:_(w,ie)?P.tagName+=ie:(oe(P),ie===">"?te(P):ie==="/"?P.state=I.OPEN_TAG_SLASH:(x(ie)||Y(P,"Invalid character in tag name"),P.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:ie===">"?(te(P,!0),$(P)):(Y(P,"Forward-slash in opening tag not followed by >"),P.state=I.ATTRIB);continue;case I.ATTRIB:if(x(ie))continue;ie===">"?te(P):ie==="/"?P.state=I.OPEN_TAG_SLASH:_(v,ie)?(P.attribName=ie,P.attribValue="",P.state=I.ATTRIB_NAME):Y(P,"Invalid attribute name");continue;case I.ATTRIB_NAME:ie==="="?P.state=I.ATTRIB_VALUE:ie===">"?(Y(P,"Attribute without value"),P.attribValue=P.attribName,pe(P),te(P)):x(ie)?P.state=I.ATTRIB_NAME_SAW_WHITE:_(w,ie)?P.attribName+=ie:Y(P,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:if(ie==="=")P.state=I.ATTRIB_VALUE;else{if(x(ie))continue;Y(P,"Attribute without value"),P.tag.attributes[P.attribName]="",P.attribValue="",Q(P,"onattribute",{name:P.attribName,value:""}),P.attribName="",ie===">"?te(P):_(v,ie)?(P.attribName=ie,P.state=I.ATTRIB_NAME):(Y(P,"Invalid attribute name"),P.state=I.ATTRIB)}continue;case I.ATTRIB_VALUE:if(x(ie))continue;E(ie)?(P.q=ie,P.state=I.ATTRIB_VALUE_QUOTED):(Y(P,"Unquoted attribute value"),P.state=I.ATTRIB_VALUE_UNQUOTED,P.attribValue=ie);continue;case I.ATTRIB_VALUE_QUOTED:if(ie!==P.q){ie==="&"?P.state=I.ATTRIB_VALUE_ENTITY_Q:P.attribValue+=ie;continue}pe(P),P.q="",P.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:x(ie)?P.state=I.ATTRIB:ie===">"?te(P):ie==="/"?P.state=I.OPEN_TAG_SLASH:_(v,ie)?(Y(P,"No whitespace between attributes"),P.attribName=ie,P.attribValue="",P.state=I.ATTRIB_NAME):Y(P,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(!D(ie)){ie==="&"?P.state=I.ATTRIB_VALUE_ENTITY_U:P.attribValue+=ie;continue}pe(P),ie===">"?te(P):P.state=I.ATTRIB;continue;case I.CLOSE_TAG:if(P.tagName)ie===">"?$(P):_(w,ie)?P.tagName+=ie:P.script?(P.script+="</"+P.tagName,P.tagName="",P.state=I.SCRIPT):(x(ie)||Y(P,"Invalid tagname in closing tag"),P.state=I.CLOSE_TAG_SAW_WHITE);else{if(x(ie))continue;L(v,ie)?P.script?(P.script+="</"+ie,P.state=I.SCRIPT):Y(P,"Invalid tagname in closing tag."):P.tagName=ie}continue;case I.CLOSE_TAG_SAW_WHITE:if(x(ie))continue;ie===">"?$(P):Y(P,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:var Ce,O;switch(P.state){case I.TEXT_ENTITY:Ce=I.TEXT,O="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:Ce=I.ATTRIB_VALUE_QUOTED,O="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:Ce=I.ATTRIB_VALUE_UNQUOTED,O="attribValue";break}ie===";"?(P[O]+=he(P),P.entity="",P.state=Ce):_(P.entity.length?C:B,ie)?P.entity+=ie:(Y(P,"Invalid character in entity name"),P[O]+="&"+P.entity+ie,P.entity="",P.state=Ce);continue;default:throw new Error(P,"Unknown state: "+P.state)}return P.position>=P.bufferCheckPosition&&s(P),P}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var H=String.fromCharCode,P=Math.floor,ge=function(){var ie=16384,Z=[],se,Ce,O=-1,ue=arguments.length;if(!ue)return"";for(var N="";++O<ue;){var F=Number(arguments[O]);if(!isFinite(F)||F<0||F>1114111||P(F)!==F)throw RangeError("Invalid code point: "+F);F<=65535?Z.push(F):(F-=65536,se=(F>>10)+55296,Ce=F%1024+56320,Z.push(se,Ce)),(O+1===ue||Z.length>ie)&&(N+=H.apply(null,Z),Z.length=0)}return N};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ge,configurable:!0,writable:!0}):String.fromCodePoint=ge}()})(t)}(Fd)),Fd}var Kh,g4;function Sg(){return g4||(g4=1,Kh={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Kh}var qh,m4;function Tg(){if(m4)return qh;m4=1;var t=Sg().isArray;return qh={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},qh}var Vh,b4;function Qv(){if(b4)return Vh;b4=1;var t=ZM(),e=Tg(),r=Sg().isArray,n,s;function i(w){return n=e.copyOptions(w),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(w){var B=Number(w);if(!isNaN(B))return B;var C=w.toLowerCase();return C==="true"?!0:C==="false"?!1:w}function o(w,B){var C;if(n.compact){if(!s[n[w+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[w+"Key"])!==-1:n.alwaysArray)&&(s[n[w+"Key"]]=[]),s[n[w+"Key"]]&&!r(s[n[w+"Key"]])&&(s[n[w+"Key"]]=[s[n[w+"Key"]]]),w+"Fn"in n&&typeof B=="string"&&(B=n[w+"Fn"](B,s)),w==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(C in B)if(B.hasOwnProperty(C))if("instructionFn"in n)B[C]=n.instructionFn(B[C],C,s);else{var x=B[C];delete B[C],B[n.instructionNameFn(C,x,s)]=x}}r(s[n[w+"Key"]])?s[n[w+"Key"]].push(B):s[n[w+"Key"]]=B}else{s[n.elementsKey]||(s[n.elementsKey]=[]);var E={};if(E[n.typeKey]=w,w==="instruction"){for(C in B)if(B.hasOwnProperty(C))break;E[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(C,B,s):C,n.instructionHasAttributes?(E[n.attributesKey]=B[C][n.attributesKey],"instructionFn"in n&&(E[n.attributesKey]=n.instructionFn(E[n.attributesKey],C,s))):("instructionFn"in n&&(B[C]=n.instructionFn(B[C],C,s)),E[n.instructionKey]=B[C])}else w+"Fn"in n&&(B=n[w+"Fn"](B,s)),E[n[w+"Key"]]=B;n.addParent&&(E[n.parentKey]=s),s[n.elementsKey].push(E)}}function A(w){if("attributesFn"in n&&w&&(w=n.attributesFn(w,s)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&w){var B;for(B in w)if(w.hasOwnProperty(B)&&(n.trim&&(w[B]=w[B].trim()),n.nativeTypeAttributes&&(w[B]=a(w[B])),"attributeValueFn"in n&&(w[B]=n.attributeValueFn(w[B],B,s)),"attributeNameFn"in n)){var C=w[B];delete w[B],w[n.attributeNameFn(B,w[B],s)]=C}}return w}function u(w){var B={};if(w.body&&(w.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var C=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,x;(x=C.exec(w.body))!==null;)B[x[1]]=x[2]||x[3]||x[4];B=A(B)}if(w.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;s[n.declarationKey]={},Object.keys(B).length&&(s[n.declarationKey][n.attributesKey]=B),n.addParent&&(s[n.declarationKey][n.parentKey]=s)}else{if(n.ignoreInstruction)return;n.trim&&(w.body=w.body.trim());var E={};n.instructionHasAttributes&&Object.keys(B).length?(E[w.name]={},E[w.name][n.attributesKey]=B):E[w.name]=w.body,o("instruction",E)}}function l(w,B){var C;if(typeof w=="object"&&(B=w.attributes,w=w.name),B=A(B),"elementNameFn"in n&&(w=n.elementNameFn(w,s)),n.compact){if(C={},!n.ignoreAttributes&&B&&Object.keys(B).length){C[n.attributesKey]={};var x;for(x in B)B.hasOwnProperty(x)&&(C[n.attributesKey][x]=B[x])}!(w in s)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(w)!==-1:n.alwaysArray)&&(s[w]=[]),s[w]&&!r(s[w])&&(s[w]=[s[w]]),r(s[w])?s[w].push(C):s[w]=C}else s[n.elementsKey]||(s[n.elementsKey]=[]),C={},C[n.typeKey]="element",C[n.nameKey]=w,!n.ignoreAttributes&&B&&Object.keys(B).length&&(C[n.attributesKey]=B),n.alwaysChildren&&(C[n.elementsKey]=[]),s[n.elementsKey].push(C);C[n.parentKey]=s,s=C}function c(w){n.ignoreText||!w.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(w=w.trim()),n.nativeType&&(w=a(w)),n.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",w))}function f(w){n.ignoreComment||(n.trim&&(w=w.trim()),o("comment",w))}function m(w){var B=s[n.parentKey];n.addParent||delete s[n.parentKey],s=B}function g(w){n.ignoreCdata||(n.trim&&(w=w.trim()),o("cdata",w))}function b(w){n.ignoreDoctype||(w=w.replace(/^ /,""),n.trim&&(w=w.trim()),o("doctype",w))}function v(w){w.note=w}return Vh=function(w,B){var C=t.parser(!0,{}),x={};if(s=x,n=i(B),C.opt={strictEntities:!0},C.onopentag=l,C.ontext=c,C.oncomment=f,C.onclosetag=m,C.onerror=v,C.oncdata=g,C.ondoctype=b,C.onprocessinginstruction=u,C.write(w).close(),x[n.elementsKey]){var E=x[n.elementsKey];delete x[n.elementsKey],x[n.elementsKey]=E,delete x.text}return x},Vh}var Gh,w4;function eQ(){if(w4)return Gh;w4=1;var t=Tg(),e=Qv();function r(n){var s=t.copyOptions(n);return t.ensureSpacesExists(s),s}return Gh=function(n,s){var i,a,o,A;return i=r(s),a=e(n,i),A="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?o=JSON.stringify(a,function(u,l){return u===A?"_":l},i.spaces):o=JSON.stringify(a,null,i.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Gh}var Wh,y4;function Rv(){if(y4)return Wh;y4=1;var t=Tg(),e=Sg().isArray,r,n;function s(C){var x=t.copyOptions(C);return t.ensureFlagExists("ignoreDeclaration",x),t.ensureFlagExists("ignoreInstruction",x),t.ensureFlagExists("ignoreAttributes",x),t.ensureFlagExists("ignoreText",x),t.ensureFlagExists("ignoreComment",x),t.ensureFlagExists("ignoreCdata",x),t.ensureFlagExists("ignoreDoctype",x),t.ensureFlagExists("compact",x),t.ensureFlagExists("indentText",x),t.ensureFlagExists("indentCdata",x),t.ensureFlagExists("indentAttributes",x),t.ensureFlagExists("indentInstruction",x),t.ensureFlagExists("fullTagEmptyElement",x),t.ensureFlagExists("noQuotesForNativeAttributes",x),t.ensureSpacesExists(x),typeof x.spaces=="number"&&(x.spaces=Array(x.spaces+1).join(" ")),t.ensureKeyExists("declaration",x),t.ensureKeyExists("instruction",x),t.ensureKeyExists("attributes",x),t.ensureKeyExists("text",x),t.ensureKeyExists("comment",x),t.ensureKeyExists("cdata",x),t.ensureKeyExists("doctype",x),t.ensureKeyExists("type",x),t.ensureKeyExists("name",x),t.ensureKeyExists("elements",x),t.checkFnExists("doctype",x),t.checkFnExists("instruction",x),t.checkFnExists("cdata",x),t.checkFnExists("comment",x),t.checkFnExists("text",x),t.checkFnExists("instructionName",x),t.checkFnExists("elementName",x),t.checkFnExists("attributeName",x),t.checkFnExists("attributeValue",x),t.checkFnExists("attributes",x),t.checkFnExists("fullTagEmptyElement",x),x}function i(C,x,E){return(!E&&C.spaces?`
`:"")+Array(x+1).join(C.spaces)}function a(C,x,E){if(x.ignoreAttributes)return"";"attributesFn"in x&&(C=x.attributesFn(C,n,r));var D,_,L,I,G=[];for(D in C)C.hasOwnProperty(D)&&C[D]!==null&&C[D]!==void 0&&(I=x.noQuotesForNativeAttributes&&typeof C[D]!="string"?"":'"',_=""+C[D],_=_.replace(/"/g,"&quot;"),L="attributeNameFn"in x?x.attributeNameFn(D,_,n,r):D,G.push(x.spaces&&x.indentAttributes?i(x,E+1,!1):" "),G.push(L+"="+I+("attributeValueFn"in x?x.attributeValueFn(_,D,n,r):_)+I));return C&&Object.keys(C).length&&x.spaces&&x.indentAttributes&&G.push(i(x,E,!1)),G.join("")}function o(C,x,E){return r=C,n="xml",x.ignoreDeclaration?"":"<?xml"+a(C[x.attributesKey],x,E)+"?>"}function A(C,x,E){if(x.ignoreInstruction)return"";var D;for(D in C)if(C.hasOwnProperty(D))break;var _="instructionNameFn"in x?x.instructionNameFn(D,C[D],n,r):D;if(typeof C[D]=="object")return r=C,n=_,"<?"+_+a(C[D][x.attributesKey],x,E)+"?>";var L=C[D]?C[D]:"";return"instructionFn"in x&&(L=x.instructionFn(L,D,n,r)),"<?"+_+(L?" "+L:"")+"?>"}function u(C,x){return x.ignoreComment?"":"<!--"+("commentFn"in x?x.commentFn(C,n,r):C)+"-->"}function l(C,x){return x.ignoreCdata?"":"<![CDATA["+("cdataFn"in x?x.cdataFn(C,n,r):C.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function c(C,x){return x.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in x?x.doctypeFn(C,n,r):C)+">"}function f(C,x){return x.ignoreText?"":(C=""+C,C=C.replace(/&amp;/g,"&"),C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in x?x.textFn(C,n,r):C)}function m(C,x){var E;if(C.elements&&C.elements.length)for(E=0;E<C.elements.length;++E)switch(C.elements[E][x.typeKey]){case"text":if(x.indentText)return!0;break;case"cdata":if(x.indentCdata)return!0;break;case"instruction":if(x.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function g(C,x,E){r=C,n=C.name;var D=[],_="elementNameFn"in x?x.elementNameFn(C.name,C):C.name;D.push("<"+_),C[x.attributesKey]&&D.push(a(C[x.attributesKey],x,E));var L=C[x.elementsKey]&&C[x.elementsKey].length||C[x.attributesKey]&&C[x.attributesKey]["xml:space"]==="preserve";return L||("fullTagEmptyElementFn"in x?L=x.fullTagEmptyElementFn(C.name,C):L=x.fullTagEmptyElement),L?(D.push(">"),C[x.elementsKey]&&C[x.elementsKey].length&&(D.push(b(C[x.elementsKey],x,E+1)),r=C,n=C.name),D.push(x.spaces&&m(C,x)?`
`+Array(E+1).join(x.spaces):""),D.push("</"+_+">")):D.push("/>"),D.join("")}function b(C,x,E,D){return C.reduce(function(_,L){var I=i(x,E,D&&!_);switch(L.type){case"element":return _+I+g(L,x,E);case"comment":return _+I+u(L[x.commentKey],x);case"doctype":return _+I+c(L[x.doctypeKey],x);case"cdata":return _+(x.indentCdata?I:"")+l(L[x.cdataKey],x);case"text":return _+(x.indentText?I:"")+f(L[x.textKey],x);case"instruction":var G={};return G[L[x.nameKey]]=L[x.attributesKey]?L:L[x.instructionKey],_+(x.indentInstruction?I:"")+A(G,x,E)}},"")}function v(C,x,E){var D;for(D in C)if(C.hasOwnProperty(D))switch(D){case x.parentKey:case x.attributesKey:break;case x.textKey:if(x.indentText||E)return!0;break;case x.cdataKey:if(x.indentCdata||E)return!0;break;case x.instructionKey:if(x.indentInstruction||E)return!0;break;case x.doctypeKey:case x.commentKey:return!0;default:return!0}return!1}function w(C,x,E,D,_){r=C,n=x;var L="elementNameFn"in E?E.elementNameFn(x,C):x;if(typeof C>"u"||C===null||C==="")return"fullTagEmptyElementFn"in E&&E.fullTagEmptyElementFn(x,C)||E.fullTagEmptyElement?"<"+L+"></"+L+">":"<"+L+"/>";var I=[];if(x){if(I.push("<"+L),typeof C!="object")return I.push(">"+f(C,E)+"</"+L+">"),I.join("");C[E.attributesKey]&&I.push(a(C[E.attributesKey],E,D));var G=v(C,E,!0)||C[E.attributesKey]&&C[E.attributesKey]["xml:space"]==="preserve";if(G||("fullTagEmptyElementFn"in E?G=E.fullTagEmptyElementFn(x,C):G=E.fullTagEmptyElement),G)I.push(">");else return I.push("/>"),I.join("")}return I.push(B(C,E,D+1,!1)),r=C,n=x,x&&I.push((_?i(E,D,!1):"")+"</"+L+">"),I.join("")}function B(C,x,E,D){var _,L,I,G=[];for(L in C)if(C.hasOwnProperty(L))for(I=e(C[L])?C[L]:[C[L]],_=0;_<I.length;++_){switch(L){case x.declarationKey:G.push(o(I[_],x,E));break;case x.instructionKey:G.push((x.indentInstruction?i(x,E,D):"")+A(I[_],x,E));break;case x.attributesKey:case x.parentKey:break;case x.textKey:G.push((x.indentText?i(x,E,D):"")+f(I[_],x));break;case x.cdataKey:G.push((x.indentCdata?i(x,E,D):"")+l(I[_],x));break;case x.doctypeKey:G.push(i(x,E,D)+c(I[_],x));break;case x.commentKey:G.push(i(x,E,D)+u(I[_],x));break;default:G.push(i(x,E,D)+w(I[_],L,x,E,v(I[_],x)))}D=D&&!G.length}return G.join("")}return Wh=function(C,x){x=s(x);var E=[];return r=C,n="_root_",x.compact?E.push(B(C,x,0,!0)):(C[x.declarationKey]&&E.push(o(C[x.declarationKey],x,0)),C[x.elementsKey]&&C[x.elementsKey].length&&E.push(b(C[x.elementsKey],x,0,!E.length))),E.join("")},Wh}var $h,x4;function tQ(){if(x4)return $h;x4=1;var t=Rv();return $h=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},$h}var Xh,v4;function rQ(){if(v4)return Xh;v4=1;var t=Qv(),e=eQ(),r=Rv(),n=tQ();return Xh={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Xh}var Ov=rQ();const Fg=t=>{switch(t.type){case void 0:case"element":const e=new sQ(t.name,t.attributes),r=t.elements||[];for(const n of r){const s=Fg(n);s!==void 0&&e.push(s)}return e;case"text":return t.text;default:return}};class nQ extends at{}class sQ extends Ne{static fromXmlString(e){const r=Ov.xml2js(e,{compact:!1});return Fg(r)}constructor(e,r){super(e),r&&this.root.push(new nQ(r))}push(e){this.root.push(e)}}class iQ extends Ne{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Nv extends Ne{constructor(e,r){super(e),r&&(this.root=r.root)}}const An=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Zc=t=>{const e=An(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},Lv=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},B4=t=>Lv(t,1),Hv=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},Pv=t=>{const e=Hv(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},fo=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return Lv(e,3)},la=t=>typeof t=="string"?Hv(t):An(t),aQ=t=>typeof t=="string"?Pv(t):Zc(t),Vn=t=>typeof t=="string"?Pv(t):Zc(t),oQ=Zc,AQ=Zc,uQ=t=>t.toISOString();class Le extends Ne{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new fr({val:r}))}}class Yh extends Ne{constructor(e,r){super(e),this.root.push(new fr({val:aQ(r)}))}}class io extends Ne{constructor(e,r){super(e),this.root.push(new fr({val:r}))}}const Wo=(t,e)=>new xs({name:t,attributes:{value:{key:"w:val",value:e}}});class SA extends Ne{constructor(e,r){super(e),this.root.push(new fr({val:r}))}}class Wi extends Ne{constructor(e,r){super(e),this.root.push(r)}}class xs extends Ne{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Xc(r)),n&&this.root.push(...n)}}const Bn={START:"start",CENTER:"center",LEFT:"left"};class lQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class cQ extends Ne{constructor(e){super("w:jc"),this.root.push(new lQ({val:e}))}}class nr extends Ne{constructor(e,{color:r,size:n,space:s,style:i}){super(e),this.root.push(new dQ({style:i,color:r===void 0?void 0:fo(r),size:n===void 0?void 0:oQ(n),space:s===void 0?void 0:AQ(s)}))}}class dQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const au={SINGLE:"single",NONE:"none"};class hQ extends $c{constructor(e){super("w:pBdr"),e.top&&this.root.push(new nr("w:top",e.top)),e.bottom&&this.root.push(new nr("w:bottom",e.bottom)),e.left&&this.root.push(new nr("w:left",e.left)),e.right&&this.root.push(new nr("w:right",e.right))}}class fQ extends Ne{constructor(){super("w:pBdr");const e=new nr("w:bottom",{color:"auto",space:1,style:au.SINGLE,size:6});this.root.push(e)}}class pQ extends Ne{constructor({start:e,end:r,left:n,right:s,hanging:i,firstLine:a}){super("w:ind"),this.root.push(new Xc({start:{key:"w:start",value:e===void 0?void 0:la(e)},end:{key:"w:end",value:r===void 0?void 0:la(r)},left:{key:"w:left",value:n===void 0?void 0:la(n)},right:{key:"w:right",value:s===void 0?void 0:la(s)},hanging:{key:"w:hanging",value:i===void 0?void 0:Vn(i)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:Vn(a)}}))}}let gQ=class extends Ne{constructor(){super("w:br")}};const Dg={BEGIN:"begin",END:"end",SEPARATE:"separate"};class kg extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class gl extends Ne{constructor(e){super("w:fldChar"),this.root.push(new kg({type:Dg.BEGIN,dirty:e}))}}class ml extends Ne{constructor(e){super("w:fldChar"),this.root.push(new kg({type:Dg.SEPARATE,dirty:e}))}}class bl extends Ne{constructor(e){super("w:fldChar"),this.root.push(new kg({type:Dg.END,dirty:e}))}}const po={DEFAULT:"default",PRESERVE:"preserve"};class go extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{space:"xml:space"})}}class mQ extends Ne{constructor(){super("w:instrText"),this.root.push(new go({space:po.PRESERVE})),this.root.push("PAGE")}}class bQ extends Ne{constructor(){super("w:instrText"),this.root.push(new go({space:po.PRESERVE})),this.root.push("NUMPAGES")}}class wQ extends Ne{constructor(){super("w:instrText"),this.root.push(new go({space:po.PRESERVE})),this.root.push("SECTIONPAGES")}}class yQ extends Ne{constructor(){super("w:instrText"),this.root.push(new go({space:po.PRESERVE})),this.root.push("SECTION")}}class xQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class jv extends Ne{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new xQ({fill:e===void 0?void 0:fo(e),color:r===void 0?void 0:fo(r),type:n}))}}const vQ={SOLID:"solid"};class BQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const CQ={DOT:"dot"};class EQ extends Ne{constructor(e){super("w:em"),this.root.push(new fr({val:e}))}}class SQ extends EQ{constructor(e=CQ.DOT){super(e)}}class TQ extends Ne{constructor(e){super("w:spacing"),this.root.push(new fr({val:la(e)}))}}let FQ=class extends Ne{constructor(e){super("w:color"),this.root.push(new fr({val:fo(e)}))}};class DQ extends Ne{constructor(e){super("w:highlight"),this.root.push(new fr({val:e}))}}class kQ extends Ne{constructor(e){super("w:highlightCs"),this.root.push(new fr({val:e}))}}const IQ=t=>new xs({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class C4 extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Jh extends Ne{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new C4({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new C4(n))}}}let zv=class extends Ne{constructor(e){super("w:vertAlign"),this.root.push(new fr({val:e}))}};class _Q extends zv{constructor(){super("superscript")}}class UQ extends zv{constructor(){super("subscript")}}const Kv={SINGLE:"single"};class MQ extends Ne{constructor(e=Kv.SINGLE,r){super("w:u"),this.root.push(new fr({val:e,color:r===void 0?void 0:fo(r)}))}}class Ca extends $c{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Le("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Le("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Le("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Le("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Le("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.underline&&this.push(new MQ(e.underline.type,e.underline.color)),e.effect&&this.push(new io("w:effect",e.effect)),e.emphasisMark&&this.push(new SQ(e.emphasisMark.type)),e.color&&this.push(new FQ(e.color)),e.kern&&this.push(new Yh("w:kern",e.kern)),e.position&&this.push(new io("w:position",e.position)),e.size!==void 0&&this.push(new Yh("w:sz",e.size));const s=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;s&&this.push(new Yh("w:szCs",s)),e.rightToLeft!==void 0&&this.push(new Le("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Le("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Le("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Le("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Le("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new UQ),e.superScript&&this.push(new _Q),e.style&&this.push(new io("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Jh(e.font)):"name"in e.font?this.push(new Jh(e.font.name,e.font.hint)):this.push(new Jh(e.font))),e.highlight&&this.push(new DQ(e.highlight));const i=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;i&&this.push(new kQ(i)),e.characterSpacing&&this.push(new TQ(e.characterSpacing)),e.emboss!==void 0&&this.push(new Le("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Le("w:imprint",e.imprint)),e.shading&&this.push(new jv(e.shading)),e.revision&&this.push(new QQ(e.revision)),e.border&&this.push(new nr("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Le("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Le("w:vanish",e.vanish)),e.specVanish&&this.push(new Le("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new SA("w:w",e.scale)),e.language&&this.push(IQ(e.language)),e.math&&this.push(new Le("w:oMath",e.math))}push(e){this.root.push(e)}}class QQ extends Ne{constructor(e){super("w:rPrChange"),this.root.push(new BQ({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ca(e))}}class E4 extends Ne{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new go({space:po.PRESERVE})),this.root.push(e)):(this.root.push(new go({space:(r=e.space)!=null?r:po.DEFAULT})),this.root.push(e.text))}}const wl={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class e0 extends Ne{constructor(e){if(super("w:r"),Qe(this,"properties"),this.properties=new Ca(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new gQ);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case wl.CURRENT:this.root.push(new gl),this.root.push(new mQ),this.root.push(new ml),this.root.push(new bl);break;case wl.TOTAL_PAGES:this.root.push(new gl),this.root.push(new bQ),this.root.push(new ml),this.root.push(new bl);break;case wl.TOTAL_PAGES_IN_SECTION:this.root.push(new gl),this.root.push(new wQ),this.root.push(new ml),this.root.push(new bl);break;case wl.CURRENT_SECTION:this.root.push(new gl),this.root.push(new yQ),this.root.push(new ml),this.root.push(new bl);break;default:this.root.push(new E4(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new E4(e.text))}}class Dr extends e0{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Zh={},Ot={},ef,S4;function ou(){if(S4)return ef;S4=1,ef=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,s){if(r!=n)throw new Error(s||"Assertion failed: "+r+" != "+n)},ef}var T4;function Ss(){if(T4)return Ot;T4=1;var t=ou(),e=Ri();Ot.inherits=e;function r(Q,j){return(Q.charCodeAt(j)&64512)!==55296||j<0||j+1>=Q.length?!1:(Q.charCodeAt(j+1)&64512)===56320}function n(Q,j){if(Array.isArray(Q))return Q.slice();if(!Q)return[];var T=[];if(typeof Q=="string")if(j){if(j==="hex")for(Q=Q.replace(/[^a-z0-9]+/ig,""),Q.length%2!==0&&(Q="0"+Q),J=0;J<Q.length;J+=2)T.push(parseInt(Q[J]+Q[J+1],16))}else for(var V=0,J=0;J<Q.length;J++){var Y=Q.charCodeAt(J);Y<128?T[V++]=Y:Y<2048?(T[V++]=Y>>6|192,T[V++]=Y&63|128):r(Q,J)?(Y=65536+((Y&1023)<<10)+(Q.charCodeAt(++J)&1023),T[V++]=Y>>18|240,T[V++]=Y>>12&63|128,T[V++]=Y>>6&63|128,T[V++]=Y&63|128):(T[V++]=Y>>12|224,T[V++]=Y>>6&63|128,T[V++]=Y&63|128)}else for(J=0;J<Q.length;J++)T[J]=Q[J]|0;return T}Ot.toArray=n;function s(Q){for(var j="",T=0;T<Q.length;T++)j+=o(Q[T].toString(16));return j}Ot.toHex=s;function i(Q){var j=Q>>>24|Q>>>8&65280|Q<<8&16711680|(Q&255)<<24;return j>>>0}Ot.htonl=i;function a(Q,j){for(var T="",V=0;V<Q.length;V++){var J=Q[V];j==="little"&&(J=i(J)),T+=A(J.toString(16))}return T}Ot.toHex32=a;function o(Q){return Q.length===1?"0"+Q:Q}Ot.zero2=o;function A(Q){return Q.length===7?"0"+Q:Q.length===6?"00"+Q:Q.length===5?"000"+Q:Q.length===4?"0000"+Q:Q.length===3?"00000"+Q:Q.length===2?"000000"+Q:Q.length===1?"0000000"+Q:Q}Ot.zero8=A;function u(Q,j,T,V){var J=T-j;t(J%4===0);for(var Y=new Array(J/4),oe=0,re=j;oe<Y.length;oe++,re+=4){var pe;V==="big"?pe=Q[re]<<24|Q[re+1]<<16|Q[re+2]<<8|Q[re+3]:pe=Q[re+3]<<24|Q[re+2]<<16|Q[re+1]<<8|Q[re],Y[oe]=pe>>>0}return Y}Ot.join32=u;function l(Q,j){for(var T=new Array(Q.length*4),V=0,J=0;V<Q.length;V++,J+=4){var Y=Q[V];j==="big"?(T[J]=Y>>>24,T[J+1]=Y>>>16&255,T[J+2]=Y>>>8&255,T[J+3]=Y&255):(T[J+3]=Y>>>24,T[J+2]=Y>>>16&255,T[J+1]=Y>>>8&255,T[J]=Y&255)}return T}Ot.split32=l;function c(Q,j){return Q>>>j|Q<<32-j}Ot.rotr32=c;function f(Q,j){return Q<<j|Q>>>32-j}Ot.rotl32=f;function m(Q,j){return Q+j>>>0}Ot.sum32=m;function g(Q,j,T){return Q+j+T>>>0}Ot.sum32_3=g;function b(Q,j,T,V){return Q+j+T+V>>>0}Ot.sum32_4=b;function v(Q,j,T,V,J){return Q+j+T+V+J>>>0}Ot.sum32_5=v;function w(Q,j,T,V){var J=Q[j],Y=Q[j+1],oe=V+Y>>>0,re=(oe<V?1:0)+T+J;Q[j]=re>>>0,Q[j+1]=oe}Ot.sum64=w;function B(Q,j,T,V){var J=j+V>>>0,Y=(J<j?1:0)+Q+T;return Y>>>0}Ot.sum64_hi=B;function C(Q,j,T,V){var J=j+V;return J>>>0}Ot.sum64_lo=C;function x(Q,j,T,V,J,Y,oe,re){var pe=0,te=j;te=te+V>>>0,pe+=te<j?1:0,te=te+Y>>>0,pe+=te<Y?1:0,te=te+re>>>0,pe+=te<re?1:0;var $=Q+T+J+oe+pe;return $>>>0}Ot.sum64_4_hi=x;function E(Q,j,T,V,J,Y,oe,re){var pe=j+V+Y+re;return pe>>>0}Ot.sum64_4_lo=E;function D(Q,j,T,V,J,Y,oe,re,pe,te){var $=0,he=j;he=he+V>>>0,$+=he<j?1:0,he=he+Y>>>0,$+=he<Y?1:0,he=he+re>>>0,$+=he<re?1:0,he=he+te>>>0,$+=he<te?1:0;var me=Q+T+J+oe+pe+$;return me>>>0}Ot.sum64_5_hi=D;function _(Q,j,T,V,J,Y,oe,re,pe,te){var $=j+V+Y+re+te;return $>>>0}Ot.sum64_5_lo=_;function L(Q,j,T){var V=j<<32-T|Q>>>T;return V>>>0}Ot.rotr64_hi=L;function I(Q,j,T){var V=Q<<32-T|j>>>T;return V>>>0}Ot.rotr64_lo=I;function G(Q,j,T){return Q>>>T}Ot.shr64_hi=G;function W(Q,j,T){var V=Q<<32-T|j>>>T;return V>>>0}return Ot.shr64_lo=W,Ot}var tf={},F4;function Au(){if(F4)return tf;F4=1;var t=Ss(),e=ou();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return tf.BlockHash=r,r.prototype.update=function(s,i){if(s=t.toArray(s,i),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var a=s.length%this._delta8;this.pending=s.slice(s.length-a,s.length),this.pending.length===0&&(this.pending=null),s=t.join32(s,0,s.length-a,this.endian);for(var o=0;o<s.length;o+=this._delta32)this._update(s,o,o+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,i=this._delta8,a=i-(s+this.padLength)%i,o=new Array(a+this.padLength);o[0]=128;for(var A=1;A<a;A++)o[A]=0;if(s<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[A++]=0;o[A++]=0,o[A++]=0,o[A++]=0,o[A++]=0,o[A++]=s>>>24&255,o[A++]=s>>>16&255,o[A++]=s>>>8&255,o[A++]=s&255}else for(o[A++]=s&255,o[A++]=s>>>8&255,o[A++]=s>>>16&255,o[A++]=s>>>24&255,o[A++]=0,o[A++]=0,o[A++]=0,o[A++]=0,u=8;u<this.padLength;u++)o[A++]=0;return o},tf}var $i={},as={},D4;function qv(){if(D4)return as;D4=1;var t=Ss(),e=t.rotr32;function r(l,c,f,m){if(l===0)return n(c,f,m);if(l===1||l===3)return i(c,f,m);if(l===2)return s(c,f,m)}as.ft_1=r;function n(l,c,f){return l&c^~l&f}as.ch32=n;function s(l,c,f){return l&c^l&f^c&f}as.maj32=s;function i(l,c,f){return l^c^f}as.p32=i;function a(l){return e(l,2)^e(l,13)^e(l,22)}as.s0_256=a;function o(l){return e(l,6)^e(l,11)^e(l,25)}as.s1_256=o;function A(l){return e(l,7)^e(l,18)^l>>>3}as.g0_256=A;function u(l){return e(l,17)^e(l,19)^l>>>10}return as.g1_256=u,as}var rf,k4;function RQ(){if(k4)return rf;k4=1;var t=Ss(),e=Au(),r=qv(),n=t.rotl32,s=t.sum32,i=t.sum32_5,a=r.ft_1,o=e.BlockHash,A=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),rf=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(c,f){for(var m=this.W,g=0;g<16;g++)m[g]=c[f+g];for(;g<m.length;g++)m[g]=n(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var b=this.h[0],v=this.h[1],w=this.h[2],B=this.h[3],C=this.h[4];for(g=0;g<m.length;g++){var x=~~(g/20),E=i(n(b,5),a(x,v,w,B),C,m[g],A[x]);C=B,B=w,w=n(v,30),v=b,b=E}this.h[0]=s(this.h[0],b),this.h[1]=s(this.h[1],v),this.h[2]=s(this.h[2],w),this.h[3]=s(this.h[3],B),this.h[4]=s(this.h[4],C)},u.prototype._digest=function(c){return c==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},rf}var nf,I4;function Vv(){if(I4)return nf;I4=1;var t=Ss(),e=Au(),r=qv(),n=ou(),s=t.sum32,i=t.sum32_4,a=t.sum32_5,o=r.ch32,A=r.maj32,u=r.s0_256,l=r.s1_256,c=r.g0_256,f=r.g1_256,m=e.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}return t.inherits(b,m),nf=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(w,B){for(var C=this.W,x=0;x<16;x++)C[x]=w[B+x];for(;x<C.length;x++)C[x]=i(f(C[x-2]),C[x-7],c(C[x-15]),C[x-16]);var E=this.h[0],D=this.h[1],_=this.h[2],L=this.h[3],I=this.h[4],G=this.h[5],W=this.h[6],Q=this.h[7];for(n(this.k.length===C.length),x=0;x<C.length;x++){var j=a(Q,l(I),o(I,G,W),this.k[x],C[x]),T=s(u(E),A(E,D,_));Q=W,W=G,G=I,I=s(L,j),L=_,_=D,D=E,E=s(j,T)}this.h[0]=s(this.h[0],E),this.h[1]=s(this.h[1],D),this.h[2]=s(this.h[2],_),this.h[3]=s(this.h[3],L),this.h[4]=s(this.h[4],I),this.h[5]=s(this.h[5],G),this.h[6]=s(this.h[6],W),this.h[7]=s(this.h[7],Q)},b.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},nf}var sf,_4;function OQ(){if(_4)return sf;_4=1;var t=Ss(),e=Vv();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),sf=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},sf}var af,U4;function Gv(){if(U4)return af;U4=1;var t=Ss(),e=Au(),r=ou(),n=t.rotr64_hi,s=t.rotr64_lo,i=t.shr64_hi,a=t.shr64_lo,o=t.sum64,A=t.sum64_hi,u=t.sum64_lo,l=t.sum64_4_hi,c=t.sum64_4_lo,f=t.sum64_5_hi,m=t.sum64_5_lo,g=e.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}t.inherits(v,g),af=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(T,V){for(var J=this.W,Y=0;Y<32;Y++)J[Y]=T[V+Y];for(;Y<J.length;Y+=2){var oe=W(J[Y-4],J[Y-3]),re=Q(J[Y-4],J[Y-3]),pe=J[Y-14],te=J[Y-13],$=I(J[Y-30],J[Y-29]),he=G(J[Y-30],J[Y-29]),me=J[Y-32],ye=J[Y-31];J[Y]=l(oe,re,pe,te,$,he,me,ye),J[Y+1]=c(oe,re,pe,te,$,he,me,ye)}},v.prototype._update=function(T,V){this._prepareBlock(T,V);var J=this.W,Y=this.h[0],oe=this.h[1],re=this.h[2],pe=this.h[3],te=this.h[4],$=this.h[5],he=this.h[6],me=this.h[7],ye=this.h[8],ce=this.h[9],H=this.h[10],P=this.h[11],ge=this.h[12],ie=this.h[13],Z=this.h[14],se=this.h[15];r(this.k.length===J.length);for(var Ce=0;Ce<J.length;Ce+=2){var O=Z,ue=se,N=_(ye,ce),F=L(ye,ce),k=w(ye,ce,H,P,ge),R=B(ye,ce,H,P,ge,ie),Ae=this.k[Ce],be=this.k[Ce+1],le=J[Ce],Te=J[Ce+1],_e=f(O,ue,N,F,k,R,Ae,be,le,Te),ve=m(O,ue,N,F,k,R,Ae,be,le,Te);O=E(Y,oe),ue=D(Y,oe),N=C(Y,oe,re,pe,te),F=x(Y,oe,re,pe,te,$);var Me=A(O,ue,N,F),je=u(O,ue,N,F);Z=ge,se=ie,ge=H,ie=P,H=ye,P=ce,ye=A(he,me,_e,ve),ce=u(me,me,_e,ve),he=te,me=$,te=re,$=pe,re=Y,pe=oe,Y=A(_e,ve,Me,je),oe=u(_e,ve,Me,je)}o(this.h,0,Y,oe),o(this.h,2,re,pe),o(this.h,4,te,$),o(this.h,6,he,me),o(this.h,8,ye,ce),o(this.h,10,H,P),o(this.h,12,ge,ie),o(this.h,14,Z,se)},v.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(j,T,V,J,Y){var oe=j&V^~j&Y;return oe<0&&(oe+=4294967296),oe}function B(j,T,V,J,Y,oe){var re=T&J^~T&oe;return re<0&&(re+=4294967296),re}function C(j,T,V,J,Y){var oe=j&V^j&Y^V&Y;return oe<0&&(oe+=4294967296),oe}function x(j,T,V,J,Y,oe){var re=T&J^T&oe^J&oe;return re<0&&(re+=4294967296),re}function E(j,T){var V=n(j,T,28),J=n(T,j,2),Y=n(T,j,7),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function D(j,T){var V=s(j,T,28),J=s(T,j,2),Y=s(T,j,7),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function _(j,T){var V=n(j,T,14),J=n(j,T,18),Y=n(T,j,9),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function L(j,T){var V=s(j,T,14),J=s(j,T,18),Y=s(T,j,9),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function I(j,T){var V=n(j,T,1),J=n(j,T,8),Y=i(j,T,7),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function G(j,T){var V=s(j,T,1),J=s(j,T,8),Y=a(j,T,7),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function W(j,T){var V=n(j,T,19),J=n(T,j,29),Y=i(j,T,6),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}function Q(j,T){var V=s(j,T,19),J=s(T,j,29),Y=a(j,T,6),oe=V^J^Y;return oe<0&&(oe+=4294967296),oe}return af}var of,M4;function NQ(){if(M4)return of;M4=1;var t=Ss(),e=Gv();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),of=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},of}var Q4;function LQ(){return Q4||(Q4=1,$i.sha1=RQ(),$i.sha224=OQ(),$i.sha256=Vv(),$i.sha384=NQ(),$i.sha512=Gv()),$i}var Af={},R4;function HQ(){if(R4)return Af;R4=1;var t=Ss(),e=Au(),r=t.rotl32,n=t.sum32,s=t.sum32_3,i=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),Af.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(v,w){for(var B=this.h[0],C=this.h[1],x=this.h[2],E=this.h[3],D=this.h[4],_=B,L=C,I=x,G=E,W=D,Q=0;Q<80;Q++){var j=n(r(i(B,A(Q,C,x,E),v[c[Q]+w],u(Q)),m[Q]),D);B=D,D=E,E=r(x,10),x=C,C=j,j=n(r(i(_,A(79-Q,L,I,G),v[f[Q]+w],l(Q)),g[Q]),W),_=W,W=G,G=r(I,10),I=L,L=j}j=s(this.h[1],x,G),this.h[1]=s(this.h[2],E,W),this.h[2]=s(this.h[3],D,_),this.h[3]=s(this.h[4],B,L),this.h[4]=s(this.h[0],C,I),this.h[0]=j},o.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function A(b,v,w,B){return b<=15?v^w^B:b<=31?v&w|~v&B:b<=47?(v|~w)^B:b<=63?v&B|w&~B:v^(w|~B)}function u(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function l(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Af}var uf,O4;function PQ(){if(O4)return uf;O4=1;var t=Ss(),e=ou();function r(n,s,i){if(!(this instanceof r))return new r(n,s,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,i))}return uf=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var i=s.length;i<this.blockSize;i++)s.push(0);for(i=0;i<s.length;i++)s[i]^=54;for(this.inner=new this.Hash().update(s),i=0;i<s.length;i++)s[i]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,i){return this.inner.update(s,i),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},uf}var N4;function jQ(){return N4||(N4=1,function(t){var e=t;e.utils=Ss(),e.common=Au(),e.sha=LQ(),e.ripemd=HQ(),e.hmac=PQ(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Zh)),Zh}jQ();let zQ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",KQ=(t,e=21)=>(r=e)=>{let n="",s=r|0;for(;s--;)n+=t[Math.random()*t.length|0];return n},qQ=(t=21)=>{let e="",r=t|0;for(;r--;)e+=zQ[Math.random()*64|0];return e};const zn=t=>Math.floor(t*72*20),Ig=(t=0)=>{let e=t;return()=>++e},VQ=()=>Ig(),GQ=()=>Ig(1),WQ=()=>Ig(),$Q=()=>qQ().toLowerCase(),$o=t=>KQ("1234567890abcdef",t)(),XQ=()=>`${$o(8)}-${$o(4)}-${$o(4)}-${$o(4)}-${$o(12)}`;class YQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns"})}}class JQ extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const ZQ={EXTERNAL:"External"};class eR extends Ne{constructor(e,r,n,s){super("Relationship"),this.root.push(new JQ({id:e,type:r,target:n,targetMode:s}))}}class Ea extends Ne{constructor(){super("Relationships"),this.root.push(new YQ({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,s){const i=new eR(`rId${e}`,r,n,s);return this.root.push(i),i}get RelationshipCount(){return this.root.length-1}}class tR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class rR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class nR extends Ne{constructor({id:e,initials:r,author:n,date:s=new Date,children:i}){super("w:comment"),this.root.push(new tR({id:e,initials:r,author:n,date:s.toISOString()}));for(const a of i)this.root.push(a)}}class sR extends Ne{constructor({children:e}){super("w:comments"),Qe(this,"relationships"),this.root.push(new rR({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new nR(r));this.relationships=new Ea}get Relationships(){return this.relationships}}class iR extends Ne{constructor(){super("w:pageBreakBefore")}}const xp={AUTO:"auto"};class aR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class oR extends Ne{constructor(e){super("w:spacing"),this.root.push(new aR(e))}}const AR={HEADING_1:"Heading1"};let yl=class extends Ne{constructor(e){super("w:pStyle"),this.root.push(new fr({val:e}))}};class uR extends Ne{constructor(e){super("w:tabs");for(const r of e)this.root.push(new cR(r))}}const L4={LEFT:"left",RIGHT:"right"};class lR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class cR extends Ne{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new lR({val:e,pos:r,leader:n}))}}class lf extends Ne{constructor(e,r){super("w:numPr"),this.root.push(new dR(r)),this.root.push(new hR(e))}}class dR extends Ne{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new fr({val:e}))}}class hR extends Ne{constructor(e){super("w:numId"),this.root.push(new fr({val:typeof e=="string"?`{${e}}`:e}))}}class fR extends Ne{constructor(){super(...arguments),Qe(this,"fileChild",Symbol())}}class pR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class gR extends Ne{constructor(e,r,n){super("w:hyperlink"),Qe(this,"linkId"),this.linkId=r;const s={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},i=new pR(s);this.root.push(i),e.forEach(a=>{this.root.push(a)})}}class mR extends Ne{constructor(e){super("w:externalHyperlink"),this.options=e}}class bR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class wR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id"})}}class yR{constructor(e){Qe(this,"bookmarkUniqueNumericId",WQ()),Qe(this,"start"),Qe(this,"children"),Qe(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new xR(e.id,r),this.children=e.children,this.end=new vR(r)}}class xR extends Ne{constructor(e,r){super("w:bookmarkStart");const n=new bR({name:e,id:r});this.root.push(n)}}class vR extends Ne{constructor(e){super("w:bookmarkEnd");const r=new wR({id:e});this.root.push(r)}}class BR extends Ne{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new fr({val:e}))}}const CR={TOP:"top",CENTER:"center",BOTTOM:"bottom"};co(yt({},CR),{BOTH:"both"});class ER extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{verticalAlign:"w:val"})}}class SR extends Ne{constructor(e){super("w:vAlign"),this.root.push(new ER({verticalAlign:e}))}}class TR extends Ne{constructor({space:e,count:r,separate:n,equalWidth:s,children:i}){super("w:cols"),this.root.push(new Xc({space:{key:"w:space",value:e===void 0?void 0:Vn(e)},count:{key:"w:num",value:r===void 0?void 0:An(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:s}})),!s&&i&&i.forEach(a=>this.addChildElement(a))}}const FR=({type:t,linePitch:e,charSpace:r})=>new xs({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:An(e)},charSpace:{key:"w:charSpace",value:r?An(r):void 0}}}),ao={DEFAULT:"default",FIRST:"first",EVEN:"even"};class DR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const H4={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class cf extends Ne{constructor(e,r){super(e),this.root.push(new DR({type:r.type||ao.DEFAULT,id:`rId${r.id}`}))}}const kR=({countBy:t,start:e,restart:r,distance:n})=>new xs({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:An(t)},start:{key:"w:start",value:e===void 0?void 0:An(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:Vn(n)}}});class P4 extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class IR extends $c{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new P4({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new P4({})),e.pageBorderTop&&this.root.push(new nr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new nr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new nr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new nr("w:right",e.pageBorderRight))}}class _R extends Ne{constructor(e,r,n,s,i,a,o){super("w:pgMar"),this.root.push(new Xc({top:{key:"w:top",value:la(e)},right:{key:"w:right",value:Vn(r)},bottom:{key:"w:bottom",value:la(n)},left:{key:"w:left",value:Vn(s)},header:{key:"w:header",value:Vn(i)},footer:{key:"w:footer",value:Vn(a)},gutter:{key:"w:gutter",value:Vn(o)}}))}}class UR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class MR extends Ne{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new UR({start:e===void 0?void 0:An(e),formatType:r,separator:n}))}}const vp={PORTRAIT:"portrait",LANDSCAPE:"landscape"},QR=({width:t,height:e,orientation:r,code:n})=>{const s=Vn(t),i=Vn(e);return new xs({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===vp.LANDSCAPE?i:s},height:{key:"w:h",value:r===vp.LANDSCAPE?s:i},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class RR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class OR extends Ne{constructor(e){super("w:textDirection"),this.root.push(new RR({val:e}))}}class NR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class LR extends Ne{constructor(e){super("w:type"),this.root.push(new NR({val:e}))}}const Xi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},df={WIDTH:11906,HEIGHT:16838,ORIENTATION:vp.PORTRAIT};class HR extends Ne{constructor({page:{size:{width:e=df.WIDTH,height:r=df.HEIGHT,orientation:n=df.ORIENTATION}={},margin:{top:s=Xi.TOP,right:i=Xi.RIGHT,bottom:a=Xi.BOTTOM,left:o=Xi.LEFT,header:A=Xi.HEADER,footer:u=Xi.FOOTER,gutter:l=Xi.GUTTER}={},pageNumbers:c={},borders:f,textDirection:m}={},grid:{linePitch:g=360,charSpace:b,type:v}={},headerWrapperGroup:w={},footerWrapperGroup:B={},lineNumbers:C,titlePage:x,verticalAlign:E,column:D,type:_}={}){super("w:sectPr"),this.addHeaderFooterGroup(H4.HEADER,w),this.addHeaderFooterGroup(H4.FOOTER,B),_&&this.root.push(new LR(_)),this.root.push(QR({width:e,height:r,orientation:n})),this.root.push(new _R(s,i,a,o,A,u,l)),f&&this.root.push(new IR(f)),C&&this.root.push(kR(C)),this.root.push(new MR(c)),D&&this.root.push(new TR(D)),E&&this.root.push(new SR(E)),x!==void 0&&this.root.push(new Le("w:titlePg",x)),m&&this.root.push(new OR(m)),this.root.push(FR({linePitch:g,charSpace:b,type:v}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new cf(e,{type:ao.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new cf(e,{type:ao.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new cf(e,{type:ao.EVEN,id:r.even.View.ReferenceId}))}}class PR extends Ne{constructor(){super("w:body"),Qe(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new HR(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Qr({}),n=new mo({});return n.push(e),r.addChildElement(n),r}}const j4={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class t0 extends at{constructor(e,r){super(yt({Ignorable:r},Object.fromEntries(e.map(n=>[n,j4[n]])))),Qe(this,"xmlKeys",yt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(j4).map(n=>[n,`xmlns:${n}`]))))}}class jR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class zR extends Ne{constructor(e){super("w:background"),this.root.push(new jR({color:e.color===void 0?void 0:fo(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:B4(e.themeShade),themeTint:e.themeTint===void 0?void 0:B4(e.themeTint)}))}}class KR extends Ne{constructor(e){super("w:document"),Qe(this,"body"),this.root.push(new t0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new PR,e.background&&this.root.push(new zR(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class Wv{constructor(e){Qe(this,"document"),Qe(this,"relationships"),this.document=new KR(e),this.relationships=new Ea}get View(){return this.document}get Relationships(){return this.relationships}}class qR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class VR extends Ne{constructor(){super("w:wordWrap"),this.root.push(new qR({val:0}))}}const GR=t=>{var e,r;return new xs({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class mo extends $c{constructor(e){var r,n;if(super("w:pPr"),Qe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new yl(e.heading)),e.bullet&&this.push(new yl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new yl("ListParagraph"))),e.style&&this.push(new yl(e.style)),e.keepNext!==void 0&&this.push(new Le("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Le("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new iR),e.frame&&this.push(GR(e.frame)),e.widowControl!==void 0&&this.push(new Le("w:widowControl",e.widowControl)),e.bullet&&this.push(new lf(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new lf(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new lf(0,0)),e.border&&this.push(new hQ(e.border)),e.thematicBreak&&this.push(new fQ),e.shading&&this.push(new jv(e.shading)),e.wordWrap&&this.push(new VR),e.overflowPunctuation&&this.push(new Le("w:overflowPunct",e.overflowPunctuation));const s=[...e.rightTabStop!==void 0?[{type:L4.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:L4.LEFT,position:e.leftTabStop}]:[]];s.length>0&&this.push(new uR(s)),e.bidirectional!==void 0&&this.push(new Le("w:bidi",e.bidirectional)),e.spacing&&this.push(new oR(e.spacing)),e.indent&&this.push(new pQ(e.indent)),e.contextualSpacing!==void 0&&this.push(new Le("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new cQ(e.alignment)),e.outlineLevel!==void 0&&this.push(new BR(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Le("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Le("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ca(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Wv)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Qr extends fR{constructor(e){if(super("w:p"),Qe(this,"properties"),typeof e=="string")return this.properties=new mo({}),this.root.push(this.properties),this.root.push(new Dr(e)),this;if(this.properties=new mo(e),this.root.push(this.properties),e.text&&this.root.push(new Dr(e.text)),e.children)for(const r of e.children){if(r instanceof yR){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof mR){const n=this.root.indexOf(r),s=new gR(r.options.children,$Q());e.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,ZQ.EXTERNAL),this.root[n]=s}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const za={style:au.NONE,size:0,color:"auto"},Ka={style:au.SINGLE,size:4,color:"auto"};class WR extends Ne{constructor(e){super("w:tblBorders"),e.top?this.root.push(new nr("w:top",e.top)):this.root.push(new nr("w:top",Ka)),e.left?this.root.push(new nr("w:left",e.left)):this.root.push(new nr("w:left",Ka)),e.bottom?this.root.push(new nr("w:bottom",e.bottom)):this.root.push(new nr("w:bottom",Ka)),e.right?this.root.push(new nr("w:right",e.right)):this.root.push(new nr("w:right",Ka)),e.insideHorizontal?this.root.push(new nr("w:insideH",e.insideHorizontal)):this.root.push(new nr("w:insideH",Ka)),e.insideVertical?this.root.push(new nr("w:insideV",e.insideVertical)):this.root.push(new nr("w:insideV",Ka))}}Qe(WR,"NONE",{top:za,bottom:za,left:za,right:za,insideHorizontal:za,insideVertical:za});class $R extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class XR extends Ne{constructor(){super("Properties"),this.root.push(new $R({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class YR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns"})}}class JR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Hs extends Ne{constructor(e,r){super("Default"),this.root.push(new JR({contentType:e,extension:r}))}}class ZR extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class bn extends Ne{constructor(e,r){super("Override"),this.root.push(new ZR({contentType:e,partName:r}))}}class eO extends Ne{constructor(){super("Types"),this.root.push(new YR({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Hs("image/png","png")),this.root.push(new Hs("image/jpeg","jpeg")),this.root.push(new Hs("image/jpeg","jpg")),this.root.push(new Hs("image/bmp","bmp")),this.root.push(new Hs("image/gif","gif")),this.root.push(new Hs("image/svg+xml","svg")),this.root.push(new Hs("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Hs("application/xml","xml")),this.root.push(new Hs("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new bn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new bn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class tO extends Ne{constructor(e){super("cp:coreProperties"),this.root.push(new t0(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Wi("dc:title",e.title)),e.subject&&this.root.push(new Wi("dc:subject",e.subject)),e.creator&&this.root.push(new Wi("dc:creator",e.creator)),e.keywords&&this.root.push(new Wi("cp:keywords",e.keywords)),e.description&&this.root.push(new Wi("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Wi("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Wi("cp:revision",String(e.revision))),this.root.push(new z4("dcterms:created")),this.root.push(new z4("dcterms:modified"))}}class rO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"xsi:type"})}}class z4 extends Ne{constructor(e){super(e),this.root.push(new rO({type:"dcterms:W3CDTF"})),this.root.push(uQ(new Date))}}class nO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class sO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class iO extends Ne{constructor(e,r){super("property"),this.root.push(new sO({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new aO(r.value))}}class aO extends Ne{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class oO extends Ne{constructor(e){super("Properties"),Qe(this,"nextId"),Qe(this,"properties",[]),this.root.push(new nO({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new iO(this.nextId++,e))}}const xl=({id:t,fontKey:e,subsetted:r},n)=>new xs({name:n,attributes:yt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Le("w:subsetted",r)]:[]]}),AO=({name:t,altName:e,panose1:r,charset:n,family:s,notTrueType:i,pitch:a,sig:o,embedRegular:A,embedBold:u,embedItalic:l,embedBoldItalic:c})=>new xs({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Wo("w:altName",e)]:[],...r?[Wo("w:panose1",r)]:[],...n?[Wo("w:charset",n)]:[],Wo("w:family",s),...i?[new Le("w:notTrueType",i)]:[],Wo("w:pitch",a),...o?[new xs({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...A?[xl(A,"w:embedRegular")]:[],...u?[xl(u,"w:embedBold")]:[],...l?[xl(l,"w:embedItalic")]:[],...c?[xl(c,"w:embedBoldItalic")]:[]]}),uO=({name:t,index:e,fontKey:r,characterSet:n})=>AO({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),lO=t=>new xs({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>uO({name:e.name,index:r+1,fontKey:e.fontKey}))});class cO{constructor(e){Qe(this,"fontTable"),Qe(this,"relationships"),Qe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>co(yt({},r),{fontKey:XQ()})),this.fontTable=lO(this.fontOptionsWithKey),this.relationships=new Ea;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class dO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let hO=class extends Nv{constructor(e,r){super("w:ftr",r),Qe(this,"refId"),this.refId=e,r||this.root.push(new dO({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class fO{constructor(e,r,n){Qe(this,"footer"),Qe(this,"relationships"),this.media=e,this.footer=new hO(r,n),this.relationships=new Ea}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class pO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class gO extends Ne{constructor(){super("w:footnoteRef")}}class mO extends e0{constructor(){super({style:"FootnoteReference"}),this.root.push(new gO)}}const K4={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class hf extends Ne{constructor(e){super("w:footnote"),this.root.push(new pO({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new mO),this.root.push(n)}}}class bO extends Ne{constructor(){super("w:continuationSeparator")}}class wO extends e0{constructor(){super({}),this.root.push(new bO)}}class yO extends Ne{constructor(){super("w:separator")}}class xO extends e0{constructor(){super({}),this.root.push(new yO)}}class vO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class BO extends Ne{constructor(){super("w:footnotes"),this.root.push(new vO({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new hf({id:-1,type:K4.SEPERATOR,children:[new Qr({spacing:{after:0,line:240,lineRule:xp.AUTO},children:[new xO]})]});this.root.push(e);const r=new hf({id:0,type:K4.CONTINUATION_SEPERATOR,children:[new Qr({spacing:{after:0,line:240,lineRule:xp.AUTO},children:[new wO]})]});this.root.push(r)}createFootNote(e,r){const n=new hf({id:e,children:r});this.root.push(n)}}class CO{constructor(){Qe(this,"footnotess"),Qe(this,"relationships"),this.footnotess=new BO,this.relationships=new Ea}get View(){return this.footnotess}get Relationships(){return this.relationships}}class EO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let SO=class extends Nv{constructor(e,r){super("w:hdr",r),Qe(this,"refId"),this.refId=e,r||this.root.push(new EO({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class TO{constructor(e,r,n){Qe(this,"header"),Qe(this,"relationships"),this.media=e,this.header=new SO(r,n),this.relationships=new Ea}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class FO{constructor(){Qe(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Ps={BULLET:"bullet"};class DO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class kO extends Ne{constructor(e){super("w:numFmt"),this.root.push(new fr({val:e}))}}class IO extends Ne{constructor(e){super("w:lvlText"),this.root.push(new fr({val:e}))}}class _O extends Ne{constructor(e){super("w:lvlJc"),this.root.push(new fr({val:e}))}}class UO extends Ne{constructor(e){super("w:suff"),this.root.push(new fr({val:e}))}}class MO extends Ne{constructor(){super("w:isLgl")}}class QO extends Ne{constructor({level:e,format:r,text:n,alignment:s=Bn.START,start:i=1,style:a,suffix:o,isLegalNumberingStyle:A}){if(super("w:lvl"),Qe(this,"paragraphProperties"),Qe(this,"runProperties"),this.root.push(new SA("w:start",An(i))),r&&this.root.push(new kO(r)),o&&this.root.push(new UO(o)),A&&this.root.push(new MO),n&&this.root.push(new IO(n)),this.root.push(new _O(s)),this.paragraphProperties=new mo(a&&a.paragraph),this.runProperties=new Ca(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new DO({ilvl:An(e),tentative:1}))}}class RO extends QO{}class OO extends Ne{constructor(e){super("w:multiLevelType"),this.root.push(new fr({val:e}))}}class NO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class q4 extends Ne{constructor(e,r){super("w:abstractNum"),Qe(this,"id"),this.root.push(new NO({abstractNumId:An(e),restartNumberingAfterBreak:0})),this.root.push(new OO("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new RO(n))}}class LO extends Ne{constructor(e){super("w:abstractNumId"),this.root.push(new fr({val:e}))}}class HO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{numId:"w:numId"})}}class V4 extends Ne{constructor(e){if(super("w:num"),Qe(this,"numId"),Qe(this,"reference"),Qe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new HO({numId:An(e.numId)})),this.root.push(new LO(An(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new jO(r.num,r.start))}}class PO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class jO extends Ne{constructor(e,r){super("w:lvlOverride"),this.root.push(new PO({ilvl:e})),r!==void 0&&this.root.push(new KO(r))}}class zO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class KO extends Ne{constructor(e){super("w:startOverride"),this.root.push(new zO({val:e}))}}class qO extends Ne{constructor(e){super("w:numbering"),Qe(this,"abstractNumberingMap",new Map),Qe(this,"concreteNumberingMap",new Map),Qe(this,"referenceConfigMap",new Map),Qe(this,"abstractNumUniqueNumericId",VQ()),Qe(this,"concreteNumUniqueNumericId",GQ()),this.root.push(new t0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new q4(this.abstractNumUniqueNumericId(),[{level:0,format:Ps.BULLET,text:"●",alignment:Bn.LEFT,style:{paragraph:{indent:{left:zn(.5),hanging:zn(.25)}}}},{level:1,format:Ps.BULLET,text:"○",alignment:Bn.LEFT,style:{paragraph:{indent:{left:zn(1),hanging:zn(.25)}}}},{level:2,format:Ps.BULLET,text:"■",alignment:Bn.LEFT,style:{paragraph:{indent:{left:2160,hanging:zn(.25)}}}},{level:3,format:Ps.BULLET,text:"●",alignment:Bn.LEFT,style:{paragraph:{indent:{left:2880,hanging:zn(.25)}}}},{level:4,format:Ps.BULLET,text:"○",alignment:Bn.LEFT,style:{paragraph:{indent:{left:3600,hanging:zn(.25)}}}},{level:5,format:Ps.BULLET,text:"■",alignment:Bn.LEFT,style:{paragraph:{indent:{left:4320,hanging:zn(.25)}}}},{level:6,format:Ps.BULLET,text:"●",alignment:Bn.LEFT,style:{paragraph:{indent:{left:5040,hanging:zn(.25)}}}},{level:7,format:Ps.BULLET,text:"●",alignment:Bn.LEFT,style:{paragraph:{indent:{left:5760,hanging:zn(.25)}}}},{level:8,format:Ps.BULLET,text:"●",alignment:Bn.LEFT,style:{paragraph:{indent:{left:6480,hanging:zn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new V4({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new q4(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const s=`${e}-${r}`;if(this.concreteNumberingMap.has(s))return;const i=this.referenceConfigMap.get(e),a=i&&i[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new V4(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class VO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class GO extends Ne{constructor(e){super("w:compatSetting"),this.root.push(new VO({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class WO extends Ne{constructor(e){super("w:compat"),e.version&&this.root.push(new GO(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Le("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Le("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Le("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Le("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Le("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Le("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Le("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Le("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Le("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Le("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Le("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Le("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Le("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Le("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Le("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Le("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Le("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Le("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Le("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Le("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Le("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Le("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Le("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Le("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Le("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Le("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Le("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Le("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Le("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Le("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Le("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Le("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Le("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Le("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Le("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Le("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Le("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Le("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Le("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Le("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Le("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Le("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Le("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Le("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Le("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Le("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Le("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Le("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Le("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Le("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Le("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Le("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Le("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Le("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Le("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Le("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Le("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Le("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Le("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Le("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Le("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Le("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Le("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Le("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Le("w:cachedColBalance",e.cachedColumnBalance))}}class $O extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class XO extends Ne{constructor(e){var r,n,s,i,a,o,A,u;super("w:settings"),this.root.push(new $O({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Le("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Le("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Le("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Le("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new SA("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Le("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new SA("w:hyphenationZone",e.hyphenation.hyphenationZone)),((s=e.hyphenation)==null?void 0:s.consecutiveHyphenLimit)!==void 0&&this.root.push(new SA("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((i=e.hyphenation)==null?void 0:i.doNotHyphenateCaps)!==void 0&&this.root.push(new Le("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new WO(co(yt({},(a=e.compatibility)!=null?a:{}),{version:(u=(A=(o=e.compatibility)==null?void 0:o.version)!=null?A:e.compatibilityModeVersion)!=null?u:15})))}}class $v extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class YO extends Ne{constructor(e){super("w:name"),this.root.push(new $v({val:e}))}}class JO extends Ne{constructor(e){super("w:uiPriority"),this.root.push(new $v({val:An(e)}))}}class ZO extends at{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Xv extends Ne{constructor(e,r){super("w:style"),this.root.push(new ZO(e)),r.name&&this.root.push(new YO(r.name)),r.basedOn&&this.root.push(new io("w:basedOn",r.basedOn)),r.next&&this.root.push(new io("w:next",r.next)),r.link&&this.root.push(new io("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new JO(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Le("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Le("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Le("w:qFormat",r.quickFormat))}}class r0 extends Xv{constructor(e){super({type:"paragraph",styleId:e.id},e),Qe(this,"paragraphProperties"),Qe(this,"runProperties"),this.paragraphProperties=new mo(e.paragraph),this.runProperties=new Ca(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class n0 extends Xv{constructor(e){super({type:"character",styleId:e.id},yt({uiPriority:99,unhideWhenUsed:!0},e)),Qe(this,"runProperties"),this.runProperties=new Ca(e.run),this.root.push(this.runProperties)}}class Oi extends r0{constructor(e){super(yt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class eN extends Oi{constructor(e){super(yt({id:"Title",name:"Title"},e))}}class tN extends Oi{constructor(e){super(yt({id:"Heading1",name:"Heading 1"},e))}}class rN extends Oi{constructor(e){super(yt({id:"Heading2",name:"Heading 2"},e))}}class nN extends Oi{constructor(e){super(yt({id:"Heading3",name:"Heading 3"},e))}}class sN extends Oi{constructor(e){super(yt({id:"Heading4",name:"Heading 4"},e))}}class iN extends Oi{constructor(e){super(yt({id:"Heading5",name:"Heading 5"},e))}}class aN extends Oi{constructor(e){super(yt({id:"Heading6",name:"Heading 6"},e))}}class oN extends Oi{constructor(e){super(yt({id:"Strong",name:"Strong"},e))}}class AN extends r0{constructor(e){super(yt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class uN extends r0{constructor(e){super(yt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:xp.AUTO}},run:{size:20}},e))}}class lN extends n0{constructor(e){super(yt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class cN extends n0{constructor(e){super(yt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class dN extends n0{constructor(e){super(yt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Kv.SINGLE}}},e))}}class Bp extends Ne{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new r0(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new n0(r))}}class hN extends Ne{constructor(e){super("w:pPrDefault"),this.root.push(new mo(e))}}class fN extends Ne{constructor(e){super("w:rPrDefault"),this.root.push(new Ca(e))}}class pN extends Ne{constructor(e){super("w:docDefaults"),Qe(this,"runPropertiesDefaults"),Qe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new fN(e.run),this.paragraphPropertiesDefaults=new hN(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class gN{newInstance(e){const r=Ov.xml2js(e,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const s=n.elements||[];return new Bp({initialStyles:new iQ(n.attributes),importedStyles:s.map(a=>Fg(a))})}}class G4{newInstance(e={}){var r;return{initialStyles:new t0(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new pN((r=e.document)!=null?r:{}),new eN(yt({run:{size:56}},e.title)),new tN(yt({run:{color:"2E74B5",size:32}},e.heading1)),new rN(yt({run:{color:"2E74B5",size:26}},e.heading2)),new nN(yt({run:{color:"1F4D78",size:24}},e.heading3)),new sN(yt({run:{color:"2E74B5",italics:!0}},e.heading4)),new iN(yt({run:{color:"2E74B5"}},e.heading5)),new aN(yt({run:{color:"1F4D78"}},e.heading6)),new oN(yt({run:{bold:!0}},e.strong)),new AN(e.listParagraph||{}),new dN(e.hyperlink||{}),new lN(e.footnoteReference||{}),new uN(e.footnoteText||{}),new cN(e.footnoteTextChar||{})]}}}class mN{constructor(e){Qe(this,"currentRelationshipId",1),Qe(this,"documentWrapper"),Qe(this,"headers",[]),Qe(this,"footers",[]),Qe(this,"coreProperties"),Qe(this,"numbering"),Qe(this,"media"),Qe(this,"fileRelationships"),Qe(this,"footnotesWrapper"),Qe(this,"settings"),Qe(this,"contentTypes"),Qe(this,"customProperties"),Qe(this,"appProperties"),Qe(this,"styles"),Qe(this,"comments"),Qe(this,"fontWrapper");var r,n,s,i,a,o,A,u,l,c,f,m;if(this.coreProperties=new tO(co(yt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(s=e.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new qO(e.numbering?e.numbering:{config:[]}),this.comments=new sR((i=e.comments)!=null?i:{children:[]}),this.fileRelationships=new Ea,this.customProperties=new oO((a=e.customProperties)!=null?a:[]),this.appProperties=new XR,this.footnotesWrapper=new CO,this.contentTypes=new eO,this.documentWrapper=new Wv({background:e.background}),this.settings=new XO({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(A=e.features)==null?void 0:A.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(l=e.hyphenation)==null?void 0:l.hyphenationZone,consecutiveHyphenLimit:(c=e.hyphenation)==null?void 0:c.consecutiveHyphenLimit,doNotHyphenateCaps:(f=e.hyphenation)==null?void 0:f.doNotHyphenateCaps}}),this.media=new FO,e.externalStyles!==void 0){const g=new gN;this.styles=g.newInstance(e.externalStyles)}else if(e.styles){const b=new G4().newInstance(e.styles.default);this.styles=new Bp(yt(yt({},b),e.styles))}else{const g=new G4;this.styles=new Bp(g.newInstance())}this.addDefaultRelationships();for(const g of e.sections)this.addSection(g);if(e.footnotes)for(const g in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(g),e.footnotes[g].children);this.fontWrapper=new cO((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:r={},children:n,properties:s}){this.documentWrapper.View.Body.addSection(co(yt({},s),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const i of n)this.documentWrapper.View.add(i)}createHeader(e){const r=new TO(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new fO(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=ao.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=ao.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var bN=Eg();function vl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ff={exports:{}},W4;function wN(){return W4||(W4=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function a(u,l){if(!s[u]){if(!n[u]){var c=typeof vl=="function"&&vl;if(!l&&c)return c(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var m=s[u]={exports:{}};n[u][0].call(m.exports,function(g){var b=n[u][1][g];return a(b||g)},m,m.exports,r,n,s,i)}return s[u].exports}for(var o=typeof vl=="function"&&vl,A=0;A<i.length;A++)a(i[A]);return a}({1:[function(r,n,s){var i=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(A){for(var u,l,c,f,m,g,b,v=[],w=0,B=A.length,C=B,x=i.getTypeOf(A)!=="string";w<A.length;)C=B-w,c=x?(u=A[w++],l=w<B?A[w++]:0,w<B?A[w++]:0):(u=A.charCodeAt(w++),l=w<B?A.charCodeAt(w++):0,w<B?A.charCodeAt(w++):0),f=u>>2,m=(3&u)<<4|l>>4,g=1<C?(15&l)<<2|c>>6:64,b=2<C?63&c:64,v.push(o.charAt(f)+o.charAt(m)+o.charAt(g)+o.charAt(b));return v.join("")},s.decode=function(A){var u,l,c,f,m,g,b=0,v=0,w="data:";if(A.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var B,C=3*(A=A.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(A.charAt(A.length-1)===o.charAt(64)&&C--,A.charAt(A.length-2)===o.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=a.uint8array?new Uint8Array(0|C):new Array(0|C);b<A.length;)u=o.indexOf(A.charAt(b++))<<2|(f=o.indexOf(A.charAt(b++)))>>4,l=(15&f)<<4|(m=o.indexOf(A.charAt(b++)))>>2,c=(3&m)<<6|(g=o.indexOf(A.charAt(b++))),B[v++]=u,m!==64&&(B[v++]=l),g!==64&&(B[v++]=c);return B}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),A=r("./stream/DataLengthProbe");function u(l,c,f,m,g){this.compressedSize=l,this.uncompressedSize=c,this.crc32=f,this.compression=m,this.compressedContent=g}u.prototype={getContentWorker:function(){var l=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new A("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(l,c,f){return l.pipe(new o).pipe(new A("uncompressedSize")).pipe(c.compressWorker(f)).pipe(new A("compressedSize")).withStreamInfo("compression",c)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),a=function(){for(var o,A=[],u=0;u<256;u++){o=u;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;A[u]=o}return A}();n.exports=function(o,A){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(u,l,c,f){var m=a,g=f+c;u^=-1;for(var b=f;b<g;b++)u=u>>>8^m[255&(u^l[b])];return-1^u}(0|A,o,o.length,0):function(u,l,c,f){var m=a,g=f+c;u^=-1;for(var b=f;b<g;b++)u=u>>>8^m[255&(u^l.charCodeAt(b))];return-1^u}(0|A,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),A=r("./stream/GenericWorker"),u=i?"uint8array":"array";function l(c,f){A.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=f,this.meta={}}s.magic="\b\0",o.inherits(l,A),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,c.data),!1)},l.prototype.flush=function(){A.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){A.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(f){c.push({data:f,meta:c.meta})}},s.compressWorker=function(c){return new l("Deflate",c)},s.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(m,g){var b,v="";for(b=0;b<g;b++)v+=String.fromCharCode(255&m),m>>>=8;return v}function a(m,g,b,v,w,B){var C,x,E=m.file,D=m.compression,_=B!==u.utf8encode,L=o.transformTo("string",B(E.name)),I=o.transformTo("string",u.utf8encode(E.name)),G=E.comment,W=o.transformTo("string",B(G)),Q=o.transformTo("string",u.utf8encode(G)),j=I.length!==E.name.length,T=Q.length!==G.length,V="",J="",Y="",oe=E.dir,re=E.date,pe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!b||(pe.crc32=m.crc32,pe.compressedSize=m.compressedSize,pe.uncompressedSize=m.uncompressedSize);var te=0;g&&(te|=8),_||!j&&!T||(te|=2048);var $=0,he=0;oe&&($|=16),w==="UNIX"?(he=798,$|=function(ye,ce){var H=ye;return ye||(H=ce?16893:33204),(65535&H)<<16}(E.unixPermissions,oe)):(he=20,$|=function(ye){return 63&(ye||0)}(E.dosPermissions)),C=re.getUTCHours(),C<<=6,C|=re.getUTCMinutes(),C<<=5,C|=re.getUTCSeconds()/2,x=re.getUTCFullYear()-1980,x<<=4,x|=re.getUTCMonth()+1,x<<=5,x|=re.getUTCDate(),j&&(J=i(1,1)+i(l(L),4)+I,V+="up"+i(J.length,2)+J),T&&(Y=i(1,1)+i(l(W),4)+Q,V+="uc"+i(Y.length,2)+Y);var me="";return me+=`
\0`,me+=i(te,2),me+=D.magic,me+=i(C,2),me+=i(x,2),me+=i(pe.crc32,4),me+=i(pe.compressedSize,4),me+=i(pe.uncompressedSize,4),me+=i(L.length,2),me+=i(V.length,2),{fileRecord:c.LOCAL_FILE_HEADER+me+L+V,dirRecord:c.CENTRAL_FILE_HEADER+i(he,2)+me+i(W.length,2)+"\0\0\0\0"+i($,4)+i(v,4)+L+V+W}}var o=r("../utils"),A=r("../stream/GenericWorker"),u=r("../utf8"),l=r("../crc32"),c=r("../signature");function f(m,g,b,v){A.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=b,this.encodeFileName=v,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,A),f.prototype.push=function(m){var g=m.meta.percent||0,b=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,A.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:b?(g+100*(b-v-1))/b:100}}))},f.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var b=a(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,b=a(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),g)this.push({data:function(v){return c.DATA_DESCRIPTOR+i(v.crc32,4)+i(v.compressedSize,4)+i(v.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var b=this.bytesWritten-m,v=function(w,B,C,x,E){var D=o.transformTo("string",E(x));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(w,2)+i(w,2)+i(B,4)+i(C,4)+i(D.length,2)+D}(this.dirRecords.length,b,m,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(b){g.processChunk(b)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(b){g.error(b)}),this},f.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(m){var g=this._sources;if(!A.prototype.error.call(this,m))return!1;for(var b=0;b<g.length;b++)try{g[b].error(m)}catch{}return!0},f.prototype.lock=function(){A.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),a=r("./ZipFileWorker");s.generateWorker=function(o,A,u){var l=new a(A.streamFiles,u,A.platform,A.encodeFileName),c=0;try{o.forEach(function(f,m){c++;var g=function(B,C){var x=B||C,E=i[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(m.options.compression,A.compression),b=m.options.compressionOptions||A.compressionOptions||{},v=m.dir,w=m.date;m._compressWorker(g,b).withStreamInfo("file",{name:f,dir:v,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(f){l.error(f)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,o){return new i().loadAsync(a,o)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),a=r("./external"),o=r("./utf8"),A=r("./zipEntries"),u=r("./stream/Crc32Probe"),l=r("./nodejsUtils");function c(f){return new a.Promise(function(m,g){var b=f.decompressed.getContentWorker().pipe(new u);b.on("error",function(v){g(v)}).on("end",function(){b.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(f,m){var g=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,m.optimizedBinaryString,m.base64).then(function(b){var v=new A(m);return v.load(b),v}).then(function(b){var v=[a.Promise.resolve(b)],w=b.files;if(m.checkCRC32)for(var B=0;B<w.length;B++)v.push(c(w[B]));return a.Promise.all(v)}).then(function(b){for(var v=b.shift(),w=v.files,B=0;B<w.length;B++){var C=w[B],x=C.fileNameStr,E=i.resolve(C.fileNameStr);g.file(E,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:m.createFolders}),C.dir||(g.file(E).unsafeOriginalName=x)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),a=r("../stream/GenericWorker");function o(A,u){a.call(this,"Nodejs stream input adapter for "+A),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(o,a),o.prototype._bindStream=function(A){var u=this;(this._stream=A).pause(),A.on("data",function(l){u.push({data:l,meta:{percent:0}})}).on("error",function(l){u.isPaused?this.generatedError=l:u.error(l)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function a(o,A,u){i.call(this,A),this._helper=o;var l=this;o.on("data",function(c,f){l.push(c)||l._helper.pause(),u&&u(f)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(E,D,_){var L,I=o.getTypeOf(D),G=o.extend(_||{},l);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(E=w(E)),G.createFolders&&(L=v(E))&&B.call(this,L,!0);var W=I==="string"&&G.binary===!1&&G.base64===!1;_&&_.binary!==void 0||(G.binary=!W),(D instanceof c&&D.uncompressedSize===0||G.dir||!D||D.length===0)&&(G.base64=!1,G.binary=!0,D="",G.compression="STORE",I="string");var Q=null;Q=D instanceof c||D instanceof A?D:g.isNode&&g.isStream(D)?new b(E,D):o.prepareContent(E,D,G.binary,G.optimizedBinaryString,G.base64);var j=new f(E,Q,G);this.files[E]=j}var a=r("./utf8"),o=r("./utils"),A=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),l=r("./defaults"),c=r("./compressedObject"),f=r("./zipObject"),m=r("./generate"),g=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var D=E.lastIndexOf("/");return 0<D?E.substring(0,D):""},w=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},B=function(E,D){return D=D!==void 0?D:l.createFolders,E=w(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:D}),this.files[E]};function C(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var D,_,L;for(D in this.files)L=this.files[D],(_=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&E(_,L)},filter:function(E){var D=[];return this.forEach(function(_,L){E(_,L)&&D.push(L)}),D},file:function(E,D,_){if(arguments.length!==1)return E=this.root+E,i.call(this,E,D,_),this;if(C(E)){var L=E;return this.filter(function(G,W){return!W.dir&&L.test(G)})}var I=this.files[this.root+E];return I&&!I.dir?I:null},folder:function(E){if(!E)return this;if(C(E))return this.filter(function(I,G){return G.dir&&E.test(I)});var D=this.root+E,_=B.call(this,D),L=this.clone();return L.root=_.name,L},remove:function(E){E=this.root+E;var D=this.files[E];if(D||(E.slice(-1)!=="/"&&(E+="/"),D=this.files[E]),D&&!D.dir)delete this.files[E];else for(var _=this.filter(function(I,G){return G.name.slice(0,E.length)===E}),L=0;L<_.length;L++)delete this.files[_[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var D,_={};try{if((_=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");o.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var L=_.comment||this.comment||"";D=m.generateWorker(this,_,L)}catch(I){(D=new A("error")).error(I)}return new u(D,_.type||"string",_.mimeType)},generateAsync:function(E,D){return this.generateInternalStream(E).accumulate(D)},generateNodeStream:function(E,D){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(D)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function a(o){i.call(this,o);for(var A=0;A<this.data.length;A++)o[A]=255&o[A]}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var A=o.charCodeAt(0),u=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===A&&this.data[f+1]===u&&this.data[f+2]===l&&this.data[f+3]===c)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var A=o.charCodeAt(0),u=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),f=this.readData(4);return A===f[0]&&u===f[1]&&l===f[2]&&c===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var A=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,A},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var A,u=0;for(this.checkOffset(o),A=this.index+o-1;A>=this.index;A--)u=(u<<8)+this.byteAt(A);return this.index+=o,u},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){this.checkOffset(o);var A=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,A},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var A=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,A},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var A=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,A},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),a=r("../support"),o=r("./ArrayReader"),A=r("./StringReader"),u=r("./NodeBufferReader"),l=r("./Uint8ArrayReader");n.exports=function(c){var f=i.getTypeOf(c);return i.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new u(c):a.uint8array?new l(i.transformTo("uint8array",c)):new o(i.transformTo("array",c)):new A(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),a=r("../utils");function o(A){i.call(this,"ConvertWorker to "+A),this.destType=A}a.inherits(o,i),o.prototype.processChunk=function(A){this.push({data:a.transformTo(this.destType,A.data),meta:A.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),a=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(A){this.streamInfo.crc32=a(A.data,this.streamInfo.crc32||0),this.push(A)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function o(A){a.call(this,"DataLengthProbe for "+A),this.propName=A,this.withStreamInfo(A,0)}i.inherits(o,a),o.prototype.processChunk=function(A){if(A){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+A.data.length}a.prototype.processChunk.call(this,A)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function o(A){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,A.then(function(l){u.dataIsReady=!0,u.data=l,u.max=l&&l.length||0,u.type=i.getTypeOf(l),u.isPaused||u._tickAndRepeat()},function(l){u.error(l)})}i.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var A=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":A=this.data.substring(this.index,u);break;case"uint8array":A=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":A=this.data.slice(this.index,u)}return this.index=u,this.push({data:A,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var A=0;A<this._listeners[a].length;A++)this._listeners[a][A].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(A){o.processChunk(A)}),a.on("end",function(){o.end()}),a.on("error",function(A){o.error(A)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),A=r("../base64"),u=r("../support"),l=r("../external"),c=null;if(u.nodestream)try{c=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,b){return new l.Promise(function(v,w){var B=[],C=g._internalType,x=g._outputType,E=g._mimeType;g.on("data",function(D,_){B.push(D),b&&b(_)}).on("error",function(D){B=[],w(D)}).on("end",function(){try{var D=function(_,L,I){switch(_){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),I);case"base64":return A.encode(L);default:return i.transformTo(_,L)}}(x,function(_,L){var I,G=0,W=null,Q=0;for(I=0;I<L.length;I++)Q+=L[I].length;switch(_){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(W=new Uint8Array(Q),I=0;I<L.length;I++)W.set(L[I],G),G+=L[I].length;return W;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+_+"'")}}(C,B),E);v(D)}catch(_){w(_)}B=[]}).resume()})}function m(g,b,v){var w=b;switch(b){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=b,this._mimeType=v,i.checkSupport(w),this._worker=g.pipe(new a(w)),g.lock()}catch(B){this._worker=new o("error"),this._worker.error(B)}}m.prototype={accumulate:function(g){return f(this,g)},on:function(g,b){var v=this;return g==="data"?this._worker.on(g,function(w){b.call(v,w.data,w.meta)}):this._worker.on(g,function(){i.delay(b,arguments,v)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),A=r("./stream/GenericWorker"),u=new Array(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;u[254]=u[254]=1;function c(){A.call(this,"utf-8 decode"),this.leftOver=null}function f(){A.call(this,"utf-8 encode")}s.utf8encode=function(m){return a.nodebuffer?o.newBufferFrom(m,"utf-8"):function(g){var b,v,w,B,C,x=g.length,E=0;for(B=0;B<x;B++)(64512&(v=g.charCodeAt(B)))==55296&&B+1<x&&(64512&(w=g.charCodeAt(B+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),B++),E+=v<128?1:v<2048?2:v<65536?3:4;for(b=a.uint8array?new Uint8Array(E):new Array(E),B=C=0;C<E;B++)(64512&(v=g.charCodeAt(B)))==55296&&B+1<x&&(64512&(w=g.charCodeAt(B+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),B++),v<128?b[C++]=v:(v<2048?b[C++]=192|v>>>6:(v<65536?b[C++]=224|v>>>12:(b[C++]=240|v>>>18,b[C++]=128|v>>>12&63),b[C++]=128|v>>>6&63),b[C++]=128|63&v);return b}(m)},s.utf8decode=function(m){return a.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(g){var b,v,w,B,C=g.length,x=new Array(2*C);for(b=v=0;b<C;)if((w=g[b++])<128)x[v++]=w;else if(4<(B=u[w]))x[v++]=65533,b+=B-1;else{for(w&=B===2?31:B===3?15:7;1<B&&b<C;)w=w<<6|63&g[b++],B--;1<B?x[v++]=65533:w<65536?x[v++]=w:(w-=65536,x[v++]=55296|w>>10&1023,x[v++]=56320|1023&w)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),i.applyFromCharCode(x)}(m=i.transformTo(a.uint8array?"uint8array":"array",m))},i.inherits(c,A),c.prototype.processChunk=function(m){var g=i.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var b=g;(g=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),g.set(b,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=function(B,C){var x;for((C=C||B.length)>B.length&&(C=B.length),x=C-1;0<=x&&(192&B[x])==128;)x--;return x<0||x===0?C:x+u[B[x]]>C?x:C}(g),w=g;v!==g.length&&(a.uint8array?(w=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(w=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:s.utf8decode(w),meta:m.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=c,i.inherits(f,A),f.prototype.processChunk=function(m){this.push({data:s.utf8encode(m.data),meta:m.meta})},s.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),A=r("./external");function u(b){return b}function l(b,v){for(var w=0;w<b.length;++w)v[w]=255&b.charCodeAt(w);return v}r("setimmediate"),s.newBlob=function(b,v){s.checkSupport("blob");try{return new Blob([b],{type:v})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(b),w.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(b,v,w){var B=[],C=0,x=b.length;if(x<=w)return String.fromCharCode.apply(null,b);for(;C<x;)v==="array"||v==="nodebuffer"?B.push(String.fromCharCode.apply(null,b.slice(C,Math.min(C+w,x)))):B.push(String.fromCharCode.apply(null,b.subarray(C,Math.min(C+w,x)))),C+=w;return B.join("")},stringifyByChar:function(b){for(var v="",w=0;w<b.length;w++)v+=String.fromCharCode(b[w]);return v},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(b){var v=65536,w=s.getTypeOf(b),B=!0;if(w==="uint8array"?B=c.applyCanBeUsed.uint8array:w==="nodebuffer"&&(B=c.applyCanBeUsed.nodebuffer),B)for(;1<v;)try{return c.stringifyByChunk(b,w,v)}catch{v=Math.floor(v/2)}return c.stringifyByChar(b)}function m(b,v){for(var w=0;w<b.length;w++)v[w]=b[w];return v}s.applyFromCharCode=f;var g={};g.string={string:u,array:function(b){return l(b,new Array(b.length))},arraybuffer:function(b){return g.string.uint8array(b).buffer},uint8array:function(b){return l(b,new Uint8Array(b.length))},nodebuffer:function(b){return l(b,o.allocBuffer(b.length))}},g.array={string:f,array:u,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return o.newBufferFrom(b)}},g.arraybuffer={string:function(b){return f(new Uint8Array(b))},array:function(b){return m(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:u,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return o.newBufferFrom(new Uint8Array(b))}},g.uint8array={string:f,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:u,nodebuffer:function(b){return o.newBufferFrom(b)}},g.nodebuffer={string:f,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return g.nodebuffer.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:u},s.transformTo=function(b,v){if(v=v||"",!b)return v;s.checkSupport(b);var w=s.getTypeOf(v);return g[w][b](v)},s.resolve=function(b){for(var v=b.split("/"),w=[],B=0;B<v.length;B++){var C=v[B];C==="."||C===""&&B!==0&&B!==v.length-1||(C===".."?w.pop():w.push(C))}return w.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(b)?"nodebuffer":i.uint8array&&b instanceof Uint8Array?"uint8array":i.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!i[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var v,w,B="";for(w=0;w<(b||"").length;w++)B+="\\x"+((v=b.charCodeAt(w))<16?"0":"")+v.toString(16).toUpperCase();return B},s.delay=function(b,v,w){setImmediate(function(){b.apply(w||null,v||[])})},s.inherits=function(b,v){function w(){}w.prototype=v.prototype,b.prototype=new w},s.extend=function(){var b,v,w={};for(b=0;b<arguments.length;b++)for(v in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],v)&&w[v]===void 0&&(w[v]=arguments[b][v]);return w},s.prepareContent=function(b,v,w,B,C){return A.Promise.resolve(v).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new A.Promise(function(E,D){var _=new FileReader;_.onload=function(L){E(L.target.result)},_.onerror=function(L){D(L.target.error)},_.readAsArrayBuffer(x)}):x}).then(function(x){var E=s.getTypeOf(x);return E?(E==="arraybuffer"?x=s.transformTo("uint8array",x):E==="string"&&(C?x=a.decode(x):w&&B!==!0&&(x=function(D){return l(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(x))),x):A.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),A=r("./zipEntry"),u=r("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(c)+")")}},isSignature:function(c,f){var m=this.reader.index;this.reader.setIndex(c);var g=this.reader.readString(4)===f;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",m=a.transformTo(f,c);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,f,m,g=this.zip64EndOfCentralSize-44;0<g;)c=this.reader.readInt(2),f=this.reader.readInt(4),m=this.reader.readData(f),this.zip64ExtensibleData[c]={id:c,length:f,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,f;for(c=0;c<this.files.length;c++)f=this.files[c],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new A({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var f=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=f-m;if(0<g)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),A=r("./crc32"),u=r("./utf8"),l=r("./compressions"),c=r("./support");function f(m,g){this.options=m,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,b;if(m.skip(22),this.fileNameLength=m.readInt(2),b=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(v){for(var w in l)if(Object.prototype.hasOwnProperty.call(l,w)&&l[w].magic===v)return l[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,b,v,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)g=m.readInt(2),b=m.readInt(2),v=m.readData(b),this.extraFields[g]={id:g,length:b,value:v};m.setIndex(w)},handleUTF8:function(){var m=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var b=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var w=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=i(m.value);return g.readInt(1)!==1||A(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=i(m.value);return g.readInt(1)!==1||A(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(g,b,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=b,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),A=r("./utf8"),u=r("./compressedObject"),l=r("./stream/GenericWorker");i.prototype={internalStream:function(g){var b=null,v="string";try{if(!g)throw new Error("No output type specified.");var w=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),b=this._decompressWorker();var B=!this._dataBinary;B&&!w&&(b=b.pipe(new A.Utf8EncodeWorker)),!B&&w&&(b=b.pipe(new A.Utf8DecodeWorker))}catch(C){(b=new l("error")).error(C)}return new a(b,v,"")},async:function(g,b){return this.internalStream(g).accumulate(b)},nodeStream:function(g,b){return this.internalStream(g||"nodebuffer").toNodejsStream(b)},_compressWorker:function(g,b){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new A.Utf8EncodeWorker)),u.createWorkerFrom(v,g,b)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<c.length;m++)i.prototype[c[m]]=f;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var a,o,A=i.MutationObserver||i.WebKitMutationObserver;if(A){var u=0,l=new A(g),c=i.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var b=i.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},i.document.documentElement.appendChild(b)}:function(){setTimeout(g,0)};else{var f=new i.MessageChannel;f.port1.onmessage=g,a=function(){f.port2.postMessage(0)}}var m=[];function g(){var b,v;o=!0;for(var w=m.length;w;){for(v=m,m=[],b=-1;++b<w;)v[b]();w=m.length}o=!1}n.exports=function(b){m.push(b)!==1||o||a()}}).call(this,typeof bs<"u"?bs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function a(){}var o={},A=["REJECTED"],u=["FULFILLED"],l=["PENDING"];function c(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,w!==a&&b(this,w)}function f(w,B,C){this.promise=w,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function m(w,B,C){i(function(){var x;try{x=B(C)}catch(E){return o.reject(w,E)}x===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,x)})}function g(w){var B=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof B=="function")return function(){B.apply(w,arguments)}}function b(w,B){var C=!1;function x(_){C||(C=!0,o.reject(w,_))}function E(_){C||(C=!0,o.resolve(w,_))}var D=v(function(){B(E,x)});D.status==="error"&&x(D.value)}function v(w,B){var C={};try{C.value=w(B),C.status="success"}catch(x){C.status="error",C.value=x}return C}(n.exports=c).prototype.finally=function(w){if(typeof w!="function")return this;var B=this.constructor;return this.then(function(C){return B.resolve(w()).then(function(){return C})},function(C){return B.resolve(w()).then(function(){throw C})})},c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,B){if(typeof w!="function"&&this.state===u||typeof B!="function"&&this.state===A)return this;var C=new this.constructor(a);return this.state!==l?m(C,this.state===u?w:B,this.outcome):this.queue.push(new f(C,w,B)),C},f.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},f.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},f.prototype.callRejected=function(w){o.reject(this.promise,w)},f.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},o.resolve=function(w,B){var C=v(g,B);if(C.status==="error")return o.reject(w,C.value);var x=C.value;if(x)b(w,x);else{w.state=u,w.outcome=B;for(var E=-1,D=w.queue.length;++E<D;)w.queue[E].callFulfilled(B)}return w},o.reject=function(w,B){w.state=A,w.outcome=B;for(var C=-1,x=w.queue.length;++C<x;)w.queue[C].callRejected(B);return w},c.resolve=function(w){return w instanceof this?w:o.resolve(new this(a),w)},c.reject=function(w){var B=new this(a);return o.reject(B,w)},c.all=function(w){var B=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,x=!1;if(!C)return this.resolve([]);for(var E=new Array(C),D=0,_=-1,L=new this(a);++_<C;)I(w[_],_);return L;function I(G,W){B.resolve(G).then(function(Q){E[W]=Q,++D!==C||x||(x=!0,o.resolve(L,E))},function(Q){x||(x=!0,o.reject(L,Q))})}},c.race=function(w){var B=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,x=!1;if(!C)return this.resolve([]);for(var E=-1,D=new this(a);++E<C;)_=w[E],B.resolve(_).then(function(L){x||(x=!0,o.resolve(D,L))},function(L){x||(x=!0,o.reject(D,L))});var _;return D}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),A=r("./zlib/messages"),u=r("./zlib/zstream"),l=Object.prototype.toString,c=0,f=-1,m=0,g=8;function b(w){if(!(this instanceof b))return new b(w);this.options=a.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var C=i.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(C!==c)throw new Error(A[C]);if(B.header&&i.deflateSetHeader(this.strm,B.header),B.dictionary){var x;if(x=typeof B.dictionary=="string"?o.string2buf(B.dictionary):l.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(C=i.deflateSetDictionary(this.strm,x))!==c)throw new Error(A[C]);this._dict_set=!0}}function v(w,B){var C=new b(B);if(C.push(w,!0),C.err)throw C.msg||A[C.err];return C.result}b.prototype.push=function(w,B){var C,x,E=this.strm,D=this.options.chunkSize;if(this.ended)return!1;x=B===~~B?B:B===!0?4:0,typeof w=="string"?E.input=o.string2buf(w):l.call(w)==="[object ArrayBuffer]"?E.input=new Uint8Array(w):E.input=w,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(D),E.next_out=0,E.avail_out=D),(C=i.deflate(E,x))!==1&&C!==c)return this.onEnd(C),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&C!==1);return x===4?(C=i.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===c):x!==2||(this.onEnd(c),!(E.avail_out=0))},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Deflate=b,s.deflate=v,s.deflateRaw=function(w,B){return(B=B||{}).raw=!0,v(w,B)},s.gzip=function(w,B){return(B=B||{}).gzip=!0,v(w,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),A=r("./zlib/constants"),u=r("./zlib/messages"),l=r("./zlib/zstream"),c=r("./zlib/gzheader"),f=Object.prototype.toString;function m(b){if(!(this instanceof m))return new m(b);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},b||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||b&&b.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var w=i.inflateInit2(this.strm,v.windowBits);if(w!==A.Z_OK)throw new Error(u[w]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function g(b,v){var w=new m(v);if(w.push(b,!0),w.err)throw w.msg||u[w.err];return w.result}m.prototype.push=function(b,v){var w,B,C,x,E,D,_=this.strm,L=this.options.chunkSize,I=this.options.dictionary,G=!1;if(this.ended)return!1;B=v===~~v?v:v===!0?A.Z_FINISH:A.Z_NO_FLUSH,typeof b=="string"?_.input=o.binstring2buf(b):f.call(b)==="[object ArrayBuffer]"?_.input=new Uint8Array(b):_.input=b,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new a.Buf8(L),_.next_out=0,_.avail_out=L),(w=i.inflate(_,A.Z_NO_FLUSH))===A.Z_NEED_DICT&&I&&(D=typeof I=="string"?o.string2buf(I):f.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,w=i.inflateSetDictionary(this.strm,D)),w===A.Z_BUF_ERROR&&G===!0&&(w=A.Z_OK,G=!1),w!==A.Z_STREAM_END&&w!==A.Z_OK)return this.onEnd(w),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&w!==A.Z_STREAM_END&&(_.avail_in!==0||B!==A.Z_FINISH&&B!==A.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=o.utf8border(_.output,_.next_out),x=_.next_out-C,E=o.buf2string(_.output,C),_.next_out=x,_.avail_out=L-x,x&&a.arraySet(_.output,_.output,C,x,0),this.onData(E)):this.onData(a.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(G=!0)}while((0<_.avail_in||_.avail_out===0)&&w!==A.Z_STREAM_END);return w===A.Z_STREAM_END&&(B=A.Z_FINISH),B===A.Z_FINISH?(w=i.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===A.Z_OK):B!==A.Z_SYNC_FLUSH||(this.onEnd(A.Z_OK),!(_.avail_out=0))},m.prototype.onData=function(b){this.chunks.push(b)},m.prototype.onEnd=function(b){b===A.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=m,s.inflate=g,s.inflateRaw=function(b,v){return(v=v||{}).raw=!0,g(b,v)},s.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(A){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(A[c]=l[c])}}return A},s.shrinkBuf=function(A,u){return A.length===u?A:A.subarray?A.subarray(0,u):(A.length=u,A)};var a={arraySet:function(A,u,l,c,f){if(u.subarray&&A.subarray)A.set(u.subarray(l,l+c),f);else for(var m=0;m<c;m++)A[f+m]=u[l+m]},flattenChunks:function(A){var u,l,c,f,m,g;for(u=c=0,l=A.length;u<l;u++)c+=A[u].length;for(g=new Uint8Array(c),u=f=0,l=A.length;u<l;u++)m=A[u],g.set(m,f),f+=m.length;return g}},o={arraySet:function(A,u,l,c,f){for(var m=0;m<c;m++)A[f+m]=u[l+m]},flattenChunks:function(A){return[].concat.apply([],A)}};s.setTyped=function(A){A?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var A=new i.Buf8(256),u=0;u<256;u++)A[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(c,f){if(f<65537&&(c.subarray&&o||!c.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(c,f));for(var m="",g=0;g<f;g++)m+=String.fromCharCode(c[g]);return m}A[254]=A[254]=1,s.string2buf=function(c){var f,m,g,b,v,w=c.length,B=0;for(b=0;b<w;b++)(64512&(m=c.charCodeAt(b)))==55296&&b+1<w&&(64512&(g=c.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),b++),B+=m<128?1:m<2048?2:m<65536?3:4;for(f=new i.Buf8(B),b=v=0;v<B;b++)(64512&(m=c.charCodeAt(b)))==55296&&b+1<w&&(64512&(g=c.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),b++),m<128?f[v++]=m:(m<2048?f[v++]=192|m>>>6:(m<65536?f[v++]=224|m>>>12:(f[v++]=240|m>>>18,f[v++]=128|m>>>12&63),f[v++]=128|m>>>6&63),f[v++]=128|63&m);return f},s.buf2binstring=function(c){return l(c,c.length)},s.binstring2buf=function(c){for(var f=new i.Buf8(c.length),m=0,g=f.length;m<g;m++)f[m]=c.charCodeAt(m);return f},s.buf2string=function(c,f){var m,g,b,v,w=f||c.length,B=new Array(2*w);for(m=g=0;m<w;)if((b=c[m++])<128)B[g++]=b;else if(4<(v=A[b]))B[g++]=65533,m+=v-1;else{for(b&=v===2?31:v===3?15:7;1<v&&m<w;)b=b<<6|63&c[m++],v--;1<v?B[g++]=65533:b<65536?B[g++]=b:(b-=65536,B[g++]=55296|b>>10&1023,B[g++]=56320|1023&b)}return l(B,g)},s.utf8border=function(c,f){var m;for((f=f||c.length)>c.length&&(f=c.length),m=f-1;0<=m&&(192&c[m])==128;)m--;return m<0||m===0?f:m+A[c[m]]>f?m:f}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,a,o,A){for(var u=65535&i|0,l=i>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;l=l+(u=u+a[A++]|0)|0,--c;);u%=65521,l%=65521}return u|l<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var a,o=[],A=0;A<256;A++){a=A;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[A]=a}return o}();n.exports=function(a,o,A,u){var l=i,c=u+A;a^=-1;for(var f=u;f<c;f++)a=a>>>8^l[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,s){var i,a=r("../utils/common"),o=r("./trees"),A=r("./adler32"),u=r("./crc32"),l=r("./messages"),c=0,f=4,m=0,g=-2,b=-1,v=4,w=2,B=8,C=9,x=286,E=30,D=19,_=2*x+1,L=15,I=3,G=258,W=G+I+1,Q=42,j=113,T=1,V=2,J=3,Y=4;function oe(O,ue){return O.msg=l[ue],ue}function re(O){return(O<<1)-(4<O?9:0)}function pe(O){for(var ue=O.length;0<=--ue;)O[ue]=0}function te(O){var ue=O.state,N=ue.pending;N>O.avail_out&&(N=O.avail_out),N!==0&&(a.arraySet(O.output,ue.pending_buf,ue.pending_out,N,O.next_out),O.next_out+=N,ue.pending_out+=N,O.total_out+=N,O.avail_out-=N,ue.pending-=N,ue.pending===0&&(ue.pending_out=0))}function $(O,ue){o._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,ue),O.block_start=O.strstart,te(O.strm)}function he(O,ue){O.pending_buf[O.pending++]=ue}function me(O,ue){O.pending_buf[O.pending++]=ue>>>8&255,O.pending_buf[O.pending++]=255&ue}function ye(O,ue){var N,F,k=O.max_chain_length,R=O.strstart,Ae=O.prev_length,be=O.nice_match,le=O.strstart>O.w_size-W?O.strstart-(O.w_size-W):0,Te=O.window,_e=O.w_mask,ve=O.prev,Me=O.strstart+G,je=Te[R+Ae-1],Ke=Te[R+Ae];O.prev_length>=O.good_match&&(k>>=2),be>O.lookahead&&(be=O.lookahead);do if(Te[(N=ue)+Ae]===Ke&&Te[N+Ae-1]===je&&Te[N]===Te[R]&&Te[++N]===Te[R+1]){R+=2,N++;do;while(Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&Te[++R]===Te[++N]&&R<Me);if(F=G-(Me-R),R=Me-G,Ae<F){if(O.match_start=ue,be<=(Ae=F))break;je=Te[R+Ae-1],Ke=Te[R+Ae]}}while((ue=ve[ue&_e])>le&&--k!=0);return Ae<=O.lookahead?Ae:O.lookahead}function ce(O){var ue,N,F,k,R,Ae,be,le,Te,_e,ve=O.w_size;do{if(k=O.window_size-O.lookahead-O.strstart,O.strstart>=ve+(ve-W)){for(a.arraySet(O.window,O.window,ve,ve,0),O.match_start-=ve,O.strstart-=ve,O.block_start-=ve,ue=N=O.hash_size;F=O.head[--ue],O.head[ue]=ve<=F?F-ve:0,--N;);for(ue=N=ve;F=O.prev[--ue],O.prev[ue]=ve<=F?F-ve:0,--N;);k+=ve}if(O.strm.avail_in===0)break;if(Ae=O.strm,be=O.window,le=O.strstart+O.lookahead,Te=k,_e=void 0,_e=Ae.avail_in,Te<_e&&(_e=Te),N=_e===0?0:(Ae.avail_in-=_e,a.arraySet(be,Ae.input,Ae.next_in,_e,le),Ae.state.wrap===1?Ae.adler=A(Ae.adler,be,_e,le):Ae.state.wrap===2&&(Ae.adler=u(Ae.adler,be,_e,le)),Ae.next_in+=_e,Ae.total_in+=_e,_e),O.lookahead+=N,O.lookahead+O.insert>=I)for(R=O.strstart-O.insert,O.ins_h=O.window[R],O.ins_h=(O.ins_h<<O.hash_shift^O.window[R+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[R+I-1])&O.hash_mask,O.prev[R&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=R,R++,O.insert--,!(O.lookahead+O.insert<I)););}while(O.lookahead<W&&O.strm.avail_in!==0)}function H(O,ue){for(var N,F;;){if(O.lookahead<W){if(ce(O),O.lookahead<W&&ue===c)return T;if(O.lookahead===0)break}if(N=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,N=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),N!==0&&O.strstart-N<=O.w_size-W&&(O.match_length=ye(O,N)),O.match_length>=I)if(F=o._tr_tally(O,O.strstart-O.match_start,O.match_length-I),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=I){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,N=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else F=o._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(F&&($(O,!1),O.strm.avail_out===0))return T}return O.insert=O.strstart<I-1?O.strstart:I-1,ue===f?($(O,!0),O.strm.avail_out===0?J:Y):O.last_lit&&($(O,!1),O.strm.avail_out===0)?T:V}function P(O,ue){for(var N,F,k;;){if(O.lookahead<W){if(ce(O),O.lookahead<W&&ue===c)return T;if(O.lookahead===0)break}if(N=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,N=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=I-1,N!==0&&O.prev_length<O.max_lazy_match&&O.strstart-N<=O.w_size-W&&(O.match_length=ye(O,N),O.match_length<=5&&(O.strategy===1||O.match_length===I&&4096<O.strstart-O.match_start)&&(O.match_length=I-1)),O.prev_length>=I&&O.match_length<=O.prev_length){for(k=O.strstart+O.lookahead-I,F=o._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-I),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=k&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,N=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=I-1,O.strstart++,F&&($(O,!1),O.strm.avail_out===0))return T}else if(O.match_available){if((F=o._tr_tally(O,0,O.window[O.strstart-1]))&&$(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return T}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(F=o._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<I-1?O.strstart:I-1,ue===f?($(O,!0),O.strm.avail_out===0?J:Y):O.last_lit&&($(O,!1),O.strm.avail_out===0)?T:V}function ge(O,ue,N,F,k){this.good_length=O,this.max_lazy=ue,this.nice_length=N,this.max_chain=F,this.func=k}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*_),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(L+1),this.heap=new a.Buf16(2*x+1),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*x+1),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(O){var ue;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=w,(ue=O.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?Q:j,O.adler=ue.wrap===2?0:1,ue.last_flush=c,o._tr_init(ue),m):oe(O,g)}function se(O){var ue=Z(O);return ue===m&&function(N){N.window_size=2*N.w_size,pe(N.head),N.max_lazy_match=i[N.level].max_lazy,N.good_match=i[N.level].good_length,N.nice_match=i[N.level].nice_length,N.max_chain_length=i[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=I-1,N.match_available=0,N.ins_h=0}(O.state),ue}function Ce(O,ue,N,F,k,R){if(!O)return g;var Ae=1;if(ue===b&&(ue=6),F<0?(Ae=0,F=-F):15<F&&(Ae=2,F-=16),k<1||C<k||N!==B||F<8||15<F||ue<0||9<ue||R<0||v<R)return oe(O,g);F===8&&(F=9);var be=new ie;return(O.state=be).strm=O,be.wrap=Ae,be.gzhead=null,be.w_bits=F,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=k+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+I-1)/I),be.window=new a.Buf8(2*be.w_size),be.head=new a.Buf16(be.hash_size),be.prev=new a.Buf16(be.w_size),be.lit_bufsize=1<<k+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new a.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ue,be.strategy=R,be.method=N,se(O)}i=[new ge(0,0,0,0,function(O,ue){var N=65535;for(N>O.pending_buf_size-5&&(N=O.pending_buf_size-5);;){if(O.lookahead<=1){if(ce(O),O.lookahead===0&&ue===c)return T;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var F=O.block_start+N;if((O.strstart===0||O.strstart>=F)&&(O.lookahead=O.strstart-F,O.strstart=F,$(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-W&&($(O,!1),O.strm.avail_out===0))return T}return O.insert=0,ue===f?($(O,!0),O.strm.avail_out===0?J:Y):(O.strstart>O.block_start&&($(O,!1),O.strm.avail_out),T)}),new ge(4,4,8,4,H),new ge(4,5,16,8,H),new ge(4,6,32,32,H),new ge(4,4,16,16,P),new ge(8,16,32,32,P),new ge(8,16,128,128,P),new ge(8,32,128,256,P),new ge(32,128,258,1024,P),new ge(32,258,258,4096,P)],s.deflateInit=function(O,ue){return Ce(O,ue,B,15,8,0)},s.deflateInit2=Ce,s.deflateReset=se,s.deflateResetKeep=Z,s.deflateSetHeader=function(O,ue){return O&&O.state?O.state.wrap!==2?g:(O.state.gzhead=ue,m):g},s.deflate=function(O,ue){var N,F,k,R;if(!O||!O.state||5<ue||ue<0)return O?oe(O,g):g;if(F=O.state,!O.output||!O.input&&O.avail_in!==0||F.status===666&&ue!==f)return oe(O,O.avail_out===0?-5:g);if(F.strm=O,N=F.last_flush,F.last_flush=ue,F.status===Q)if(F.wrap===2)O.adler=0,he(F,31),he(F,139),he(F,8),F.gzhead?(he(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),he(F,255&F.gzhead.time),he(F,F.gzhead.time>>8&255),he(F,F.gzhead.time>>16&255),he(F,F.gzhead.time>>24&255),he(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),he(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(he(F,255&F.gzhead.extra.length),he(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(O.adler=u(O.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(he(F,0),he(F,0),he(F,0),he(F,0),he(F,0),he(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),he(F,3),F.status=j);else{var Ae=B+(F.w_bits-8<<4)<<8;Ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(Ae|=32),Ae+=31-Ae%31,F.status=j,me(F,Ae),F.strstart!==0&&(me(F,O.adler>>>16),me(F,65535&O.adler)),O.adler=1}if(F.status===69)if(F.gzhead.extra){for(k=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),te(O),k=F.pending,F.pending!==F.pending_buf_size));)he(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){k=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),te(O),k=F.pending,F.pending===F.pending_buf_size)){R=1;break}R=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,he(F,R)}while(R!==0);F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),R===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){k=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),te(O),k=F.pending,F.pending===F.pending_buf_size)){R=1;break}R=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,he(F,R)}while(R!==0);F.gzhead.hcrc&&F.pending>k&&(O.adler=u(O.adler,F.pending_buf,F.pending-k,k)),R===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&te(O),F.pending+2<=F.pending_buf_size&&(he(F,255&O.adler),he(F,O.adler>>8&255),O.adler=0,F.status=j)):F.status=j),F.pending!==0){if(te(O),O.avail_out===0)return F.last_flush=-1,m}else if(O.avail_in===0&&re(ue)<=re(N)&&ue!==f)return oe(O,-5);if(F.status===666&&O.avail_in!==0)return oe(O,-5);if(O.avail_in!==0||F.lookahead!==0||ue!==c&&F.status!==666){var be=F.strategy===2?function(le,Te){for(var _e;;){if(le.lookahead===0&&(ce(le),le.lookahead===0)){if(Te===c)return T;break}if(le.match_length=0,_e=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,_e&&($(le,!1),le.strm.avail_out===0))return T}return le.insert=0,Te===f?($(le,!0),le.strm.avail_out===0?J:Y):le.last_lit&&($(le,!1),le.strm.avail_out===0)?T:V}(F,ue):F.strategy===3?function(le,Te){for(var _e,ve,Me,je,Ke=le.window;;){if(le.lookahead<=G){if(ce(le),le.lookahead<=G&&Te===c)return T;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=I&&0<le.strstart&&(ve=Ke[Me=le.strstart-1])===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]){je=le.strstart+G;do;while(ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&ve===Ke[++Me]&&Me<je);le.match_length=G-(je-Me),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=I?(_e=o._tr_tally(le,1,le.match_length-I),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(_e=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),_e&&($(le,!1),le.strm.avail_out===0))return T}return le.insert=0,Te===f?($(le,!0),le.strm.avail_out===0?J:Y):le.last_lit&&($(le,!1),le.strm.avail_out===0)?T:V}(F,ue):i[F.level].func(F,ue);if(be!==J&&be!==Y||(F.status=666),be===T||be===J)return O.avail_out===0&&(F.last_flush=-1),m;if(be===V&&(ue===1?o._tr_align(F):ue!==5&&(o._tr_stored_block(F,0,0,!1),ue===3&&(pe(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),te(O),O.avail_out===0))return F.last_flush=-1,m}return ue!==f?m:F.wrap<=0?1:(F.wrap===2?(he(F,255&O.adler),he(F,O.adler>>8&255),he(F,O.adler>>16&255),he(F,O.adler>>24&255),he(F,255&O.total_in),he(F,O.total_in>>8&255),he(F,O.total_in>>16&255),he(F,O.total_in>>24&255)):(me(F,O.adler>>>16),me(F,65535&O.adler)),te(O),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?m:1)},s.deflateEnd=function(O){var ue;return O&&O.state?(ue=O.state.status)!==Q&&ue!==69&&ue!==73&&ue!==91&&ue!==103&&ue!==j&&ue!==666?oe(O,g):(O.state=null,ue===j?oe(O,-3):m):g},s.deflateSetDictionary=function(O,ue){var N,F,k,R,Ae,be,le,Te,_e=ue.length;if(!O||!O.state||(R=(N=O.state).wrap)===2||R===1&&N.status!==Q||N.lookahead)return g;for(R===1&&(O.adler=A(O.adler,ue,_e,0)),N.wrap=0,_e>=N.w_size&&(R===0&&(pe(N.head),N.strstart=0,N.block_start=0,N.insert=0),Te=new a.Buf8(N.w_size),a.arraySet(Te,ue,_e-N.w_size,N.w_size,0),ue=Te,_e=N.w_size),Ae=O.avail_in,be=O.next_in,le=O.input,O.avail_in=_e,O.next_in=0,O.input=ue,ce(N);N.lookahead>=I;){for(F=N.strstart,k=N.lookahead-(I-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[F+I-1])&N.hash_mask,N.prev[F&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=F,F++,--k;);N.strstart=F,N.lookahead=I-1,ce(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=I-1,N.match_available=0,O.next_in=be,O.input=le,O.avail_in=Ae,N.wrap=R,m},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,a){var o,A,u,l,c,f,m,g,b,v,w,B,C,x,E,D,_,L,I,G,W,Q,j,T,V;o=i.state,A=i.next_in,T=i.input,u=A+(i.avail_in-5),l=i.next_out,V=i.output,c=l-(a-i.avail_out),f=l+(i.avail_out-257),m=o.dmax,g=o.wsize,b=o.whave,v=o.wnext,w=o.window,B=o.hold,C=o.bits,x=o.lencode,E=o.distcode,D=(1<<o.lenbits)-1,_=(1<<o.distbits)-1;e:do{C<15&&(B+=T[A++]<<C,C+=8,B+=T[A++]<<C,C+=8),L=x[B&D];t:for(;;){if(B>>>=I=L>>>24,C-=I,(I=L>>>16&255)===0)V[l++]=65535&L;else{if(!(16&I)){if((64&I)==0){L=x[(65535&L)+(B&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}G=65535&L,(I&=15)&&(C<I&&(B+=T[A++]<<C,C+=8),G+=B&(1<<I)-1,B>>>=I,C-=I),C<15&&(B+=T[A++]<<C,C+=8,B+=T[A++]<<C,C+=8),L=E[B&_];r:for(;;){if(B>>>=I=L>>>24,C-=I,!(16&(I=L>>>16&255))){if((64&I)==0){L=E[(65535&L)+(B&(1<<I)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(W=65535&L,C<(I&=15)&&(B+=T[A++]<<C,(C+=8)<I&&(B+=T[A++]<<C,C+=8)),m<(W+=B&(1<<I)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(B>>>=I,C-=I,(I=l-c)<W){if(b<(I=W-I)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(j=w,(Q=0)===v){if(Q+=g-I,I<G){for(G-=I;V[l++]=w[Q++],--I;);Q=l-W,j=V}}else if(v<I){if(Q+=g+v-I,(I-=v)<G){for(G-=I;V[l++]=w[Q++],--I;);if(Q=0,v<G){for(G-=I=v;V[l++]=w[Q++],--I;);Q=l-W,j=V}}}else if(Q+=v-I,I<G){for(G-=I;V[l++]=w[Q++],--I;);Q=l-W,j=V}for(;2<G;)V[l++]=j[Q++],V[l++]=j[Q++],V[l++]=j[Q++],G-=3;G&&(V[l++]=j[Q++],1<G&&(V[l++]=j[Q++]))}else{for(Q=l-W;V[l++]=V[Q++],V[l++]=V[Q++],V[l++]=V[Q++],2<(G-=3););G&&(V[l++]=V[Q++],1<G&&(V[l++]=V[Q++]))}break}}break}}while(A<u&&l<f);A-=G=C>>3,B&=(1<<(C-=G<<3))-1,i.next_in=A,i.next_out=l,i.avail_in=A<u?u-A+5:5-(A-u),i.avail_out=l<f?f-l+257:257-(l-f),o.hold=B,o.bits=C}},{}],49:[function(r,n,s){var i=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),A=r("./inffast"),u=r("./inftrees"),l=1,c=2,f=0,m=-2,g=1,b=852,v=592;function w(Q){return(Q>>>24&255)+(Q>>>8&65280)+((65280&Q)<<8)+((255&Q)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(Q){var j;return Q&&Q.state?(j=Q.state,Q.total_in=Q.total_out=j.total=0,Q.msg="",j.wrap&&(Q.adler=1&j.wrap),j.mode=g,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new i.Buf32(b),j.distcode=j.distdyn=new i.Buf32(v),j.sane=1,j.back=-1,f):m}function x(Q){var j;return Q&&Q.state?((j=Q.state).wsize=0,j.whave=0,j.wnext=0,C(Q)):m}function E(Q,j){var T,V;return Q&&Q.state?(V=Q.state,j<0?(T=0,j=-j):(T=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?m:(V.window!==null&&V.wbits!==j&&(V.window=null),V.wrap=T,V.wbits=j,x(Q))):m}function D(Q,j){var T,V;return Q?(V=new B,(Q.state=V).window=null,(T=E(Q,j))!==f&&(Q.state=null),T):m}var _,L,I=!0;function G(Q){if(I){var j;for(_=new i.Buf32(512),L=new i.Buf32(32),j=0;j<144;)Q.lens[j++]=8;for(;j<256;)Q.lens[j++]=9;for(;j<280;)Q.lens[j++]=7;for(;j<288;)Q.lens[j++]=8;for(u(l,Q.lens,0,288,_,0,Q.work,{bits:9}),j=0;j<32;)Q.lens[j++]=5;u(c,Q.lens,0,32,L,0,Q.work,{bits:5}),I=!1}Q.lencode=_,Q.lenbits=9,Q.distcode=L,Q.distbits=5}function W(Q,j,T,V){var J,Y=Q.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new i.Buf8(Y.wsize)),V>=Y.wsize?(i.arraySet(Y.window,j,T-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(V<(J=Y.wsize-Y.wnext)&&(J=V),i.arraySet(Y.window,j,T-V,J,Y.wnext),(V-=J)?(i.arraySet(Y.window,j,T-V,V,0),Y.wnext=V,Y.whave=Y.wsize):(Y.wnext+=J,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=J))),0}s.inflateReset=x,s.inflateReset2=E,s.inflateResetKeep=C,s.inflateInit=function(Q){return D(Q,15)},s.inflateInit2=D,s.inflate=function(Q,j){var T,V,J,Y,oe,re,pe,te,$,he,me,ye,ce,H,P,ge,ie,Z,se,Ce,O,ue,N,F,k=0,R=new i.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return m;(T=Q.state).mode===12&&(T.mode=13),oe=Q.next_out,J=Q.output,pe=Q.avail_out,Y=Q.next_in,V=Q.input,re=Q.avail_in,te=T.hold,$=T.bits,he=re,me=pe,ue=f;e:for(;;)switch(T.mode){case g:if(T.wrap===0){T.mode=13;break}for(;$<16;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(2&T.wrap&&te===35615){R[T.check=0]=255&te,R[1]=te>>>8&255,T.check=o(T.check,R,2,0),$=te=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&te)<<8)+(te>>8))%31){Q.msg="incorrect header check",T.mode=30;break}if((15&te)!=8){Q.msg="unknown compression method",T.mode=30;break}if($-=4,O=8+(15&(te>>>=4)),T.wbits===0)T.wbits=O;else if(O>T.wbits){Q.msg="invalid window size",T.mode=30;break}T.dmax=1<<O,Q.adler=T.check=1,T.mode=512&te?10:12,$=te=0;break;case 2:for(;$<16;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(T.flags=te,(255&T.flags)!=8){Q.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){Q.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=te>>8&1),512&T.flags&&(R[0]=255&te,R[1]=te>>>8&255,T.check=o(T.check,R,2,0)),$=te=0,T.mode=3;case 3:for(;$<32;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.head&&(T.head.time=te),512&T.flags&&(R[0]=255&te,R[1]=te>>>8&255,R[2]=te>>>16&255,R[3]=te>>>24&255,T.check=o(T.check,R,4,0)),$=te=0,T.mode=4;case 4:for(;$<16;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.head&&(T.head.xflags=255&te,T.head.os=te>>8),512&T.flags&&(R[0]=255&te,R[1]=te>>>8&255,T.check=o(T.check,R,2,0)),$=te=0,T.mode=5;case 5:if(1024&T.flags){for(;$<16;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.length=te,T.head&&(T.head.extra_len=te),512&T.flags&&(R[0]=255&te,R[1]=te>>>8&255,T.check=o(T.check,R,2,0)),$=te=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(re<(ye=T.length)&&(ye=re),ye&&(T.head&&(O=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),i.arraySet(T.head.extra,V,Y,ye,O)),512&T.flags&&(T.check=o(T.check,V,ye,Y)),re-=ye,Y+=ye,T.length-=ye),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(re===0)break e;for(ye=0;O=V[Y+ye++],T.head&&O&&T.length<65536&&(T.head.name+=String.fromCharCode(O)),O&&ye<re;);if(512&T.flags&&(T.check=o(T.check,V,ye,Y)),re-=ye,Y+=ye,O)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(re===0)break e;for(ye=0;O=V[Y+ye++],T.head&&O&&T.length<65536&&(T.head.comment+=String.fromCharCode(O)),O&&ye<re;);if(512&T.flags&&(T.check=o(T.check,V,ye,Y)),re-=ye,Y+=ye,O)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;$<16;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(te!==(65535&T.check)){Q.msg="header crc mismatch",T.mode=30;break}$=te=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),Q.adler=T.check=0,T.mode=12;break;case 10:for(;$<32;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}Q.adler=T.check=w(te),$=te=0,T.mode=11;case 11:if(T.havedict===0)return Q.next_out=oe,Q.avail_out=pe,Q.next_in=Y,Q.avail_in=re,T.hold=te,T.bits=$,2;Q.adler=T.check=1,T.mode=12;case 12:if(j===5||j===6)break e;case 13:if(T.last){te>>>=7&$,$-=7&$,T.mode=27;break}for(;$<3;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}switch(T.last=1&te,$-=1,3&(te>>>=1)){case 0:T.mode=14;break;case 1:if(G(T),T.mode=20,j!==6)break;te>>>=2,$-=2;break e;case 2:T.mode=17;break;case 3:Q.msg="invalid block type",T.mode=30}te>>>=2,$-=2;break;case 14:for(te>>>=7&$,$-=7&$;$<32;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if((65535&te)!=(te>>>16^65535)){Q.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&te,$=te=0,T.mode=15,j===6)break e;case 15:T.mode=16;case 16:if(ye=T.length){if(re<ye&&(ye=re),pe<ye&&(ye=pe),ye===0)break e;i.arraySet(J,V,Y,ye,oe),re-=ye,Y+=ye,pe-=ye,oe+=ye,T.length-=ye;break}T.mode=12;break;case 17:for(;$<14;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(T.nlen=257+(31&te),te>>>=5,$-=5,T.ndist=1+(31&te),te>>>=5,$-=5,T.ncode=4+(15&te),te>>>=4,$-=4,286<T.nlen||30<T.ndist){Q.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;$<3;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.lens[Ae[T.have++]]=7&te,te>>>=3,$-=3}for(;T.have<19;)T.lens[Ae[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,N={bits:T.lenbits},ue=u(0,T.lens,0,19,T.lencode,0,T.work,N),T.lenbits=N.bits,ue){Q.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ge=(k=T.lencode[te&(1<<T.lenbits)-1])>>>16&255,ie=65535&k,!((P=k>>>24)<=$);){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(ie<16)te>>>=P,$-=P,T.lens[T.have++]=ie;else{if(ie===16){for(F=P+2;$<F;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(te>>>=P,$-=P,T.have===0){Q.msg="invalid bit length repeat",T.mode=30;break}O=T.lens[T.have-1],ye=3+(3&te),te>>>=2,$-=2}else if(ie===17){for(F=P+3;$<F;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}$-=P,O=0,ye=3+(7&(te>>>=P)),te>>>=3,$-=3}else{for(F=P+7;$<F;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}$-=P,O=0,ye=11+(127&(te>>>=P)),te>>>=7,$-=7}if(T.have+ye>T.nlen+T.ndist){Q.msg="invalid bit length repeat",T.mode=30;break}for(;ye--;)T.lens[T.have++]=O}}if(T.mode===30)break;if(T.lens[256]===0){Q.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,N={bits:T.lenbits},ue=u(l,T.lens,0,T.nlen,T.lencode,0,T.work,N),T.lenbits=N.bits,ue){Q.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,N={bits:T.distbits},ue=u(c,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,N),T.distbits=N.bits,ue){Q.msg="invalid distances set",T.mode=30;break}if(T.mode=20,j===6)break e;case 20:T.mode=21;case 21:if(6<=re&&258<=pe){Q.next_out=oe,Q.avail_out=pe,Q.next_in=Y,Q.avail_in=re,T.hold=te,T.bits=$,A(Q,me),oe=Q.next_out,J=Q.output,pe=Q.avail_out,Y=Q.next_in,V=Q.input,re=Q.avail_in,te=T.hold,$=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ge=(k=T.lencode[te&(1<<T.lenbits)-1])>>>16&255,ie=65535&k,!((P=k>>>24)<=$);){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(ge&&(240&ge)==0){for(Z=P,se=ge,Ce=ie;ge=(k=T.lencode[Ce+((te&(1<<Z+se)-1)>>Z)])>>>16&255,ie=65535&k,!(Z+(P=k>>>24)<=$);){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}te>>>=Z,$-=Z,T.back+=Z}if(te>>>=P,$-=P,T.back+=P,T.length=ie,ge===0){T.mode=26;break}if(32&ge){T.back=-1,T.mode=12;break}if(64&ge){Q.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ge,T.mode=22;case 22:if(T.extra){for(F=T.extra;$<F;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.length+=te&(1<<T.extra)-1,te>>>=T.extra,$-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ge=(k=T.distcode[te&(1<<T.distbits)-1])>>>16&255,ie=65535&k,!((P=k>>>24)<=$);){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if((240&ge)==0){for(Z=P,se=ge,Ce=ie;ge=(k=T.distcode[Ce+((te&(1<<Z+se)-1)>>Z)])>>>16&255,ie=65535&k,!(Z+(P=k>>>24)<=$);){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}te>>>=Z,$-=Z,T.back+=Z}if(te>>>=P,$-=P,T.back+=P,64&ge){Q.msg="invalid distance code",T.mode=30;break}T.offset=ie,T.extra=15&ge,T.mode=24;case 24:if(T.extra){for(F=T.extra;$<F;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}T.offset+=te&(1<<T.extra)-1,te>>>=T.extra,$-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){Q.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(pe===0)break e;if(ye=me-pe,T.offset>ye){if((ye=T.offset-ye)>T.whave&&T.sane){Q.msg="invalid distance too far back",T.mode=30;break}ce=ye>T.wnext?(ye-=T.wnext,T.wsize-ye):T.wnext-ye,ye>T.length&&(ye=T.length),H=T.window}else H=J,ce=oe-T.offset,ye=T.length;for(pe<ye&&(ye=pe),pe-=ye,T.length-=ye;J[oe++]=H[ce++],--ye;);T.length===0&&(T.mode=21);break;case 26:if(pe===0)break e;J[oe++]=T.length,pe--,T.mode=21;break;case 27:if(T.wrap){for(;$<32;){if(re===0)break e;re--,te|=V[Y++]<<$,$+=8}if(me-=pe,Q.total_out+=me,T.total+=me,me&&(Q.adler=T.check=T.flags?o(T.check,J,me,oe-me):a(T.check,J,me,oe-me)),me=pe,(T.flags?te:w(te))!==T.check){Q.msg="incorrect data check",T.mode=30;break}$=te=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;$<32;){if(re===0)break e;re--,te+=V[Y++]<<$,$+=8}if(te!==(4294967295&T.total)){Q.msg="incorrect length check",T.mode=30;break}$=te=0}T.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return m}return Q.next_out=oe,Q.avail_out=pe,Q.next_in=Y,Q.avail_in=re,T.hold=te,T.bits=$,(T.wsize||me!==Q.avail_out&&T.mode<30&&(T.mode<27||j!==4))&&W(Q,Q.output,Q.next_out,me-Q.avail_out)?(T.mode=31,-4):(he-=Q.avail_in,me-=Q.avail_out,Q.total_in+=he,Q.total_out+=me,T.total+=me,T.wrap&&me&&(Q.adler=T.check=T.flags?o(T.check,J,me,Q.next_out-me):a(T.check,J,me,Q.next_out-me)),Q.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(he==0&&me===0||j===4)&&ue===f&&(ue=-5),ue)},s.inflateEnd=function(Q){if(!Q||!Q.state)return m;var j=Q.state;return j.window&&(j.window=null),Q.state=null,f},s.inflateGetHeader=function(Q,j){var T;return Q&&Q.state?(2&(T=Q.state).wrap)==0?m:((T.head=j).done=!1,f):m},s.inflateSetDictionary=function(Q,j){var T,V=j.length;return Q&&Q.state?(T=Q.state).wrap!==0&&T.mode!==11?m:T.mode===11&&a(1,j,V,0)!==T.check?-3:W(Q,j,V,V)?(T.mode=31,-4):(T.havedict=1,f):m},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(l,c,f,m,g,b,v,w){var B,C,x,E,D,_,L,I,G,W=w.bits,Q=0,j=0,T=0,V=0,J=0,Y=0,oe=0,re=0,pe=0,te=0,$=null,he=0,me=new i.Buf16(16),ye=new i.Buf16(16),ce=null,H=0;for(Q=0;Q<=15;Q++)me[Q]=0;for(j=0;j<m;j++)me[c[f+j]]++;for(J=W,V=15;1<=V&&me[V]===0;V--);if(V<J&&(J=V),V===0)return g[b++]=20971520,g[b++]=20971520,w.bits=1,0;for(T=1;T<V&&me[T]===0;T++);for(J<T&&(J=T),Q=re=1;Q<=15;Q++)if(re<<=1,(re-=me[Q])<0)return-1;if(0<re&&(l===0||V!==1))return-1;for(ye[1]=0,Q=1;Q<15;Q++)ye[Q+1]=ye[Q]+me[Q];for(j=0;j<m;j++)c[f+j]!==0&&(v[ye[c[f+j]]++]=j);if(_=l===0?($=ce=v,19):l===1?($=a,he-=257,ce=o,H-=257,256):($=A,ce=u,-1),Q=T,D=b,oe=j=te=0,x=-1,E=(pe=1<<(Y=J))-1,l===1&&852<pe||l===2&&592<pe)return 1;for(;;){for(L=Q-oe,G=v[j]<_?(I=0,v[j]):v[j]>_?(I=ce[H+v[j]],$[he+v[j]]):(I=96,0),B=1<<Q-oe,T=C=1<<Y;g[D+(te>>oe)+(C-=B)]=L<<24|I<<16|G|0,C!==0;);for(B=1<<Q-1;te&B;)B>>=1;if(B!==0?(te&=B-1,te+=B):te=0,j++,--me[Q]==0){if(Q===V)break;Q=c[f+v[j]]}if(J<Q&&(te&E)!==x){for(oe===0&&(oe=J),D+=T,re=1<<(Y=Q-oe);Y+oe<V&&!((re-=me[Y+oe])<=0);)Y++,re<<=1;if(pe+=1<<Y,l===1&&852<pe||l===2&&592<pe)return 1;g[x=te&E]=J<<24|Y<<16|D-b|0}}return te!==0&&(g[D+te]=Q-oe<<24|64<<16|0),w.bits=J,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),a=0,o=1;function A(k){for(var R=k.length;0<=--R;)k[R]=0}var u=0,l=29,c=256,f=c+1+l,m=30,g=19,b=2*f+1,v=15,w=16,B=7,C=256,x=16,E=17,D=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(f+2));A(W);var Q=new Array(2*m);A(Q);var j=new Array(512);A(j);var T=new Array(256);A(T);var V=new Array(l);A(V);var J,Y,oe,re=new Array(m);function pe(k,R,Ae,be,le){this.static_tree=k,this.extra_bits=R,this.extra_base=Ae,this.elems=be,this.max_length=le,this.has_stree=k&&k.length}function te(k,R){this.dyn_tree=k,this.max_code=0,this.stat_desc=R}function $(k){return k<256?j[k]:j[256+(k>>>7)]}function he(k,R){k.pending_buf[k.pending++]=255&R,k.pending_buf[k.pending++]=R>>>8&255}function me(k,R,Ae){k.bi_valid>w-Ae?(k.bi_buf|=R<<k.bi_valid&65535,he(k,k.bi_buf),k.bi_buf=R>>w-k.bi_valid,k.bi_valid+=Ae-w):(k.bi_buf|=R<<k.bi_valid&65535,k.bi_valid+=Ae)}function ye(k,R,Ae){me(k,Ae[2*R],Ae[2*R+1])}function ce(k,R){for(var Ae=0;Ae|=1&k,k>>>=1,Ae<<=1,0<--R;);return Ae>>>1}function H(k,R,Ae){var be,le,Te=new Array(v+1),_e=0;for(be=1;be<=v;be++)Te[be]=_e=_e+Ae[be-1]<<1;for(le=0;le<=R;le++){var ve=k[2*le+1];ve!==0&&(k[2*le]=ce(Te[ve]++,ve))}}function P(k){var R;for(R=0;R<f;R++)k.dyn_ltree[2*R]=0;for(R=0;R<m;R++)k.dyn_dtree[2*R]=0;for(R=0;R<g;R++)k.bl_tree[2*R]=0;k.dyn_ltree[2*C]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ge(k){8<k.bi_valid?he(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function ie(k,R,Ae,be){var le=2*R,Te=2*Ae;return k[le]<k[Te]||k[le]===k[Te]&&be[R]<=be[Ae]}function Z(k,R,Ae){for(var be=k.heap[Ae],le=Ae<<1;le<=k.heap_len&&(le<k.heap_len&&ie(R,k.heap[le+1],k.heap[le],k.depth)&&le++,!ie(R,be,k.heap[le],k.depth));)k.heap[Ae]=k.heap[le],Ae=le,le<<=1;k.heap[Ae]=be}function se(k,R,Ae){var be,le,Te,_e,ve=0;if(k.last_lit!==0)for(;be=k.pending_buf[k.d_buf+2*ve]<<8|k.pending_buf[k.d_buf+2*ve+1],le=k.pending_buf[k.l_buf+ve],ve++,be===0?ye(k,le,R):(ye(k,(Te=T[le])+c+1,R),(_e=_[Te])!==0&&me(k,le-=V[Te],_e),ye(k,Te=$(--be),Ae),(_e=L[Te])!==0&&me(k,be-=re[Te],_e)),ve<k.last_lit;);ye(k,C,R)}function Ce(k,R){var Ae,be,le,Te=R.dyn_tree,_e=R.stat_desc.static_tree,ve=R.stat_desc.has_stree,Me=R.stat_desc.elems,je=-1;for(k.heap_len=0,k.heap_max=b,Ae=0;Ae<Me;Ae++)Te[2*Ae]!==0?(k.heap[++k.heap_len]=je=Ae,k.depth[Ae]=0):Te[2*Ae+1]=0;for(;k.heap_len<2;)Te[2*(le=k.heap[++k.heap_len]=je<2?++je:0)]=1,k.depth[le]=0,k.opt_len--,ve&&(k.static_len-=_e[2*le+1]);for(R.max_code=je,Ae=k.heap_len>>1;1<=Ae;Ae--)Z(k,Te,Ae);for(le=Me;Ae=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Z(k,Te,1),be=k.heap[1],k.heap[--k.heap_max]=Ae,k.heap[--k.heap_max]=be,Te[2*le]=Te[2*Ae]+Te[2*be],k.depth[le]=(k.depth[Ae]>=k.depth[be]?k.depth[Ae]:k.depth[be])+1,Te[2*Ae+1]=Te[2*be+1]=le,k.heap[1]=le++,Z(k,Te,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(Ke,At){var It,Lr,Ts,Pt,_t,ze,gr=At.dyn_tree,Ni=At.max_code,Ta=At.stat_desc.static_tree,Io=At.stat_desc.has_stree,Fa=At.stat_desc.extra_bits,Yn=At.stat_desc.extra_base,On=At.stat_desc.max_length,oi=0;for(Pt=0;Pt<=v;Pt++)Ke.bl_count[Pt]=0;for(gr[2*Ke.heap[Ke.heap_max]+1]=0,It=Ke.heap_max+1;It<b;It++)On<(Pt=gr[2*gr[2*(Lr=Ke.heap[It])+1]+1]+1)&&(Pt=On,oi++),gr[2*Lr+1]=Pt,Ni<Lr||(Ke.bl_count[Pt]++,_t=0,Yn<=Lr&&(_t=Fa[Lr-Yn]),ze=gr[2*Lr],Ke.opt_len+=ze*(Pt+_t),Io&&(Ke.static_len+=ze*(Ta[2*Lr+1]+_t)));if(oi!==0){do{for(Pt=On-1;Ke.bl_count[Pt]===0;)Pt--;Ke.bl_count[Pt]--,Ke.bl_count[Pt+1]+=2,Ke.bl_count[On]--,oi-=2}while(0<oi);for(Pt=On;Pt!==0;Pt--)for(Lr=Ke.bl_count[Pt];Lr!==0;)Ni<(Ts=Ke.heap[--It])||(gr[2*Ts+1]!==Pt&&(Ke.opt_len+=(Pt-gr[2*Ts+1])*gr[2*Ts],gr[2*Ts+1]=Pt),Lr--)}}(k,R),H(Te,je,k.bl_count)}function O(k,R,Ae){var be,le,Te=-1,_e=R[1],ve=0,Me=7,je=4;for(_e===0&&(Me=138,je=3),R[2*(Ae+1)+1]=65535,be=0;be<=Ae;be++)le=_e,_e=R[2*(be+1)+1],++ve<Me&&le===_e||(ve<je?k.bl_tree[2*le]+=ve:le!==0?(le!==Te&&k.bl_tree[2*le]++,k.bl_tree[2*x]++):ve<=10?k.bl_tree[2*E]++:k.bl_tree[2*D]++,Te=le,je=(ve=0)===_e?(Me=138,3):le===_e?(Me=6,3):(Me=7,4))}function ue(k,R,Ae){var be,le,Te=-1,_e=R[1],ve=0,Me=7,je=4;for(_e===0&&(Me=138,je=3),be=0;be<=Ae;be++)if(le=_e,_e=R[2*(be+1)+1],!(++ve<Me&&le===_e)){if(ve<je)for(;ye(k,le,k.bl_tree),--ve!=0;);else le!==0?(le!==Te&&(ye(k,le,k.bl_tree),ve--),ye(k,x,k.bl_tree),me(k,ve-3,2)):ve<=10?(ye(k,E,k.bl_tree),me(k,ve-3,3)):(ye(k,D,k.bl_tree),me(k,ve-11,7));Te=le,je=(ve=0)===_e?(Me=138,3):le===_e?(Me=6,3):(Me=7,4)}}A(re);var N=!1;function F(k,R,Ae,be){me(k,(u<<1)+(be?1:0),3),function(le,Te,_e,ve){ge(le),he(le,_e),he(le,~_e),i.arraySet(le.pending_buf,le.window,Te,_e,le.pending),le.pending+=_e}(k,R,Ae)}s._tr_init=function(k){N||(function(){var R,Ae,be,le,Te,_e=new Array(v+1);for(le=be=0;le<l-1;le++)for(V[le]=be,R=0;R<1<<_[le];R++)T[be++]=le;for(T[be-1]=le,le=Te=0;le<16;le++)for(re[le]=Te,R=0;R<1<<L[le];R++)j[Te++]=le;for(Te>>=7;le<m;le++)for(re[le]=Te<<7,R=0;R<1<<L[le]-7;R++)j[256+Te++]=le;for(Ae=0;Ae<=v;Ae++)_e[Ae]=0;for(R=0;R<=143;)W[2*R+1]=8,R++,_e[8]++;for(;R<=255;)W[2*R+1]=9,R++,_e[9]++;for(;R<=279;)W[2*R+1]=7,R++,_e[7]++;for(;R<=287;)W[2*R+1]=8,R++,_e[8]++;for(H(W,f+1,_e),R=0;R<m;R++)Q[2*R+1]=5,Q[2*R]=ce(R,5);J=new pe(W,_,c+1,f,v),Y=new pe(Q,L,0,m,v),oe=new pe(new Array(0),I,0,g,B)}(),N=!0),k.l_desc=new te(k.dyn_ltree,J),k.d_desc=new te(k.dyn_dtree,Y),k.bl_desc=new te(k.bl_tree,oe),k.bi_buf=0,k.bi_valid=0,P(k)},s._tr_stored_block=F,s._tr_flush_block=function(k,R,Ae,be){var le,Te,_e=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(ve){var Me,je=4093624447;for(Me=0;Me<=31;Me++,je>>>=1)if(1&je&&ve.dyn_ltree[2*Me]!==0)return a;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return o;for(Me=32;Me<c;Me++)if(ve.dyn_ltree[2*Me]!==0)return o;return a}(k)),Ce(k,k.l_desc),Ce(k,k.d_desc),_e=function(ve){var Me;for(O(ve,ve.dyn_ltree,ve.l_desc.max_code),O(ve,ve.dyn_dtree,ve.d_desc.max_code),Ce(ve,ve.bl_desc),Me=g-1;3<=Me&&ve.bl_tree[2*G[Me]+1]===0;Me--);return ve.opt_len+=3*(Me+1)+5+5+4,Me}(k),le=k.opt_len+3+7>>>3,(Te=k.static_len+3+7>>>3)<=le&&(le=Te)):le=Te=Ae+5,Ae+4<=le&&R!==-1?F(k,R,Ae,be):k.strategy===4||Te===le?(me(k,2+(be?1:0),3),se(k,W,Q)):(me(k,4+(be?1:0),3),function(ve,Me,je,Ke){var At;for(me(ve,Me-257,5),me(ve,je-1,5),me(ve,Ke-4,4),At=0;At<Ke;At++)me(ve,ve.bl_tree[2*G[At]+1],3);ue(ve,ve.dyn_ltree,Me-1),ue(ve,ve.dyn_dtree,je-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,_e+1),se(k,k.dyn_ltree,k.dyn_dtree)),P(k),be&&ge(k)},s._tr_tally=function(k,R,Ae){return k.pending_buf[k.d_buf+2*k.last_lit]=R>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&R,k.pending_buf[k.l_buf+k.last_lit]=255&Ae,k.last_lit++,R===0?k.dyn_ltree[2*Ae]++:(k.matches++,R--,k.dyn_ltree[2*(T[Ae]+c+1)]++,k.dyn_dtree[2*$(R)]++),k.last_lit===k.lit_bufsize-1},s._tr_align=function(k){me(k,2,3),ye(k,C,W),function(R){R.bi_valid===16?(he(R,R.bi_buf),R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=255&R.bi_buf,R.bi_buf>>=8,R.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(a,o){if(!a.setImmediate){var A,u,l,c,f=1,m={},g=!1,b=a.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(a);v=v&&v.setTimeout?v:a,A={}.toString.call(a.process)==="[object process]"?function(x){ht.nextTick(function(){B(x)})}:function(){if(a.postMessage&&!a.importScripts){var x=!0,E=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=E,x}}()?(c="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(x){a.postMessage(c+x,"*")}):a.MessageChannel?((l=new MessageChannel).port1.onmessage=function(x){B(x.data)},function(x){l.port2.postMessage(x)}):b&&"onreadystatechange"in b.createElement("script")?(u=b.documentElement,function(x){var E=b.createElement("script");E.onreadystatechange=function(){B(x),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(x){setTimeout(B,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),D=0;D<E.length;D++)E[D]=arguments[D+1];var _={callback:x,args:E};return m[f]=_,A(f),f++},v.clearImmediate=w}function w(x){delete m[x]}function B(x){if(g)setTimeout(B,0,x);else{var E=m[x];if(E){g=!0;try{(function(D){var _=D.callback,L=D.args;switch(L.length){case 0:_();break;case 1:_(L[0]);break;case 2:_(L[0],L[1]);break;case 3:_(L[0],L[1],L[2]);break;default:_.apply(o,L)}})(E)}finally{w(x),g=!1}}}}function C(x){x.source===a&&typeof x.data=="string"&&x.data.indexOf(c)===0&&B(+x.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof bs<"u"?bs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ff)),ff.exports}var yN=wN();const xN=fv(yN);var Xo={exports:{}},pf,$4;function vN(){if($4)return pf;$4=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,s){return t[s]}):r}return pf=e,pf}var X4;function BN(){if(X4)return Xo.exports;X4=1;var t=vN(),e=Eg().Stream,r="    ";function n(u,l){typeof l!="object"&&(l={indent:l});var c=l.stream?new e:null,f="",m=!1,g=l.indent?l.indent===!0?r:l.indent:"",b=!0;function v(E){b?ht.nextTick(E):E()}function w(E,D){if(D!==void 0&&(f+=D),E&&!m&&(c=c||new e,m=!0),E&&m){var _=f;v(function(){c.emit("data",_)}),f=""}}function B(E,D){o(w,a(E,g,g?1:0),D)}function C(){if(c){var E=f;v(function(){c.emit("data",E),c.emit("end"),c.readable=!1,c.emit("close")})}}function x(E){var D=E.encoding||"UTF-8",_={version:"1.0",encoding:D};E.standalone&&(_.standalone=E.standalone),B({"?xml":{_attr:_}}),f=f.replace("/>","?>")}return v(function(){b=!1}),l.declaration&&x(l.declaration),u&&u.forEach?u.forEach(function(E,D){var _;D+1===u.length&&(_=C),B(E,_)}):B(u,C),c?(c.readable=!0,c):f}function s(){var u=Array.prototype.slice.call(arguments),l={_elem:a(u)};return l.push=function(c){if(!this.append)throw new Error("not assigned to a parent!");var f=this,m=this._elem.indent;o(this.append,a(c,m,this._elem.icount+(m?1:0)),function(){f.append(!0)})},l.close=function(c){c!==void 0&&this.push(c),this.end&&this.end()},l}function i(u,l){return new Array(l||0).join(u||"")}function a(u,l,c){c=c||0;var f=i(l,c),m,g=u,b=!1;if(typeof u=="object"){var v=Object.keys(u);if(m=v[0],g=u[m],g&&g._elem)return g._elem.name=m,g._elem.icount=c,g._elem.indent=l,g._elem.indents=f,g._elem.interrupt=g,g._elem}var w=[],B=[],C;function x(E){var D=Object.keys(E);D.forEach(function(_){w.push(A(_,E[_]))})}switch(typeof g){case"object":if(g===null)break;g._attr&&x(g._attr),g._cdata&&B.push(("<![CDATA["+g._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),g.forEach&&(C=!1,B.push(""),g.forEach(function(E){if(typeof E=="object"){var D=Object.keys(E)[0];D=="_attr"?x(E._attr):B.push(a(E,l,c+1))}else B.pop(),C=!0,B.push(t(E))}),C||B.push(""));break;default:B.push(t(g))}return{name:m,interrupt:b,attributes:w,content:B,icount:c,indents:f,indent:l}}function o(u,l,c){if(typeof l!="object")return u(!1,l);var f=l.interrupt?1:l.content.length;function m(){for(;l.content.length;){var b=l.content.shift();if(b!==void 0){if(g(b))return;o(u,b)}}u(!1,(f>1?l.indents:"")+(l.name?"</"+l.name+">":"")+(l.indent&&!c?`
`:"")),c&&c()}function g(b){return b.interrupt?(b.interrupt.append=u,b.interrupt.end=m,b.interrupt=!1,u(!0),!0):!1}if(u(!1,l.indents+(l.name?"<"+l.name:"")+(l.attributes.length?" "+l.attributes.join(" "):"")+(f?l.name?">":"":l.name?"/>":"")+(l.indent&&f>1?`
`:"")),!f)return u(!1,l.indent?`
`:"");g(l)||m()}function A(u,l){return u+'="'+t(l)+'"'}return Xo.exports=n,Xo.exports.element=Xo.exports.Element=s,Xo.exports}var CN=BN();const rr=fv(CN),Yo=0,gf=32,EN=32,SN=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==EN)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const s=r.replace(/(..)/g,"$1 ").trim().split(" ").map(A=>parseInt(A,16));s.reverse();const a=t.slice(Yo,gf).map((A,u)=>A^s[u%s.length]),o=new Uint8Array(Yo+a.length+Math.max(0,t.length-gf));return o.set(t.slice(0,Yo)),o.set(a,Yo),o.set(t.slice(gf),Yo+a.length),o};class TN{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class FN{replace(e,r,n){let s=e;return r.forEach((i,a)=>{s=s.replace(new RegExp(`{${i.fileName}}`,"g"),(n+a).toString())}),s}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class DN{replace(e,r){let n=e;for(const s of r)n=n.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return n}}class kN{constructor(){Qe(this,"formatter"),Qe(this,"imageReplacer"),Qe(this,"numberingReplacer"),this.formatter=new TN,this.imageReplacer=new FN,this.numberingReplacer=new DN}compile(e,r,n=[]){const s=new xN,i=this.xmlifyFile(e,r),a=new Map(Object.entries(i));for(const[,o]of a)if(Array.isArray(o))for(const A of o)s.file(A.path,A.data);else s.file(o.path,o.data);for(const o of n)s.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?s.file(`word/media/${o.fileName}`,o.data):(s.file(`word/media/${o.fileName}`,o.data),s.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:A,fontKey:u}of e.FontTable.fontOptionsWithKey){const[l]=A.split(".");s.file(`word/fonts/${l}.odttf`,SN(o,u))}return s}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,s=rr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),i=e.Comments.Relationships.RelationshipCount+1,a=rr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(s,e.Media),A=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((u,l)=>{e.Document.Relationships.createRelationship(n+l,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),rr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(s,o,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=rr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:rr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:rr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:rr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,l)=>{const c=rr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((m,g)=>{u.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:rr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${l+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,l)=>{const c=rr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((m,g)=>{u.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:rr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${l+1}.xml.rels`}}),Headers:e.Headers.map((u,l)=>{const c=rr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(c,e.Media),m=this.imageReplacer.replace(c,f,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${l+1}.xml`}}),Footers:e.Footers.map((u,l)=>{const c=rr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(c,e.Media),m=this.imageReplacer.replace(c,f,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${l+1}.xml`}}),ContentTypes:{data:rr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:rr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:rr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:rr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:rr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:rr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(a,A,i);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(A.forEach((u,l)=>{e.Comments.Relationships.createRelationship(i+l,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),rr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:rr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:rr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const IN={WITH_2_BLANKS:"  "},Y4=t=>t===!0?IN.WITH_2_BLANKS:t===!1?void 0:t,Yv=class Ya{static pack(e,r,n){return sM(this,arguments,function*(s,i,a,o=[]){return this.compiler.compile(s,Y4(a),o).generateAsync({type:i,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Ya.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Ya.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Ya.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Ya.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Ya.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const s=new bN.Stream;return this.compiler.compile(e,Y4(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{s.emit("data",a),s.emit("end")}),s}};Qe(Yv,"compiler",new kN);let _N=Yv;var ec={exports:{}},UN=ec.exports,J4;function MN(){return J4||(J4=1,function(t,e){(function(r,n){n()})(UN,function(){function r(u,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,l,c){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){A(f.response,l,c)},f.onerror=function(){console.error("could not download file")},f.send()}function s(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ja=="object"&&Ja.global===Ja?Ja:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,l,c){var f=a.URL||a.webkitURL,m=document.createElement("a");l=l||u.name||"download",m.download=l,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?i(m):s(m.href)?n(u,l,c):i(m,m.target="_blank")):(m.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(m.href)},4e4),setTimeout(function(){i(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,c){if(l=l||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,c),l);else if(s(u))n(u,l,c);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){i(f)})}}:function(u,l,c,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return n(u,l,c);var m=u.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||m&&g||o)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var C=v.result;C=b?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=C:location=C,f=null},v.readAsDataURL(u)}else{var w=a.URL||a.webkitURL,B=w.createObjectURL(u);f?f.location=B:location.href=B,f=null,setTimeout(function(){w.revokeObjectURL(B)},4e4)}});a.saveAs=A.saveAs=A,t.exports=A})}(ec)),ec.exports}var QN=MN();async function Jv(t){const e=_n(t);return e&&e.substring(0,50).replace(/\n/g," ").trim()||"Untitled"}function Zv(t,e=!1,r=!0){const n=_n(t),s=q8(t),i=V8(t),a=t.role==="user"?"## 用户":"## 助手";let o="";if(e&&s.length>0){const l=s.map(c=>c.content).join(`

`);l.trim()&&(o=`### 思考过程

${l}

### 回答

`)}const A=r?K3(n):n;let u="";if(i.length>0){const l=i.map(c=>c.content).join(`

`);l.trim()&&(u=`### 引用

${l}`)}return{titleSection:a,reasoningSection:o,contentSection:A,citation:u}}function uu(t){const{titleSection:e,contentSection:r,citation:n}=Zv(t);return[e,"",r,n].filter(Boolean).join(`

`)}function _g(t){const{titleSection:e,reasoningSection:r,contentSection:n,citation:s}=Zv(t,!0);return[e,"",r+n,s].filter(Boolean).join(`

`)}async function RN(t,e=!1){try{const r=await Jv(t),n=Mn().format("YYYY-MM-DD-HH-mm-ss"),s=`${kc(r)}_${n}.md`,i=e?_g(t):uu(t);if(Un.isNativePlatform())try{const a=`temp_${Date.now()}.md`;await Vr.writeFile({path:a,data:i,directory:Gr.Cache,encoding:Np.UTF8});const o=await Vr.getUri({path:a,directory:Gr.Cache});await vo.share({title:"导出Markdown文件",text:i,url:o.uri,dialogTitle:"保存Markdown文件"});try{await Vr.deleteFile({path:a,directory:Gr.Cache})}catch(A){console.warn("清理临时文件失败:",A)}}catch(a){console.warn("分享失败，尝试复制到剪贴板:",a),await To.write({string:i}),Kt.warning("分享失败，内容已复制到剪贴板","导出提醒")}else{const a=new Blob([i],{type:"text/markdown"}),o=URL.createObjectURL(a),A=document.createElement("a");A.href=o,A.download=s,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(o)}}catch(r){console.error("导出Markdown失败:",r),Kt.error("导出失败: "+r.message,"导出错误")}}async function ON(t,e=!1){try{const r=e?_g(t):uu(t);try{await To.write({string:r})}catch{await navigator.clipboard.writeText(r)}Kt.success("Markdown内容已复制到剪贴板","复制成功")}catch(r){console.error("复制Markdown失败:",r),Kt.error("复制失败","复制错误")}}async function NN(t,e={}){try{const r=await Jv(t),n=e.includeReasoning?_g(t):uu(t);await To.write({string:n});const s=kc(r)+".md",i=e.folder?`${e.folder}/${s}`:s;let a=`obsidian://new?file=${encodeURIComponent(i)}&clipboard=true`;e.vault&&(a+=`&vault=${encodeURIComponent(e.vault)}`),e.processingMethod==="3"?a+="&overwrite=true":e.processingMethod==="2"?a+="&prepend=true":e.processingMethod==="1"&&(a+="&append=true"),window.open(a,"_system"),Kt.info("正在打开Obsidian...","导出提醒")}catch(r){console.error("导出到Obsidian失败:",r),Kt.error("导出到Obsidian失败","导出错误")}}async function LN(t,e="text"){try{let r,n;e==="markdown"?(r=uu(t),n="分享Markdown内容"):(r=_n(t),n="分享消息内容"),Un.isNativePlatform()?await vo.share({title:n,text:r,dialogTitle:n}):(await navigator.clipboard.writeText(r),Kt.success("内容已复制到剪贴板","分享成功"))}catch(r){console.error("分享失败:",r),Kt.error("分享失败","分享错误")}}async function HN(t){try{const e=await hv(t,{backgroundColor:null,scale:2,useCORS:!0,allowTaint:!0});if(Un.isNativePlatform()){const n=e.toDataURL("image/png").split(",")[1];try{const s=`temp_image_${Date.now()}.png`;await Vr.writeFile({path:s,data:n,directory:Gr.Cache});const i=await Vr.getUri({path:s,directory:Gr.Cache});await vo.share({title:"复制图片",url:i.uri,dialogTitle:"复制图片"});try{await Vr.deleteFile({path:s,directory:Gr.Cache})}catch(a){console.warn("清理临时文件失败:",a)}}catch(s){console.warn("分享失败:",s),Kt.error("复制图片失败","操作失败")}}else e.toBlob(async r=>{if(!r)throw new Error("截图失败");try{await navigator.clipboard.write([new ClipboardItem({"image/png":r})]),Kt.success("图片已复制到剪贴板","复制成功")}catch(n){console.warn("复制到剪贴板失败，尝试下载:",n);const s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=`message_${Mn().format("YYYY-MM-DD-HH-mm-ss")}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}},"image/png")}catch(e){console.error("截图失败:",e),Kt.error("截图失败","操作失败")}}async function PN(t){try{const e=await hv(t,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}),n=`message_${Mn().format("YYYY-MM-DD-HH-mm-ss")}.png`;if(Un.isNativePlatform()){const i=e.toDataURL("image/png").split(",")[1];try{const a=`temp_export_${Date.now()}.png`;await Vr.writeFile({path:a,data:i,directory:Gr.Cache});const o=await Vr.getUri({path:a,directory:Gr.Cache});await vo.share({title:"导出消息图片",url:o.uri,dialogTitle:"保存图片"});try{await Vr.deleteFile({path:a,directory:Gr.Cache})}catch(A){console.warn("清理临时文件失败:",A)}}catch(a){console.warn("分享失败:",a),Kt.error("导出图片失败","导出失败")}}else e.toBlob(s=>{if(s){const i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}},"image/png")}catch(e){console.error("导出图片失败:",e),Kt.error("导出图片失败","导出失败")}}async function e6(t,e=!1){try{const r=await De.getTopicMessages(t.id);if(r.length===0)return`# ${t.name||t.title||"空话题"}

*此话题暂无消息*`;const n=[];for(const i of r)if(i.blocks&&i.blocks.length>0){const a=await De.getMessageBlocksByMessageId(i.id),o={...i,blockObjects:a};n.push(o)}else n.push(i);return[`# ${t.name||t.title||"对话记录"}`,"",`**创建时间:** ${Mn(t.createdAt).format("YYYY-MM-DD HH:mm:ss")}`,`**更新时间:** ${Mn(t.updatedAt||t.createdAt).format("YYYY-MM-DD HH:mm:ss")}`,`**消息数量:** ${r.length}`,"","---","",jN(n,e)].join(`
`)}catch(r){throw console.error("转换话题为Markdown失败:",r),r}}function jN(t,e=!1){return t.map(r=>r.blockObjects&&r.blockObjects.length>0?zN(r,e):uu(r)).join(`

---

`)}function zN(t,e=!1){const r=t.blockObjects||[],n=r.filter(c=>c.type==="main_text"),s=r.filter(c=>c.type==="thinking"),i=r.filter(c=>c.type==="citation"),a=t.role==="user"?"## 用户":"## 助手";let o="";if(e&&s.length>0){const c=s.map(f=>f.content).join(`

`);c.trim()&&(o=`### 思考过程

${c}

### 回答

`)}const A=n.map(c=>c.content).join(`

`),u=K3(A);let l="";if(i.length>0){const c=i.map(f=>f.content).join(`

`);c.trim()&&(l=`### 引用

${c}`)}return[a,"",o+u,l].filter(Boolean).join(`

`)}async function KN(t,e=!1){try{const r=await e6(t,e),n=Mn().format("YYYY-MM-DD-HH-mm-ss"),i=`${kc(t.name||t.title||"对话记录")}_${n}.md`;if(Un.isNativePlatform())try{const a=`temp_topic_${Date.now()}.md`;await Vr.writeFile({path:a,data:r,directory:Gr.Cache,encoding:Np.UTF8});const o=await Vr.getUri({path:a,directory:Gr.Cache});await vo.share({title:"导出话题Markdown文件",text:`${t.name||"对话记录"} - Markdown格式`,url:o.uri,dialogTitle:"保存话题Markdown文件"});try{await Vr.deleteFile({path:a,directory:Gr.Cache})}catch(A){console.warn("清理临时文件失败:",A)}}catch(a){console.warn("分享失败，尝试复制到剪贴板:",a),await To.write({string:r}),Kt.warning("分享失败，内容已复制到剪贴板","导出提醒")}else{const a=new Blob([r],{type:"text/markdown"}),o=URL.createObjectURL(a),A=document.createElement("a");A.href=o,A.download=i,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(o)}}catch(r){console.error("导出话题Markdown失败:",r),Kt.error("导出失败: "+r.message,"导出错误")}}async function qN(t,e=!1){try{const r=await e6(t,e);try{await To.write({string:r})}catch{await navigator.clipboard.writeText(r)}Kt.success("话题Markdown内容已复制到剪贴板","复制成功")}catch(r){console.error("复制话题Markdown失败:",r),Kt.error("复制失败","复制错误")}}async function VN(t,e=!1){try{const r=await De.getTopicMessages(t.id);if(r.length===0){Kt.warning("话题没有消息内容，无法导出","导出提醒");return}const n=[];for(const u of r)if(u.blocks&&u.blocks.length>0){const l=await De.getMessageBlocksByMessageId(u.id);n.push({...u,blockObjects:l})}else n.push(u);const s=await GN(t,n,e),i=await _N.toBlob(s),a=Mn().format("YYYY-MM-DD-HH-mm-ss"),A=`${kc(t.name||t.title||"对话记录")}_${a}.docx`;if(Un.isNativePlatform())try{const u=await i.arrayBuffer(),l=new Uint8Array(u),c=btoa(String.fromCharCode(...l)),f=`temp_topic_${Date.now()}.docx`;await Vr.writeFile({path:f,data:c,directory:Gr.Cache});const m=await Vr.getUri({path:f,directory:Gr.Cache});await vo.share({title:"导出话题DOCX文件",text:`${t.name||"对话记录"} - DOCX格式`,url:m.uri,dialogTitle:"保存话题DOCX文件"});try{await Vr.deleteFile({path:f,directory:Gr.Cache})}catch(g){console.warn("清理临时文件失败:",g)}}catch(u){console.warn("分享失败:",u),Kt.error("导出失败，请重试","导出失败")}else QN.saveAs(i,A)}catch(r){console.error("导出话题DOCX失败:",r),Kt.error("导出失败: "+r.message,"导出错误")}}async function GN(t,e,r=!1){const n=[];n.push(new Qr({text:t.name||t.title||"对话记录",heading:AR.HEADING_1,alignment:Bn.CENTER,spacing:{after:400}}));const s=[`创建时间: ${Mn(t.createdAt).format("YYYY-MM-DD HH:mm:ss")}`,`更新时间: ${Mn(t.updatedAt||t.createdAt).format("YYYY-MM-DD HH:mm:ss")}`,`消息数量: ${e.length}`];for(const i of s)n.push(new Qr({children:[new Dr({text:i,bold:!0,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:20,color:"374151"})],spacing:{after:120}}));n.push(new Qr({children:[new Dr({text:"●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●",color:"e5e7eb",size:16})],alignment:Bn.CENTER,spacing:{before:300,after:300}}));for(let i=0;i<e.length;i++){const a=e[i],o=a.blockObjects||[],A="💬",u="🤖",l=a.role==="user";if(n.push(new Qr({children:[new Dr({text:l?`${A} `:`${u} `,size:24}),new Dr({text:l?"用户":"助手",bold:!0,size:24,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},color:l?"1d4ed8":"059669"})],spacing:{before:300,after:150},border:{bottom:{style:au.SINGLE,size:1,color:l?"3b82f6":"10b981"}}})),o.length>0){const c=o.filter(g=>g.type==="main_text"),f=o.filter(g=>g.type==="thinking"),m=o.filter(g=>g.type==="citation");if(r&&f.length>0){n.push(new Qr({children:[new Dr({text:"💭 思考过程",bold:!0,italics:!0,color:"7c3aed",font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:20})],spacing:{before:150,after:100}}));for(const g of f)await mf(n,g.content,{italics:!0,color:"6b7280"});n.push(new Qr({children:[new Dr({text:"💬 回答内容",bold:!0,color:"059669",font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:20})],spacing:{before:200,after:100}}))}for(const g of c)await mf(n,g.content);if(m.length>0){n.push(new Qr({children:[new Dr({text:"📚 参考引用",bold:!0,color:"7c2d12",font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:20})],spacing:{before:200,after:100}}));for(const g of m)await mf(n,g.content,{color:"6b7280"})}}else n.push(new Qr({children:[new Dr({text:"内容暂无",italics:!0,color:"9ca3af",font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"}})],spacing:{after:150}}));i<e.length-1&&n.push(new Qr({text:"",spacing:{after:200}}))}return new mN({sections:[{properties:{page:{margin:{top:1440,right:1440,bottom:1440,left:1440}}},children:n}]})}async function mf(t,e,r={}){const n=e.split(`
`);let s=!1,i=[],a="";for(const o of n){const A=o.trim();if(A.startsWith("```")){s?(s=!1,i.length>0&&Z4(t,i.join(`
`),a),i=[]):(s=!0,a=A.substring(3).trim(),i=[]);continue}if(s){i.push(o);continue}if(!A){t.push(new Qr({text:""}));continue}const u=await WN(o,r);u.length>0&&t.push(new Qr({children:u,spacing:{after:120}}))}s&&i.length>0&&Z4(t,i.join(`
`),a)}function Z4(t,e,r=""){const n=e.split(`
`);r&&t.push(new Qr({children:[new Dr({text:`📝 ${r.toUpperCase()} 代码`,bold:!0,size:18,color:"374151",font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"}})],spacing:{before:200,after:100}}));for(const s of n)t.push(new Qr({children:[new Dr({text:s||" ",font:{ascii:"Consolas",eastAsia:"Microsoft YaHei"},size:18,color:"1f2937"})],shading:{type:vQ.SOLID,fill:"f8f9fa"},spacing:{after:0},border:{left:{style:au.SINGLE,size:2,color:"6366f1"}},indent:{left:360}}));t.push(new Qr({text:"",spacing:{after:200}}))}async function WN(t,e={}){const r=[],n=/(https?:\/\/[^\s)]+)/g,s=/\*\*(.*?)\*\*/g,i=/`([^`]+)`/g,a=[];let o;for(n.lastIndex=0;(o=n.exec(t))!==null;)a.push({type:"url",match:o,content:o[1]});for(s.lastIndex=0;(o=s.exec(t))!==null;)a.push({type:"bold",match:o,content:o[1]});for(i.lastIndex=0;(o=i.exec(t))!==null;)a.push({type:"code",match:o,content:o[1]});a.sort((u,l)=>u.match.index-l.match.index);let A=0;for(const u of a){const l=u.match.index,c=l+u.match[0].length;if(l>A){const f=t.substring(A,l);f&&r.push(new Dr({text:f,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:22,color:e.color||"374151",bold:e.bold,italics:e.italics}))}switch(u.type){case"url":r.push(new Dr({text:u.content,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:22,color:"2563eb",underline:{}}));break;case"bold":r.push(new Dr({text:u.content,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:22,bold:!0,color:e.color||"374151",italics:e.italics}));break;case"code":r.push(new Dr({text:u.content,font:{ascii:"Consolas",eastAsia:"Microsoft YaHei"},size:20,color:"7c3aed"}));break}A=c}if(A<t.length){const u=t.substring(A);u&&r.push(new Dr({text:u,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:22,color:e.color||"374151",bold:e.bold,italics:e.italics}))}return r.length===0&&t.trim()&&r.push(new Dr({text:t,font:{ascii:"Microsoft YaHei",eastAsia:"Microsoft YaHei"},size:22,color:e.color||"374151",bold:e.bold,italics:e.italics})),r}const $N=({message:t,anchorEl:e,open:r,onClose:n})=>{const[s,i]=q.useState({open:!1,vault:"",folder:"",processingMethod:"3",includeReasoning:!1}),a=async(g=!1)=>{n(),await RN(t,g)},o=async(g=!1)=>{n(),await ON(t,g)},A=async(g="text")=>{n(),await LN(t,g)},u=()=>{n(),i(g=>({...g,open:!0}))},l=async()=>{await NN(t,{vault:s.vault||void 0,folder:s.folder||void 0,processingMethod:s.processingMethod,includeReasoning:s.includeReasoning}),i(g=>({...g,open:!1}))},c=()=>{i(g=>({...g,open:!1}))},f=async()=>{n();const g=document.getElementById(`message-${t.id}`);g?await HN(g):Kt.error("无法找到消息元素","操作失败")},m=async()=>{n();const g=document.getElementById(`message-${t.id}`);g?await PN(g):Kt.error("无法找到消息元素","操作失败")};return h.jsxs(h.Fragment,{children:[h.jsxs(Js,{anchorEl:e,open:r,onClose:n,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{root:{slotProps:{backdrop:{invisible:!1,sx:{backgroundColor:"transparent"}}}}},sx:{"& .MuiList-root":{"&:focus":{outline:"none"}}},children:[h.jsxs(Ze,{onClick:()=>o(!1),children:[h.jsx(xn,{children:h.jsx($n,{size:16})}),h.jsx(Ft,{primary:"复制为Markdown"})]}),h.jsxs(Ze,{onClick:()=>o(!0),children:[h.jsx(xn,{children:h.jsx(Bo,{size:16})}),h.jsx(Ft,{primary:"复制为Markdown（含思考）"})]}),h.jsx(St,{}),h.jsxs(Ze,{onClick:f,children:[h.jsx(xn,{children:h.jsx($n,{size:16})}),h.jsx(Ft,{primary:"复制为图片"})]}),h.jsxs(Ze,{onClick:m,children:[h.jsx(xn,{children:h.jsx(Yp,{size:16})}),h.jsx(Ft,{primary:"导出为图片"})]}),h.jsx(St,{}),h.jsxs(Ze,{onClick:()=>a(!1),children:[h.jsx(xn,{children:h.jsx(Z7,{size:16})}),h.jsx(Ft,{primary:"导出为Markdown"})]}),h.jsxs(Ze,{onClick:()=>a(!0),children:[h.jsx(xn,{children:h.jsx(wa,{size:16})}),h.jsx(Ft,{primary:"导出为Markdown（含思考）"})]}),h.jsx(St,{}),h.jsxs(Ze,{onClick:()=>A("text"),children:[h.jsx(xn,{children:h.jsx(qf,{size:16})}),h.jsx(Ft,{primary:"分享文本内容"})]}),h.jsxs(Ze,{onClick:()=>A("markdown"),children:[h.jsx(xn,{children:h.jsx(qf,{size:16})}),h.jsx(Ft,{primary:"分享Markdown"})]}),h.jsx(St,{}),h.jsxs(Ze,{onClick:u,children:[h.jsx(xn,{children:h.jsx(Lp,{size:16})}),h.jsx(Ft,{primary:"导出到Obsidian"})]})]}),h.jsxs(kr,{open:s.open,onClose:c,maxWidth:"sm",fullWidth:!0,children:[h.jsx(an,{children:"导出到Obsidian"}),h.jsxs(Ir,{children:[h.jsx(Er,{fullWidth:!0,label:"Vault名称（可选）",value:s.vault,onChange:g=>i(b=>({...b,vault:g.target.value})),margin:"normal",helperText:"留空将使用默认Vault"}),h.jsx(Er,{fullWidth:!0,label:"文件夹路径（可选）",value:s.folder,onChange:g=>i(b=>({...b,folder:g.target.value})),margin:"normal",helperText:"例如: Notes/AI对话"}),h.jsxs(Di,{component:"fieldset",margin:"normal",children:[h.jsx(Lf,{component:"legend",children:"处理方式"}),h.jsxs(Hf,{value:s.processingMethod,onChange:g=>i(b=>({...b,processingMethod:g.target.value})),children:[h.jsx(Gs,{value:"3",control:h.jsx(sa,{}),label:"新建文件（存在则覆盖）"}),h.jsx(Gs,{value:"1",control:h.jsx(sa,{}),label:"追加到文件末尾"}),h.jsx(Gs,{value:"2",control:h.jsx(sa,{}),label:"插入到文件开头"})]})]}),h.jsxs(Di,{component:"fieldset",margin:"normal",children:[h.jsx(Lf,{component:"legend",children:"内容选项"}),h.jsxs(Hf,{value:s.includeReasoning?"true":"false",onChange:g=>i(b=>({...b,includeReasoning:g.target.value==="true"})),children:[h.jsx(Gs,{value:"false",control:h.jsx(sa,{}),label:"仅导出回答内容"}),h.jsx(Gs,{value:"true",control:h.jsx(sa,{}),label:"包含思考过程"})]})]})]}),h.jsxs(on,{children:[h.jsx(ut,{onClick:c,children:"取消"}),h.jsx(ut,{onClick:l,variant:"contained",children:"导出"})]})]})]})},TA={MESSAGE:{BUBBLE_INDICATORS:3,BUBBLE_MENU_BUTTON:10,TOOLBAR_BUTTON:100},MENU:{DROPDOWN:1300}},Bl=()=>localStorage.getItem("debug_mode")==="true"||window.__DEBUG__===!0,os={log:(t,...e)=>{Bl()&&console.log(`[DEBUG] ${t}`,...e)},info:(t,...e)=>{Bl()&&console.info(`[INFO] ${t}`,...e)},warn:(t,...e)=>{Bl()&&console.warn(`[WARN] ${t}`,...e)},error:(t,...e)=>{console.error(`[ERROR] ${t}`,...e)},component:(t,e,r)=>{Bl()&&console.log(`[${t}] ${e}`,r||"")}},XN=t=>({aiBubbleColor:t?"#1a3b61":"#e6f4ff",aiBubbleActiveColor:t?"#234b79":"#d3e9ff",textColor:t?"#ffffff":"#333333"}),t6=t=>({padding:.5,opacity:.8,color:t||"text.primary","&:hover":{opacity:1,transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"}),YN=t=>({padding:.5,backgroundColor:t?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.08)",borderRadius:"50%",width:20,height:20,display:"flex",justifyContent:"center",alignItems:"center",opacity:.8,boxShadow:"0 1px 2px rgba(0,0,0,0.1)","&:hover":{opacity:1,backgroundColor:t?"rgba(255, 255, 255, 0.25)":"rgba(0, 0, 0, 0.15)"}}),JN=(t,e,r)=>({...t6(r),color:t?e:r||"text.primary",opacity:t?1:.8,transform:t?"scale(1.1)":"scale(1)",transition:"all 0.2s ease-in-out"}),ZN={display:"flex",alignItems:"center",gap:"2px",position:"relative",top:"-1px"},eL={display:"flex",alignItems:"center",gap:.5,width:"100%"},tL={display:"flex",alignItems:"center",gap:.5,flex:1},tc=rt.memo(({message:t,topicId:e,messageIndex:r=0,onRegenerate:n,onDelete:s,onSwitchVersion:i,onResend:a,renderMode:o="full",customTextColor:A})=>{const u=t.role==="user",l=Ht(),c=t6(A),f=ms(ve=>ve.settings),m=f.versionSwitchStyle||"popup",g=f.showMicroBubbles!==!1,b=q.useMemo(()=>XN(l.palette.mode==="dark"),[l.palette.mode]),[v,w]=q.useState(null),B=!!v,[C,x]=q.useState(!1),[E,D]=q.useState(null),_=!!E,[L,I]=q.useState(null),G=!!L;q.useEffect(()=>()=>{oe.current=!1,w(null),D(null),I(null),j.current&&clearTimeout(j.current)},[]);const[W,Q]=q.useState(!1),j=q.useRef(null),[T,V]=q.useState(!1),[J,Y]=q.useState(!0),oe=q.useRef(!0);q.useEffect(()=>{(async()=>{try{const je=await U3("enable_tts")!=="false";Y(je)}catch(Me){console.error("获取TTS启用状态失败:",Me),Y(!0)}})()},[]),q.useEffect(()=>{const ve=Em.getInstance(),Me=()=>{if(!oe.current)return;const Ke=ve.getCurrentMessageId(),It=ve.getIsPlaying()&&Ke===t.id;V(It)};Me();const je=()=>{Me()};return lr.on("tts:playStateChanged",je),lr.on("tts:playbackEnded",je),lr.on("tts:playbackStarted",je),()=>{lr.off("tts:playStateChanged",je),lr.off("tts:playbackEnded",je),lr.off("tts:playbackStarted",je)}},[t.id]);const re=q.useCallback(ve=>{os.component("MessageActions","三点菜单被点击",{renderMode:o,messageId:t.id}),ve.preventDefault(),ve.stopPropagation(),w(ve.currentTarget)},[]),pe=q.useCallback(()=>{w(null)},[]),te=q.useCallback(async()=>{if(t)try{os.component("MessageActions","开始复制内容",{messageId:t.id,renderMode:o});const ve=_n(t);if(os.component("MessageActions","获取到的文本内容",ve?.substring(0,100)+"..."),!ve||!ve.trim()){os.warn("[MessageActions] 没有可复制的内容"),alert("没有可复制的内容");return}try{await To.write({string:ve}),os.component("MessageActions","Capacitor复制成功")}catch(Me){os.component("MessageActions","Capacitor复制失败，尝试Web API",Me),await navigator.clipboard.writeText(ve),os.component("MessageActions","Web API复制成功")}os.component("MessageActions","复制内容成功"),lr.listenerCount("ui:copy_success")>0&&lr.emit("ui:copy_success",{content:"已复制消息内容"})}catch(ve){os.error("[MessageActions] 复制内容失败",ve),Kt.error("复制失败: "+(ve instanceof Error?ve.message:"未知错误"),"复制错误")}finally{pe()}},[t,pe,o]),$=q.useCallback(()=>{x(!0),pe()},[pe]),he=q.useCallback(()=>{console.log("[MessageActions] 删除消息:",t.id);try{s?(s(t.id),console.log("[MessageActions] 删除消息成功")):console.warn("[MessageActions] 没有删除回调函数")}catch(ve){console.error("[MessageActions] 删除消息失败:",ve),Kt.error("删除失败: "+(ve instanceof Error?ve.message:"未知错误"),"删除错误")}finally{Q(!1),pe()}},[s,t.id,pe]),me=q.useCallback(()=>{j.current&&clearTimeout(j.current),W?(s&&s(t.id),Q(!1)):(Q(!0),j.current=setTimeout(()=>{oe.current&&Q(!1)},3e3))},[W,s,t.id]),ye=q.useCallback(()=>{n&&n(t.id),pe()},[n,t.id,pe]),ce=q.useCallback(()=>{a&&a(t.id),pe()},[a,t.id,pe]),H=q.useCallback(async()=>{try{const ve=_n(t),je=`message_${new Date().toISOString().slice(0,16).replace("T","_").replace(":","-")}.txt`;if(Un.isNativePlatform())try{await Vr.writeFile({path:`Download/${je}`,data:ve,directory:Gr.External,encoding:Np.UTF8}),alert("消息内容已保存到下载目录")}catch(Ke){throw console.error("Capacitor保存失败:",Ke),Ke}else{const Ke=new Blob([ve],{type:"text/plain"}),At=URL.createObjectURL(Ke),It=document.createElement("a");It.href=At,It.download=je,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(At),alert("消息内容已保存")}}catch(ve){console.error("保存消息内容失败:",ve),alert("保存失败")}pe()},[t,pe]),P=q.useCallback(()=>{if(r===void 0){console.error("[MessageActions] 无法创建分支: 缺少messageIndex");return}lr.emit(hn.NEW_BRANCH,r),pe()},[pe,r]),ge=q.useCallback(async()=>{try{const ve=Em.getInstance(),Me=_n(t);if(ve.getCurrentMessageId()===t.id&&ve.getIsPlaying()){ve.stop(),V(!1);return}ve.getIsPlaying()&&ve.stop(),V(!0);const At=await ve.speak(Me);if(!oe.current)return;At||(V(!1),alert("文本转语音失败"));const It=()=>{oe.current&&(!ve.getIsPlaying()||ve.getCurrentMessageId()!==t.id?V(!1):setTimeout(It,500))};setTimeout(It,1e3)}catch(ve){console.error("TTS错误:",ve),V(!1),alert("文本转语音失败")}pe()},[t,pe]),ie=Array.isArray(t.versions)&&t.versions.length>=1,Z=q.useMemo(()=>{if(!t.versions||t.versions.length===0)return 1;if(t.currentVersionId){const ve=t.versions.findIndex(Me=>Me.id===t.currentVersionId);if(ve>=0)return ve+1}return t.versions.length+1},[t.versions,t.currentVersionId]),se=q.useMemo(()=>(t.versions?.length||0)+1,[t.versions]),Ce=q.useMemo(()=>!t.versions||t.versions.length===0?-1:t.currentVersionId?t.versions.findIndex(ve=>ve.id===t.currentVersionId):-1,[t.versions,t.currentVersionId]),O=q.useMemo(()=>(t.versions?.length||0)+1,[t.versions]),ue=q.useCallback(()=>{if(!(!t.versions||t.versions.length===0)){if(Ce===-1){const ve=t.versions[t.versions.length-1];ve&&i&&i(ve.id)}else if(Ce>0){const ve=t.versions[Ce-1];ve&&i&&i(ve.id)}}},[t.versions,Ce,i]),N=q.useCallback(()=>{if(!(!t.versions||t.versions.length===0)&&Ce!==-1)if(Ce===t.versions.length-1)i&&i("latest");else{const ve=t.versions[Ce+1];ve&&i&&i(ve.id)}},[t.versions,Ce,i]),F=q.useCallback(ve=>{i&&i(ve),D(null)},[i]),k=q.useCallback(()=>{i&&i("latest"),D(null)},[i]),R=q.useCallback(()=>{i&&i("create"),D(null)},[i]),Ae=q.useCallback(ve=>{I(ve.currentTarget),pe()},[pe]),be=q.useCallback(()=>{I(null)},[]),le=q.useCallback((ve,Me)=>{Me.stopPropagation(),i&&i(`delete:${ve}`)},[i]),Te=q.useCallback(ve=>{try{return GT(new Date(ve),{addSuffix:!0,locale:ux})}catch(Me){return console.error("日期格式化错误:",Me),"未知时间"}},[]),_e=q.useCallback(ve=>{const Me=ve.metadata?.source;if(!Me)return"";switch(Me){case"regenerate":return"重新生成";case"manual":return"手动保存";case"auto_before_switch":return"自动保存";default:return""}},[]);return h.jsxs(h.Fragment,{children:[o==="full"&&g&&h.jsxs(de,{sx:ZN,children:[!u&&ie&&h.jsx(h.Fragment,{children:m==="arrows"?h.jsxs(de,{sx:{display:"flex",alignItems:"center",backgroundColor:b.aiBubbleColor,borderRadius:"10px",padding:"0 2px",height:"20px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",border:`1px solid ${l.palette.mode==="dark"?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)"}`,marginRight:"2px","&:hover":{backgroundColor:b.aiBubbleActiveColor,borderColor:l.palette.mode==="dark"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.15)"}},children:[h.jsx(Ye,{size:"small",onClick:ue,disabled:Ce<=0&&t.currentVersionId!==void 0,sx:{padding:0,opacity:Ce<=0&&t.currentVersionId!==void 0?.3:.7,"&:hover":{opacity:1},color:b.textColor},children:h.jsx(i5,{size:12})}),h.jsxs(Se,{variant:"caption",sx:{fontSize:"10px",fontWeight:"medium",color:b.textColor,mx:.5,userSelect:"none"},children:[t.currentVersionId?Ce+1:O,"/",O]}),h.jsx(Ye,{size:"small",onClick:N,disabled:Ce===-1,sx:{padding:0,opacity:Ce===-1?.3:.7,"&:hover":{opacity:1},color:b.textColor},children:h.jsx(G8,{size:12})})]}):h.jsx(Dt,{size:"small",label:`版本 ${Z}/${se}`,variant:"filled",color:"info",onClick:ve=>D(ve.currentTarget),icon:h.jsx(Sm,{size:12}),sx:{height:18,paddingLeft:"2px",paddingRight:"4px",fontSize:"10px",fontWeight:"medium",opacity:.95,backgroundColor:b.aiBubbleColor,color:b.textColor,boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderRadius:"10px",border:"none",marginRight:"2px","&:hover":{opacity:1,cursor:"pointer",backgroundColor:b.aiBubbleActiveColor},"& .MuiChip-icon":{ml:.3,mr:-.3,fontSize:"10px",color:b.textColor},"& .MuiChip-label":{padding:"0 4px",lineHeight:1.2}}})}),!u&&J&&h.jsx(Dt,{size:"small",label:T?"播放中":"播放",variant:"filled",color:"primary",onClick:ge,icon:T?h.jsx(Fm,{size:12}):h.jsx(Tm,{size:12}),sx:{height:18,paddingLeft:"2px",paddingRight:"4px",fontSize:"10px",fontWeight:"medium",opacity:.95,backgroundColor:T?b.aiBubbleActiveColor:b.aiBubbleColor,color:b.textColor,boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderRadius:"10px",border:m==="arrows"?`1px solid ${l.palette.mode==="dark"?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)"}`:"none","&:hover":{opacity:1,cursor:"pointer",backgroundColor:b.aiBubbleActiveColor,borderColor:m==="arrows"?l.palette.mode==="dark"?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.15)":void 0},"& .MuiChip-icon":{ml:.3,mr:-.3,fontSize:"10px",color:b.textColor},"& .MuiChip-label":{padding:"0 4px",lineHeight:1.2}}})]}),o==="menuOnly"&&h.jsx(Ye,{size:"small",onClick:ve=>{ve.stopPropagation(),re(ve)},sx:{...YN(l.palette.mode==="dark"),zIndex:TA.MESSAGE.TOOLBAR_BUTTON},children:h.jsx(qA,{size:14})}),o==="toolbar"&&h.jsxs(de,{sx:eL,children:[u&&h.jsx(G2,{currentMessage:t,showCurrentMessage:!0}),h.jsxs(de,{sx:{...tL,justifyContent:u?"flex-end":"flex-start"},children:[h.jsx(Zt,{title:"复制内容",children:h.jsx(Ye,{size:"small",onClick:te,sx:c,children:h.jsx($n,{size:16})})}),h.jsx(Zt,{title:"编辑",children:h.jsx(Ye,{size:"small",onClick:$,sx:c,children:h.jsx(Mi,{size:16})})}),h.jsx(Zt,{title:"保存内容",children:h.jsx(Ye,{size:"small",onClick:H,sx:c,children:h.jsx(Pf,{size:16})})}),h.jsx(Zt,{title:"导出信息",children:h.jsx(Ye,{size:"small",onClick:Ae,sx:c,children:h.jsx(wa,{size:16})})}),u&&h.jsx(Zt,{title:"重新发送",children:h.jsx(Ye,{size:"small",onClick:ce,sx:c,children:h.jsx(mm,{size:16})})}),!u&&h.jsx(Zt,{title:"重新生成",children:h.jsx(Ye,{size:"small",onClick:ye,sx:c,children:h.jsx(mm,{size:16})})}),!u&&J&&h.jsx(Zt,{title:T?"停止播放":"语音播放",children:h.jsx(Ye,{size:"small",onClick:ge,sx:{padding:.5,opacity:T?1:.8,color:T?l.palette.primary.main:"text.primary","&:hover":{opacity:1,transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:T?h.jsx(Tm,{size:16}):h.jsx(Fm,{size:16})})}),!u&&ie&&h.jsx(Zt,{title:"版本历史",children:h.jsx(Ye,{size:"small",onClick:ve=>D(ve.currentTarget),sx:c,children:h.jsx(Sm,{size:16})})}),h.jsx(Zt,{title:"创建分支",children:h.jsx(Ye,{size:"small",onClick:P,sx:c,children:h.jsx(Im,{size:16})})}),h.jsx(Zt,{title:W?"再次点击确认删除":"删除",children:h.jsx(Ye,{size:"small",onClick:me,sx:JN(W,l.palette.error.main,A),children:h.jsx(ki,{size:16})})})]}),!u&&h.jsx(G2,{currentMessage:t,showCurrentMessage:!0})]}),h.jsx(W8,{open:_,anchorEl:E,onClose:()=>D(null),disableAutoFocus:!0,disableRestoreFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{maxWidth:"260px",boxShadow:"0 2px 10px rgba(0,0,0,0.15)",borderRadius:"8px",mt:.5}},children:h.jsxs(de,{sx:{p:.5},children:[h.jsxs(Se,{variant:"subtitle2",sx:{px:.5,py:.25,fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem"},children:[h.jsx("span",{children:"消息版本历史"}),h.jsx(ut,{size:"small",startIcon:h.jsx(VA,{size:13}),onClick:R,variant:"outlined",color:"primary",sx:{fontSize:"0.7rem",py:.1,px:.5,minWidth:"auto",height:"20px"},children:"保存当前"})]}),t.versions&&t.versions.length>5&&h.jsxs(Se,{variant:"caption",sx:{display:"block",textAlign:"center",color:l.palette.text.secondary,fontSize:"0.7rem",mb:.5},children:["显示 5/",t.versions.length+1," 个版本，滑动查看更多"]}),h.jsxs(ti,{dense:!0,sx:{maxHeight:"140px",overflow:"auto",py:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l.palette.mode==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:l.palette.mode==="dark"?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.2)"}},children:[t.versions?.map((ve,Me)=>{const je=t.currentVersionId===ve.id,Ke=_e(ve);return h.jsxs(cr,{onClick:()=>F(ve.id),sx:{borderRadius:"4px",mb:.2,py:.2,px:1,backgroundColor:je?l.palette.mode==="dark"?"rgba(25, 118, 210, 0.2)":"rgba(25, 118, 210, 0.1)":"transparent","&:hover":{backgroundColor:l.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},cursor:"pointer",position:"relative"},children:[h.jsx(Ft,{primary:h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[h.jsx("span",{children:`版本 ${Me+1}${je?" (当前)":""}`}),Ke&&h.jsx(Dt,{label:Ke,size:"small",sx:{height:14,fontSize:"0.6rem",backgroundColor:l.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)","& .MuiChip-label":{px:.5,py:0}}})]}),secondary:Te(ve.createdAt),primaryTypographyProps:{fontSize:"0.85rem",margin:0,lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.7rem",margin:0,lineHeight:1.2},sx:{margin:0}}),!je&&h.jsx(Ye,{size:"small",onClick:At=>le(ve.id,At),sx:{position:"absolute",right:0,padding:"2px",opacity:0,transition:"opacity 0.2s","&:hover":{opacity:1,backgroundColor:"rgba(255, 0, 0, 0.1)"},".MuiListItem-root:hover &":{opacity:.5}},children:h.jsx(ki,{size:13,color:l.palette.error.main})})]},ve.id)}),t.versions&&t.versions.length>0&&h.jsx(cr,{onClick:k,sx:{borderRadius:"4px",mb:.2,py:.2,px:1,backgroundColor:t.currentVersionId?"transparent":l.palette.mode==="dark"?"rgba(25, 118, 210, 0.2)":"rgba(25, 118, 210, 0.1)","&:hover":{backgroundColor:l.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},cursor:"pointer"},children:h.jsx(Ft,{primary:`版本 ${se}${t.currentVersionId?"":" (当前)"}`,secondary:"最新版本",primaryTypographyProps:{fontSize:"0.85rem",margin:0,lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.7rem",margin:0,lineHeight:1.2},sx:{margin:0}})},"latest")]}),t.versions&&t.versions.length>5&&h.jsx(de,{sx:{display:"flex",justifyContent:"center",mt:.5,opacity:.7,animation:"pulse 1.5s infinite ease-in-out","@keyframes pulse":{"0%":{opacity:.3,transform:"translateY(-1px)"},"50%":{opacity:.7,transform:"translateY(2px)"},"100%":{opacity:.3,transform:"translateY(-1px)"}}},children:h.jsx("span",{style:{fontSize:"12px",color:l.palette.text.secondary},children:"︾"})})]})}),h.jsxs(Js,{anchorEl:v,open:B,onClose:pe,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{zIndex:TA.MENU.DROPDOWN,pointerEvents:"auto"}},root:{slotProps:{backdrop:{invisible:!1,sx:{backgroundColor:"transparent"}}}}},sx:{"& .MuiList-root":{zIndex:TA.MENU.DROPDOWN,"&:focus":{outline:"none"}}},children:[h.jsx(Ze,{onClick:ve=>{os.component("MessageActions","复制菜单项被点击"),ve.stopPropagation(),te()},children:"复制内容"}),h.jsx(Ze,{onClick:H,children:"保存内容"}),h.jsxs(Ze,{onClick:Ae,sx:{display:"flex",alignItems:"center"},children:[h.jsx(wa,{size:16,style:{marginRight:"8px"}}),"导出信息"]}),h.jsx(Ze,{onClick:$,children:"编辑"}),u&&h.jsx(Ze,{onClick:ce,children:"重新发送"}),!u&&[h.jsx(Ze,{onClick:ye,children:"重新生成"},"regenerate"),h.jsx(Ze,{onClick:()=>{pe();const ve=document.getElementById(`message-${t.id}`);D(ve||document.body)},children:"查看历史版本"},"versions")],h.jsxs(Ze,{onClick:P,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Im,{size:16,style:{marginRight:"8px"}}),"分支"]}),h.jsx(Ze,{onClick:he,children:"删除"})]}),h.jsx(TF,{message:t,topicId:e,open:C,onClose:()=>x(!1)}),h.jsx($N,{message:t,anchorEl:L,open:G,onClose:be})]})},(t,e)=>t.message.id===e.message.id&&t.message.blocks?.length===e.message.blocks?.length&&t.message.currentVersionId===e.message.currentVersionId&&t.message.versions?.length===e.message.versions?.length&&t.message.updatedAt===e.message.updatedAt&&t.message.createdAt===e.message.createdAt&&t.topicId===e.topicId&&t.messageIndex===e.messageIndex&&t.renderMode===e.renderMode&&t.customTextColor===e.customTextColor),rL=({block:t})=>{const[e,r]=q.useState(!1),[n,s]=q.useState(!1),i=Ht(),a=t.metadata?.rawMcpToolResponse,o=t.status===qe.STREAMING||t.status===qe.PROCESSING,A=t.status===qe.SUCCESS,u=t.status===qe.ERROR,l=q.useCallback(v=>{v.stopPropagation();const w=t.arguments||a?.arguments;if(w){const B=JSON.stringify(w,null,2);navigator.clipboard.writeText(B),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制工具调用内容"})}},[t.arguments,a]),c=q.useCallback(()=>{r(!e)},[e]),f=q.useCallback(()=>{const v=a?.arguments||t.arguments;if(!v)return"";try{return JSON.stringify(v,null,2)}catch{return String(v)}},[a,t.arguments]),m=q.useCallback(()=>{if(t.content&&typeof t.content=="object"){const w=t.content;if(w.isError)return`错误: ${w.content?.[0]?.text||"工具调用失败"}`;if(w.content&&w.content.length>0){if(w.content.length===1&&w.content[0].type==="text"){const B=w.content[0].text||"";try{const C=JSON.parse(B);return JSON.stringify(C,null,2)}catch{return B}}return w.content.map(B=>{switch(B.type){case"text":const C=B.text||"";try{const x=JSON.parse(C);return JSON.stringify(x,null,2)}catch{return C}case"image":return`[图像数据: ${B.mimeType||"unknown"}]`;case"resource":return`[资源数据: ${B.mimeType||"unknown"}]`;default:return`[未知内容类型: ${B.type}]`}}).join(`

`)}return"无响应内容"}const v=a;if(v?.response){const{response:w}=v;if(w.isError)return`错误: ${w.content?.[0]?.text||"工具调用失败"}`;if(w.content&&w.content.length>0){if(w.content.length===1&&w.content[0].type==="text"){const B=w.content[0].text||"";try{const C=JSON.parse(B);return JSON.stringify(C,null,2)}catch{return B}}return w.content.map(B=>{switch(B.type){case"text":const C=B.text||"";try{const x=JSON.parse(C);return JSON.stringify(x,null,2)}catch{return C}case"image":return`[图像数据: ${B.mimeType||"unknown"}]`;case"resource":return`[资源数据: ${B.mimeType||"unknown"}]`;default:return`[未知内容类型: ${B.type}]`}}).join(`

`)}}return"无响应内容"},[t.content,a]),g=q.useCallback(v=>{v.stopPropagation();const w=m();w&&(navigator.clipboard.writeText(w),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制工具结果内容"}))},[m]),b=q.useCallback(()=>t.toolName||a?.tool?.name||"工具调用",[t.toolName,a]);return h.jsxs(nL,{elevation:0,sx:{mb:2,border:`1px solid ${i.palette.divider}`,borderRadius:"8px",overflow:"hidden"},children:[h.jsxs(de,{onClick:c,sx:{display:"flex",alignItems:"center",p:1.5,cursor:"pointer",borderBottom:e?`1px solid ${i.palette.divider}`:"none","&:hover":{backgroundColor:i.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)"}},children:[h.jsx(Co,{size:16,style:{marginRight:"8px",color:i.palette.info.main}}),h.jsxs(Se,{variant:"subtitle2",sx:{flexGrow:1},children:[b(),o&&h.jsx(Dt,{label:"处理中",size:"small",color:"info",variant:"outlined",sx:{ml:1,height:20}}),A&&h.jsx(Dt,{label:"已完成",size:"small",color:"success",variant:"outlined",sx:{ml:1,height:20}}),u&&h.jsx(Dt,{label:"失败",size:"small",color:"error",variant:"outlined",sx:{ml:1,height:20}})]}),h.jsx(Nr,{size:20,style:{transform:e?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),h.jsx(Qi,{in:e,children:h.jsxs(de,{sx:{p:2},children:[h.jsxs(de,{sx:{mb:2},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(Se,{variant:"caption",color:"text.secondary",children:"调用参数"}),h.jsx(Ye,{size:"small",onClick:l,color:n?"success":"default",children:h.jsx($n,{fontSize:"small"})})]}),h.jsx(hr,{variant:"outlined",sx:{p:1.5,maxHeight:"200px",overflowY:"auto",backgroundColor:i.palette.mode==="dark"?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.03)",fontFamily:"monospace",fontSize:"0.85rem",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0, 0, 0, 0.3)"}},children:f()})]}),h.jsx(St,{sx:{my:2}}),(t.content||a?.response||o)&&h.jsxs(de,{children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(Se,{variant:"caption",color:"text.secondary",children:"调用结果"}),!o&&h.jsx(Ye,{size:"small",onClick:g,color:n?"success":"default",children:h.jsx($n,{fontSize:"small"})})]}),o?h.jsx(de,{sx:{p:2,textAlign:"center"},children:h.jsx(Se,{variant:"body2",color:"text.secondary",children:"正在处理工具调用..."})}):h.jsx(de,{sx:{maxHeight:"300px",overflowY:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,p:1,backgroundColor:"background.paper","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0, 0, 0, 0.3)"}},children:h.jsx(Se,{component:"pre",sx:{fontFamily:"monospace",fontSize:"0.85rem",whiteSpace:"pre-wrap",wordBreak:"break-word",margin:0,color:"text.primary",lineHeight:1.4},children:m()})})]})]})})]})},nL=vs(hr)(({theme:t})=>({borderRadius:t.shape.borderRadius,boxShadow:"none",transition:t.transitions.create(["background-color","box-shadow"])})),sL=rt.memo(rL),iL=({content:t})=>{const e=q.useRef(null),[r,n]=q.useState("");return q.useEffect(()=>{if(!e.current)return;const s=e.current.clientHeight||400,a=Math.ceil(s/20)+5;try{if(t&&typeof t=="string"){const o=(t||"").split(`
`),A=Math.max(0,o.length-a),u=o.slice(A);n(u.join(`
`))}else n("")}catch(o){console.error("[VirtualizedRenderer] 处理内容时出错:",o),n("")}},[t]),h.jsx("div",{ref:e,style:{minHeight:"100px",overflow:"hidden",whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",color:"inherit",contain:"layout style paint",willChange:"contents"},children:r})},aL=({content:t})=>{const e=q.useRef(null),r=q.useRef(null);return q.useEffect(()=>{const n=e.current,s=r.current;if(!n||!s)return;const i=n.getContext("2d");if(!i)return;const a=window.getComputedStyle(s),o=a.fontSize||"14px",A=a.fontFamily||"inherit",u=a.color||"#333",l=parseFloat(a.lineHeight)||parseFloat(o)*1.4,c=n.getBoundingClientRect();n.width=c.width*window.devicePixelRatio,n.height=c.height*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio),i.clearRect(0,0,n.width,n.height),i.font=`${o} ${A}`,i.fillStyle=u,i.textBaseline="top";try{if(!t||typeof t!="string")return;const f=(t||"").split(`
`),m=Math.floor(c.height/l);f.slice(-m).forEach((b,v)=>{i.fillText(b,10,v*l+10)})}catch(f){console.error("[CanvasRenderer] 绘制文本时出错:",f)}},[t]),h.jsx("div",{ref:r,style:{width:"100%",minHeight:"100px",position:"relative",fontFamily:"inherit",fontSize:"inherit",color:"inherit"},children:h.jsx("canvas",{ref:e,style:{width:"100%",height:"100%",display:"block"}})})},ey=({content:t})=>{const e=q.useMemo(()=>t.length<=1e3?t:"..."+t.slice(-1e3),[t]);return h.jsx("pre",{style:{margin:0,padding:0,whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"inherit",fontSize:"inherit",contain:"layout style",willChange:"contents"},children:e})},oL=({content:t,isStreaming:e,onComplete:r})=>{const[n,s]=q.useState(t),i=q.useRef(t),a=f9(),o=q5(e),A=q.useMemo(()=>!o||!e?null:Wn.throttle(()=>{s(i.current)},ag()),[o,e]);q.useEffect(()=>{i.current=t,A?A():s(t)},[t,A]),q.useEffect(()=>()=>A?.cancel(),[A]),q.useEffect(()=>{if(!e&&r){const l=setTimeout(r,100);return()=>clearTimeout(l)}},[e,r]);const u=o&&e?n:t;if(o&&e)switch(a){case"virtual":return h.jsx(iL,{content:u});case"canvas":return h.jsx(aL,{content:u});case"minimal":return h.jsx(ey,{content:u});default:return h.jsx(ey,{content:u})}return null},ty=({block:t,role:e,messageId:r})=>{const n=t.content||"",s=e==="user",i=t.status===qe.STREAMING,a=dt(w=>{if(!r)return[];const B=Up.selectEntities(w);return Object.values(B).filter(C=>C?.type===tt.TOOL&&C.messageId===r)},(w,B)=>w.length!==B.length?!1:w.every((C,x)=>{const E=B[x];return C?.id===E?.id&&C?.status===E?.status&&C?.content===E?.content})),o=dt(w=>w.settings.renderUserInputAsMarkdown),[A,u]=q.useState(n),l=q.useRef(n),c=q5(i),f=i,m=q.useMemo(()=>{if(!f)return null;const w=ag();return Wn.throttle(()=>{u(l.current)},w)},[f]);q.useEffect(()=>{l.current=n,m&&f?m():u(n)},[n,m,f]),q.useEffect(()=>()=>m?.cancel(),[m]);const g=f?A:n,b=q.useMemo(()=>c&&i&&!s?h.jsx(oL,{content:g,isStreaming:i,onComplete:()=>{u(n)}}):null,[c,i,s,g,n]),v=q.useMemo(()=>{if(b)return b;const w={...t,content:g};if(s&&!o)return h.jsx(de,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.6,fontFamily:"inherit"},children:g});const B=Q3(g);if(s||!B)return h.jsx(Ws,{block:w,messageRole:e});const C=$8(g),x=C.match(/<tool_use[\s\S]*?<\/tool_use>/gi)||[];if(a.length===0){x.length>0&&console.warn(`[MainTextBlock] 工具块缺失：检测到 ${x.length} 个工具标签但没有工具块`);const G=C.replace(/<tool_use[\s\S]*?<\/tool_use>/gi,"");return h.jsx(Ws,{content:G,allowHtml:!1})}const E=[];let D=0,_=0;const L=/<tool_use[\s\S]*?<\/tool_use>/gi;let I;for(;(I=L.exec(C))!==null;){if(I.index>D){const G=C.slice(D,I.index);G.trim()&&E.push(h.jsx(Ws,{content:G,allowHtml:!1},`text-${E.length}`))}if(_<a.length){const G=a[_];E.push(h.jsx("div",{style:{margin:"16px 0"},children:h.jsx(sL,{block:G})},`tool-${G.id}`)),_++}else console.warn(`[MainTextBlock] 工具块不足，跳过第 ${_} 个工具标签`),E.push(h.jsx("div",{style:{margin:"16px 0",padding:"8px",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:h.jsx("span",{style:{color:"#666"},children:"工具调用处理中..."})},`placeholder-${_}`)),_++;D=I.index+I[0].length}if(D<C.length){const G=C.slice(D);G.trim()&&E.push(h.jsx(Ws,{content:G,allowHtml:!1},`text-${E.length}`))}return h.jsx(h.Fragment,{children:E})},[g,s,a,r,o,t,e,b]);return g.trim()?h.jsx("div",{className:"main-text-block",children:v}):null},AL=({block:t})=>{const[e,r]=q.useState(!1),[n,s]=q.useState(""),[i,a]=q.useState(!0),[o,A]=q.useState(!1),u=()=>{r(!0)},l=()=>{r(!1)};return q.useEffect(()=>{(async()=>{if(!t.url){A(!0),a(!1);return}const f=t.url.match(/\[图片:([a-zA-Z0-9_-]+)\]/);if(f&&f[1])try{const m=f[1],g=sessionStorage.getItem(`img_cache_${m}`);if(g){s(g),a(!1);return}const b=await De.getImageBlob(m);if(!b)throw new Error("图片不存在");const v=URL.createObjectURL(b);sessionStorage.setItem(`img_cache_${m}`,v),s(v),a(!1)}catch(m){console.error("加载图片引用失败:",m),A(!0),a(!1)}else s(t.url),a(!1)})()},[t.url]),i?h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)"},children:h.jsx(KA,{size:24})}):o||!n?h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)",color:"text.secondary"},children:[h.jsx(Hp,{}),h.jsx(de,{sx:{mt:1,fontSize:"0.75rem"},children:"图片加载失败"})]}):h.jsxs(de,{sx:{position:"relative",maxWidth:"100%",display:"inline-block"},children:[h.jsx(de,{component:"img",src:n,alt:"图片内容",sx:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px",cursor:"pointer"},onClick:u}),h.jsx(Ye,{size:"small",sx:{position:"absolute",top:"8px",right:"8px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},onClick:u,children:h.jsx(T5,{fontSize:"small"})}),h.jsx(kr,{open:e,onClose:l,maxWidth:"lg",children:h.jsx(Ir,{sx:{padding:0},children:h.jsx(de,{component:"img",src:n,alt:"图片内容",sx:{maxWidth:"100%",maxHeight:"90vh"}})})})]})},uL=rt.memo(AL),lL=({block:t})=>{const[e,r]=q.useState(!1),[n,s]=q.useState(""),[i,a]=q.useState(!0),[o,A]=q.useState(!1),u=q.useRef(null),l=()=>{r(!0)},c=()=>{r(!1)};return q.useEffect(()=>{(async()=>{if(!t.url){A(!0),a(!1);return}const m=t.url.match(/\[视频:([a-zA-Z0-9_-]+)\]/);if(m&&m[1])try{const g=m[1],b=sessionStorage.getItem(`video_cache_${g}`);if(b){s(b),a(!1);return}const v=await De.getImageBlob(g);if(!v)throw new Error("视频不存在");const w=URL.createObjectURL(v);sessionStorage.setItem(`video_cache_${g}`,w),s(w),a(!1)}catch(g){console.error("加载视频引用失败:",g),A(!0),a(!1)}else s(t.url),a(!1)})()},[t.url]),i?h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)"},children:h.jsx(KA,{size:24})}):o||!n?h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.05)",color:"text.secondary"},children:[h.jsx(Hp,{}),h.jsx(de,{sx:{mt:1,fontSize:"0.75rem"},children:"视频加载失败"})]}):h.jsxs(de,{sx:{position:"relative",maxWidth:"100%",display:"inline-block"},children:[h.jsx("video",{ref:u,src:n,poster:t.poster,controls:!0,style:{maxWidth:"100%",maxHeight:"400px",borderRadius:"8px",backgroundColor:"#000"},width:t.width,height:t.height,preload:"metadata",children:h.jsx(Se,{variant:"body2",color:"text.secondary",children:"您的浏览器不支持视频播放"})}),h.jsx(Ye,{size:"small",sx:{position:"absolute",top:"8px",right:"8px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},onClick:l,children:h.jsx(T5,{fontSize:"small"})}),h.jsx(kr,{open:e,onClose:c,maxWidth:"lg",fullWidth:!0,children:h.jsx(Ir,{sx:{padding:0,backgroundColor:"#000"},children:h.jsx("video",{src:n,poster:t.poster,controls:!0,autoPlay:!0,style:{width:"100%",maxHeight:"90vh"},children:h.jsx(Se,{variant:"body2",color:"white",children:"您的浏览器不支持视频播放"})})})})]})},cL=rt.memo(lL),dL=({block:t})=>{const[e,r]=q.useState(!0),[n,s]=q.useState(!1),i=Ht(),a=jf(()=>t.content,[t.content]),o=jf(()=>t.sources,[t.sources]),A=q.useCallback(g=>{g.stopPropagation(),t.content&&(navigator.clipboard.writeText(t.content),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制引用内容"}))},[t.content]),u=q.useCallback(()=>{r(!e)},[e]),l=q.useCallback((g,b)=>{b.stopPropagation(),window.open(g,"_blank","noopener,noreferrer")},[]),c=q.useCallback(()=>t.source==="web_search"?"网络搜索":t.source==="knowledge_base"?"知识库":t.source==="document"?"文档":"引用",[t.source]),f=q.useCallback(g=>g?g.startsWith("http://")||g.startsWith("https://")?g:`https://${g}`:"",[]),m=t.status===qe.STREAMING||t.status===qe.PROCESSING;return!t.sources||t.sources.length===0?null:h.jsxs(hL,{elevation:0,sx:{mb:2,border:`1px solid ${i.palette.divider}`,borderRadius:"8px",overflow:"hidden"},children:[h.jsxs(de,{onClick:u,sx:{display:"flex",alignItems:"center",p:1.5,cursor:"pointer",borderBottom:e?`1px solid ${i.palette.divider}`:"none","&:hover":{backgroundColor:i.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)"}},children:[h.jsx(Pp,{size:20,color:i.palette.primary.main,style:{marginRight:8}}),h.jsxs(Se,{variant:"subtitle2",sx:{flexGrow:1},children:[c(),m&&h.jsx(Dt,{label:"加载中",size:"small",color:"primary",variant:"outlined",sx:{ml:1,height:20}})]}),h.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(Ye,{size:"small",onClick:A,sx:{mr:1},color:n?"success":"default",children:h.jsx($n,{size:16})}),h.jsx(Nr,{size:20,style:{transform:e?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]})]}),h.jsx(Qi,{in:e,children:h.jsxs(de,{sx:{p:2},children:[a&&h.jsx(de,{sx:{mb:2},children:h.jsx(Ws,{content:a,allowHtml:!1})}),o&&o.length>0&&h.jsxs(de,{sx:{mt:2},children:[h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"来源:"}),h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:1},children:o.map((g,b)=>h.jsxs(hr,{variant:"outlined",sx:{p:1.5,backgroundColor:i.palette.mode==="dark"?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.03)"},children:[h.jsx(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:h.jsxs(de,{sx:{flex:1},children:[h.jsx(Se,{variant:"body2",sx:{fontWeight:"medium",mb:.5},children:g.title||"未知标题"}),g.url&&h.jsxs(X8,{href:"#",onClick:v=>l(f(g.url),v),color:"primary",sx:{fontSize:"0.8rem",display:"flex",alignItems:"center",width:"fit-content"},children:[g.url.length>50?`${g.url.substring(0,50)}...`:g.url,h.jsx(Lp,{size:14,style:{marginLeft:4}})]})]})}),g.content&&h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:"0.85rem",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:g.content})]},b))})]})]})})]})},hL=vs(hr)(({theme:t})=>({borderRadius:t.shape.borderRadius,boxShadow:"none",transition:t.transitions.create(["background-color","box-shadow"])})),fL=rt.memo(dL),pL=({block:t})=>{const e=[400,401,403,404,429,500,502,503,504],r=()=>{const i=t.error?.message||t.message||t.content;return i||(t.error&&e.includes(t.error?.status)?{400:"请求错误，请检查请求参数是否正确。如果修改了模型设置，请重置到默认设置",401:"身份验证失败，请检查 API 密钥是否正确",403:"禁止访问，请翻译具体报错信息查看原因，或联系服务商询问被禁止原因",404:"模型不存在或者请求路径错误",429:"请求速率超过限制，请稍后再试",500:"服务器错误，请稍后再试",502:"网关错误，请稍后再试",503:"服务不可用，请稍后再试",504:"网关超时，请稍后再试"}[t.error.status]||"未知HTTP错误":"发生错误，请重试")},s=(()=>{const i=t.error?.response||t.error?.data||t.error?.details;if(!i)return null;if(typeof i=="object")try{return JSON.stringify(i,null,2)}catch{return String(i)}const a=String(i);return a.includes("{")||a.includes("[")||a.length>100?a:null})();return h.jsx(de,{sx:{margin:"15px 0 8px"},children:h.jsxs(Sn,{severity:"error",sx:{padding:"10px",fontSize:"12px"},children:[h.jsx(Se,{variant:"body2",sx:{fontSize:"12px",mb:s?1:0},children:r()}),s&&h.jsxs(h.Fragment,{children:[h.jsx(St,{sx:{my:1}}),h.jsx(Se,{variant:"caption",sx:{fontSize:"11px",color:"text.secondary",display:"block",mb:.5},children:"API响应:"}),h.jsx(de,{component:"pre",sx:{fontSize:"10px",fontFamily:"monospace",backgroundColor:"rgba(0, 0, 0, 0.05)",padding:"8px",borderRadius:"4px",overflow:"auto",maxHeight:"150px",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:s})]})]})})},gL=rt.memo(pL),mL=({block:t})=>{const e=Ht();return h.jsxs(de,{sx:{mt:2},children:[h.jsxs(Se,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold",color:e.palette.primary.main},children:["翻译 (",t.sourceLanguage," → ",t.targetLanguage,")"]}),h.jsxs(hr,{variant:"outlined",sx:{p:1.5,backgroundColor:e.palette.mode==="dark"?"rgba(0, 0, 0, 0.1)":"rgba(0, 0, 0, 0.03)",borderColor:e.palette.divider},children:[h.jsxs(de,{sx:{mb:1},children:[h.jsx(Se,{variant:"caption",sx:{color:e.palette.text.secondary,display:"block",mb:.5},children:"原文:"}),h.jsx(de,{sx:{pl:1,borderLeft:`2px solid ${e.palette.grey[400]}`},children:h.jsx(Se,{variant:"body2",children:t.sourceContent})})]}),h.jsxs(de,{children:[h.jsx(Se,{variant:"caption",sx:{color:e.palette.primary.main,display:"block",mb:.5},children:"翻译:"}),h.jsx(de,{children:h.jsx(Ws,{content:t.content,allowHtml:!1})})]})]})]})},bL=rt.memo(mL);var pA={exports:{}},rc={exports:{}},wL=rc.exports,ry;function yL(){return ry||(ry=1,function(t,e){(function(n,s){t.exports=s()})(typeof self<"u"?self:wL,function(){return function(){var r={};(function(){r.d=function(p,d){for(var y in d)r.o(d,y)&&!r.o(p,y)&&Object.defineProperty(p,y,{enumerable:!0,get:d[y]})}})(),function(){r.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)}}();var n={};r.d(n,{default:function(){return d8}});class s{constructor(d,y){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let S="KaTeX parse error: "+d,U,z;const X=y&&y.loc;if(X&&X.start<=X.end){const fe=X.lexer.input;U=X.start,z=X.end,U===fe.length?S+=" at end of input: ":S+=" at position "+(U+1)+": ";const Be=fe.slice(U,z).replace(/[^]/g,"$&̲");let Fe;U>15?Fe="…"+fe.slice(U-15,U):Fe=fe.slice(0,U);let ke;z+15<fe.length?ke=fe.slice(z,z+15)+"…":ke=fe.slice(z),S+=Fe+Be+ke}const ne=new Error(S);return ne.name="ParseError",ne.__proto__=s.prototype,ne.position=U,U!=null&&z!=null&&(ne.length=z-U),ne.rawMessage=d,ne}}s.prototype.__proto__=Error.prototype;var i=s;const a=function(p,d){return p.indexOf(d)!==-1},o=function(p,d){return p===void 0?d:p},A=/([A-Z])/g,u=function(p){return p.replace(A,"-$1").toLowerCase()},l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},c=/[&><"']/g;function f(p){return String(p).replace(c,d=>l[d])}const m=function(p){return p.type==="ordgroup"||p.type==="color"?p.body.length===1?m(p.body[0]):p:p.type==="font"?m(p.body):p},g=function(p){const d=m(p);return d.type==="mathord"||d.type==="textord"||d.type==="atom"},b=function(p){if(!p)throw new Error("Expected non-null, but got "+String(p));return p};var w={contains:a,deflt:o,escape:f,hyphenate:u,getBaseElem:m,isCharacterBox:g,protocolFromUrl:function(p){const d=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(p);return d?d[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(d[1])?null:d[1].toLowerCase():"_relative"}};const B={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:p=>"#"+p},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(p,d)=>(d.push(p),d)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:p=>Math.max(0,p),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:p=>Math.max(0,p),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:p=>Math.max(0,p),cli:"-e, --max-expand <n>",cliProcessor:p=>p==="Infinity"?1/0:parseInt(p)},globalGroup:{type:"boolean",cli:!1}};function C(p){if(p.default)return p.default;const d=p.type,y=Array.isArray(d)?d[0]:d;if(typeof y!="string")return y.enum[0];switch(y){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class x{constructor(d){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,d=d||{};for(const y in B)if(B.hasOwnProperty(y)){const S=B[y];this[y]=d[y]!==void 0?S.processor?S.processor(d[y]):d[y]:C(S)}}reportNonstrict(d,y,S){let U=this.strict;if(typeof U=="function"&&(U=U(d,y,S)),!(!U||U==="ignore")){if(U===!0||U==="error")throw new i("LaTeX-incompatible input and strict mode is set to 'error': "+(y+" ["+d+"]"),S);U==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(y+" ["+d+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+U+"': "+y+" ["+d+"]"))}}useStrictBehavior(d,y,S){let U=this.strict;if(typeof U=="function")try{U=U(d,y,S)}catch{U="error"}return!U||U==="ignore"?!1:U===!0||U==="error"?!0:U==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(y+" ["+d+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+U+"': "+y+" ["+d+"]")),!1)}isTrusted(d){if(d.url&&!d.protocol){const S=w.protocolFromUrl(d.url);if(S==null)return!1;d.protocol=S}return!!(typeof this.trust=="function"?this.trust(d):this.trust)}}class E{constructor(d,y,S){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=d,this.size=y,this.cramped=S}sup(){return T[V[this.id]]}sub(){return T[J[this.id]]}fracNum(){return T[Y[this.id]]}fracDen(){return T[oe[this.id]]}cramp(){return T[re[this.id]]}text(){return T[pe[this.id]]}isTight(){return this.size>=2}}const D=0,_=1,L=2,I=3,G=4,W=5,Q=6,j=7,T=[new E(D,0,!1),new E(_,0,!0),new E(L,1,!1),new E(I,1,!0),new E(G,2,!1),new E(W,2,!0),new E(Q,3,!1),new E(j,3,!0)],V=[G,W,G,W,Q,j,Q,j],J=[W,W,W,W,j,j,j,j],Y=[L,I,G,W,Q,j,Q,j],oe=[I,I,W,W,j,j,j,j],re=[_,_,I,I,W,W,j,j],pe=[D,_,L,I,L,I,L,I];var te={DISPLAY:T[D],TEXT:T[L],SCRIPT:T[G],SCRIPTSCRIPT:T[Q]};const $=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function he(p){for(let d=0;d<$.length;d++){const y=$[d];for(let S=0;S<y.blocks.length;S++){const U=y.blocks[S];if(p>=U[0]&&p<=U[1])return y.name}}return null}const me=[];$.forEach(p=>p.blocks.forEach(d=>me.push(...d)));function ye(p){for(let d=0;d<me.length;d+=2)if(p>=me[d]&&p<=me[d+1])return!0;return!1}const ce=80,H=function(p,d){return"M95,"+(622+p+d)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+p/2.075+" -"+p+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+p)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+p)+" "+d+"h400000v"+(40+p)+"h-400000z"},P=function(p,d){return"M263,"+(601+p+d)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+p/2.084+" -"+p+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+p)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+p)+" "+d+"h400000v"+(40+p)+"h-400000z"},ge=function(p,d){return"M983 "+(10+p+d)+`
l`+p/3.13+" -"+p+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+p)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+p)+" "+d+"h400000v"+(40+p)+"h-400000z"},ie=function(p,d){return"M424,"+(2398+p+d)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+p/4.223+" -"+p+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+p)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+p)+" "+d+`
h400000v`+(40+p)+"h-400000z"},Z=function(p,d){return"M473,"+(2713+p+d)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+p/5.298+" -"+p+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+p)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+p)+" "+d+"h400000v"+(40+p)+"H1017.7z"},se=function(p){const d=p/2;return"M400000 "+p+" H0 L"+d+" 0 l65 45 L145 "+(p-80)+" H400000z"},Ce=function(p,d,y){const S=y-54-d-p;return"M702 "+(p+d)+"H400000"+(40+p)+`
H742v`+S+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+d+"H400000v"+(40+p)+"H742z"},O=function(p,d,y){d=1e3*d;let S="";switch(p){case"sqrtMain":S=H(d,ce);break;case"sqrtSize1":S=P(d,ce);break;case"sqrtSize2":S=ge(d,ce);break;case"sqrtSize3":S=ie(d,ce);break;case"sqrtSize4":S=Z(d,ce);break;case"sqrtTall":S=Ce(d,ce,y)}return S},ue=function(p,d){switch(p){case"⎜":return"M291 0 H417 V"+d+" H291z M291 0 H417 V"+d+" H291z";case"∣":return"M145 0 H188 V"+d+" H145z M145 0 H188 V"+d+" H145z";case"∥":return"M145 0 H188 V"+d+" H145z M145 0 H188 V"+d+" H145z"+("M367 0 H410 V"+d+" H367z M367 0 H410 V"+d+" H367z");case"⎟":return"M457 0 H583 V"+d+" H457z M457 0 H583 V"+d+" H457z";case"⎢":return"M319 0 H403 V"+d+" H319z M319 0 H403 V"+d+" H319z";case"⎥":return"M263 0 H347 V"+d+" H263z M263 0 H347 V"+d+" H263z";case"⎪":return"M384 0 H504 V"+d+" H384z M384 0 H504 V"+d+" H384z";case"⏐":return"M312 0 H355 V"+d+" H312z M312 0 H355 V"+d+" H312z";case"‖":return"M257 0 H300 V"+d+" H257z M257 0 H300 V"+d+" H257z"+("M478 0 H521 V"+d+" H478z M478 0 H521 V"+d+" H478z");default:return""}},N={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},F=function(p,d){switch(p){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+d+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+d+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+d+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+d+" v1759 h84z";case"vert":return"M145 15 v585 v"+d+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-d+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+d+" v585 h43z";case"doublevert":return"M145 15 v585 v"+d+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-d+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+d+` v585 h43z
M367 15 v585 v`+d+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-d+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+d+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+d+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+d+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+d+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+d+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+d+` v602 h84z
M403 1759 V0 H319 V1759 v`+d+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+d+` v602 h84z
M347 1759 V0 h-84 V1759 v`+d+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(d+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(d+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(d+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(d+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class k{constructor(d){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=d,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(d){return w.contains(this.classes,d)}toNode(){const d=document.createDocumentFragment();for(let y=0;y<this.children.length;y++)d.appendChild(this.children[y].toNode());return d}toMarkup(){let d="";for(let y=0;y<this.children.length;y++)d+=this.children[y].toMarkup();return d}toText(){const d=y=>y.toText();return this.children.map(d).join("")}}var R={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ae={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},be={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function le(p,d){R[p]=d}function Te(p,d,y){if(!R[d])throw new Error("Font metrics not found for font: "+d+".");let S=p.charCodeAt(0),U=R[d][S];if(!U&&p[0]in be&&(S=be[p[0]].charCodeAt(0),U=R[d][S]),!U&&y==="text"&&ye(S)&&(U=R[d][77]),U)return{depth:U[0],height:U[1],italic:U[2],skew:U[3],width:U[4]}}const _e={};function ve(p){let d;if(p>=5?d=0:p>=3?d=1:d=2,!_e[d]){const y=_e[d]={cssEmPerMu:Ae.quad[d]/18};for(const S in Ae)Ae.hasOwnProperty(S)&&(y[S]=Ae[S][d])}return _e[d]}const Me=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],je=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ke=function(p,d){return d.size<2?p:Me[p-1][d.size-1]};class At{constructor(d){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=d.style,this.color=d.color,this.size=d.size||At.BASESIZE,this.textSize=d.textSize||this.size,this.phantom=!!d.phantom,this.font=d.font||"",this.fontFamily=d.fontFamily||"",this.fontWeight=d.fontWeight||"",this.fontShape=d.fontShape||"",this.sizeMultiplier=je[this.size-1],this.maxSize=d.maxSize,this.minRuleThickness=d.minRuleThickness,this._fontMetrics=void 0}extend(d){const y={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in d)d.hasOwnProperty(S)&&(y[S]=d[S]);return new At(y)}havingStyle(d){return this.style===d?this:this.extend({style:d,size:Ke(this.textSize,d)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(d){return this.size===d&&this.textSize===d?this:this.extend({style:this.style.text(),size:d,textSize:d,sizeMultiplier:je[d-1]})}havingBaseStyle(d){d=d||this.style.text();const y=Ke(At.BASESIZE,d);return this.size===y&&this.textSize===At.BASESIZE&&this.style===d?this:this.extend({style:d,size:y})}havingBaseSizing(){let d;switch(this.style.id){case 4:case 5:d=3;break;case 6:case 7:d=1;break;default:d=6}return this.extend({style:this.style.text(),size:d})}withColor(d){return this.extend({color:d})}withPhantom(){return this.extend({phantom:!0})}withFont(d){return this.extend({font:d})}withTextFontFamily(d){return this.extend({fontFamily:d,font:""})}withTextFontWeight(d){return this.extend({fontWeight:d,font:""})}withTextFontShape(d){return this.extend({fontShape:d,font:""})}sizingClasses(d){return d.size!==this.size?["sizing","reset-size"+d.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==At.BASESIZE?["sizing","reset-size"+this.size,"size"+At.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ve(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}At.BASESIZE=6;var It=At;const Lr={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ts={ex:!0,em:!0,mu:!0},Pt=function(p){return typeof p!="string"&&(p=p.unit),p in Lr||p in Ts||p==="ex"},_t=function(p,d){let y;if(p.unit in Lr)y=Lr[p.unit]/d.fontMetrics().ptPerEm/d.sizeMultiplier;else if(p.unit==="mu")y=d.fontMetrics().cssEmPerMu;else{let S;if(d.style.isTight()?S=d.havingStyle(d.style.text()):S=d,p.unit==="ex")y=S.fontMetrics().xHeight;else if(p.unit==="em")y=S.fontMetrics().quad;else throw new i("Invalid unit: '"+p.unit+"'");S!==d&&(y*=S.sizeMultiplier/d.sizeMultiplier)}return Math.min(p.number*y,d.maxSize)},ze=function(p){return+p.toFixed(4)+"em"},gr=function(p){return p.filter(d=>d).join(" ")},Ni=function(p,d,y){if(this.classes=p||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=y||{},d){d.style.isTight()&&this.classes.push("mtight");const S=d.getColor();S&&(this.style.color=S)}},Ta=function(p){const d=document.createElement(p);d.className=gr(this.classes);for(const y in this.style)this.style.hasOwnProperty(y)&&(d.style[y]=this.style[y]);for(const y in this.attributes)this.attributes.hasOwnProperty(y)&&d.setAttribute(y,this.attributes[y]);for(let y=0;y<this.children.length;y++)d.appendChild(this.children[y].toNode());return d},Io=/[\s"'>/=\x00-\x1f]/,Fa=function(p){let d="<"+p;this.classes.length&&(d+=' class="'+w.escape(gr(this.classes))+'"');let y="";for(const S in this.style)this.style.hasOwnProperty(S)&&(y+=w.hyphenate(S)+":"+this.style[S]+";");y&&(d+=' style="'+w.escape(y)+'"');for(const S in this.attributes)if(this.attributes.hasOwnProperty(S)){if(Io.test(S))throw new i("Invalid attribute name '"+S+"'");d+=" "+S+'="'+w.escape(this.attributes[S])+'"'}d+=">";for(let S=0;S<this.children.length;S++)d+=this.children[S].toMarkup();return d+="</"+p+">",d};class Yn{constructor(d,y,S,U){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Ni.call(this,d,S,U),this.children=y||[]}setAttribute(d,y){this.attributes[d]=y}hasClass(d){return w.contains(this.classes,d)}toNode(){return Ta.call(this,"span")}toMarkup(){return Fa.call(this,"span")}}class On{constructor(d,y,S,U){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Ni.call(this,y,U),this.children=S||[],this.setAttribute("href",d)}setAttribute(d,y){this.attributes[d]=y}hasClass(d){return w.contains(this.classes,d)}toNode(){return Ta.call(this,"a")}toMarkup(){return Fa.call(this,"a")}}class oi{constructor(d,y,S){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=y,this.src=d,this.classes=["mord"],this.style=S}hasClass(d){return w.contains(this.classes,d)}toNode(){const d=document.createElement("img");d.src=this.src,d.alt=this.alt,d.className="mord";for(const y in this.style)this.style.hasOwnProperty(y)&&(d.style[y]=this.style[y]);return d}toMarkup(){let d='<img src="'+w.escape(this.src)+'"'+(' alt="'+w.escape(this.alt)+'"'),y="";for(const S in this.style)this.style.hasOwnProperty(S)&&(y+=w.hyphenate(S)+":"+this.style[S]+";");return y&&(d+=' style="'+w.escape(y)+'"'),d+="'/>",d}}const du={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Yr{constructor(d,y,S,U,z,X,ne,fe){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=d,this.height=y||0,this.depth=S||0,this.italic=U||0,this.skew=z||0,this.width=X||0,this.classes=ne||[],this.style=fe||{},this.maxFontSize=0;const Be=he(this.text.charCodeAt(0));Be&&this.classes.push(Be+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=du[this.text])}hasClass(d){return w.contains(this.classes,d)}toNode(){const d=document.createTextNode(this.text);let y=null;this.italic>0&&(y=document.createElement("span"),y.style.marginRight=ze(this.italic)),this.classes.length>0&&(y=y||document.createElement("span"),y.className=gr(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(y=y||document.createElement("span"),y.style[S]=this.style[S]);return y?(y.appendChild(d),y):d}toMarkup(){let d=!1,y="<span";this.classes.length&&(d=!0,y+=' class="',y+=w.escape(gr(this.classes)),y+='"');let S="";this.italic>0&&(S+="margin-right:"+this.italic+"em;");for(const z in this.style)this.style.hasOwnProperty(z)&&(S+=w.hyphenate(z)+":"+this.style[z]+";");S&&(d=!0,y+=' style="'+w.escape(S)+'"');const U=w.escape(this.text);return d?(y+=">",y+=U,y+="</span>",y):U}}class Nn{constructor(d,y){this.children=void 0,this.attributes=void 0,this.children=d||[],this.attributes=y||{}}toNode(){const y=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&y.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)y.appendChild(this.children[S].toNode());return y}toMarkup(){let d='<svg xmlns="http://www.w3.org/2000/svg"';for(const y in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,y)&&(d+=" "+y+'="'+w.escape(this.attributes[y])+'"');d+=">";for(let y=0;y<this.children.length;y++)d+=this.children[y].toMarkup();return d+="</svg>",d}}class Jn{constructor(d,y){this.pathName=void 0,this.alternate=void 0,this.pathName=d,this.alternate=y}toNode(){const y=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?y.setAttribute("d",this.alternate):y.setAttribute("d",N[this.pathName]),y}toMarkup(){return this.alternate?'<path d="'+w.escape(this.alternate)+'"/>':'<path d="'+w.escape(N[this.pathName])+'"/>'}}class _o{constructor(d){this.attributes=void 0,this.attributes=d||{}}toNode(){const y=document.createElementNS("http://www.w3.org/2000/svg","line");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&y.setAttribute(S,this.attributes[S]);return y}toMarkup(){let d="<line";for(const y in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,y)&&(d+=" "+y+'="'+w.escape(this.attributes[y])+'"');return d+="/>",d}}function hu(p){if(p instanceof Yr)return p;throw new Error("Expected symbolNode but got "+String(p)+".")}function c0(p){if(p instanceof Yn)return p;throw new Error("Expected span<HtmlDomNode> but got "+String(p)+".")}const d0={bin:1,close:1,inner:1,open:1,punct:1,rel:1},nt={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Et={math:{},text:{}};var bt=Et;function M(p,d,y,S,U,z){Et[p][U]={font:d,group:y,replace:S},z&&S&&(Et[p][S]=Et[p][U])}const K="math",Oe="text",ee="main",we="ams",Gt="accent-token",$e="bin",Wr="close",Da="inner",st="mathord",mr="op-token",un="open",fu="punct",xe="rel",Fs="spacing",Ee="textord";M(K,ee,xe,"≡","\\equiv",!0),M(K,ee,xe,"≺","\\prec",!0),M(K,ee,xe,"≻","\\succ",!0),M(K,ee,xe,"∼","\\sim",!0),M(K,ee,xe,"⊥","\\perp"),M(K,ee,xe,"⪯","\\preceq",!0),M(K,ee,xe,"⪰","\\succeq",!0),M(K,ee,xe,"≃","\\simeq",!0),M(K,ee,xe,"∣","\\mid",!0),M(K,ee,xe,"≪","\\ll",!0),M(K,ee,xe,"≫","\\gg",!0),M(K,ee,xe,"≍","\\asymp",!0),M(K,ee,xe,"∥","\\parallel"),M(K,ee,xe,"⋈","\\bowtie",!0),M(K,ee,xe,"⌣","\\smile",!0),M(K,ee,xe,"⊑","\\sqsubseteq",!0),M(K,ee,xe,"⊒","\\sqsupseteq",!0),M(K,ee,xe,"≐","\\doteq",!0),M(K,ee,xe,"⌢","\\frown",!0),M(K,ee,xe,"∋","\\ni",!0),M(K,ee,xe,"∝","\\propto",!0),M(K,ee,xe,"⊢","\\vdash",!0),M(K,ee,xe,"⊣","\\dashv",!0),M(K,ee,xe,"∋","\\owns"),M(K,ee,fu,".","\\ldotp"),M(K,ee,fu,"⋅","\\cdotp"),M(K,ee,Ee,"#","\\#"),M(Oe,ee,Ee,"#","\\#"),M(K,ee,Ee,"&","\\&"),M(Oe,ee,Ee,"&","\\&"),M(K,ee,Ee,"ℵ","\\aleph",!0),M(K,ee,Ee,"∀","\\forall",!0),M(K,ee,Ee,"ℏ","\\hbar",!0),M(K,ee,Ee,"∃","\\exists",!0),M(K,ee,Ee,"∇","\\nabla",!0),M(K,ee,Ee,"♭","\\flat",!0),M(K,ee,Ee,"ℓ","\\ell",!0),M(K,ee,Ee,"♮","\\natural",!0),M(K,ee,Ee,"♣","\\clubsuit",!0),M(K,ee,Ee,"℘","\\wp",!0),M(K,ee,Ee,"♯","\\sharp",!0),M(K,ee,Ee,"♢","\\diamondsuit",!0),M(K,ee,Ee,"ℜ","\\Re",!0),M(K,ee,Ee,"♡","\\heartsuit",!0),M(K,ee,Ee,"ℑ","\\Im",!0),M(K,ee,Ee,"♠","\\spadesuit",!0),M(K,ee,Ee,"§","\\S",!0),M(Oe,ee,Ee,"§","\\S"),M(K,ee,Ee,"¶","\\P",!0),M(Oe,ee,Ee,"¶","\\P"),M(K,ee,Ee,"†","\\dag"),M(Oe,ee,Ee,"†","\\dag"),M(Oe,ee,Ee,"†","\\textdagger"),M(K,ee,Ee,"‡","\\ddag"),M(Oe,ee,Ee,"‡","\\ddag"),M(Oe,ee,Ee,"‡","\\textdaggerdbl"),M(K,ee,Wr,"⎱","\\rmoustache",!0),M(K,ee,un,"⎰","\\lmoustache",!0),M(K,ee,Wr,"⟯","\\rgroup",!0),M(K,ee,un,"⟮","\\lgroup",!0),M(K,ee,$e,"∓","\\mp",!0),M(K,ee,$e,"⊖","\\ominus",!0),M(K,ee,$e,"⊎","\\uplus",!0),M(K,ee,$e,"⊓","\\sqcap",!0),M(K,ee,$e,"∗","\\ast"),M(K,ee,$e,"⊔","\\sqcup",!0),M(K,ee,$e,"◯","\\bigcirc",!0),M(K,ee,$e,"∙","\\bullet",!0),M(K,ee,$e,"‡","\\ddagger"),M(K,ee,$e,"≀","\\wr",!0),M(K,ee,$e,"⨿","\\amalg"),M(K,ee,$e,"&","\\And"),M(K,ee,xe,"⟵","\\longleftarrow",!0),M(K,ee,xe,"⇐","\\Leftarrow",!0),M(K,ee,xe,"⟸","\\Longleftarrow",!0),M(K,ee,xe,"⟶","\\longrightarrow",!0),M(K,ee,xe,"⇒","\\Rightarrow",!0),M(K,ee,xe,"⟹","\\Longrightarrow",!0),M(K,ee,xe,"↔","\\leftrightarrow",!0),M(K,ee,xe,"⟷","\\longleftrightarrow",!0),M(K,ee,xe,"⇔","\\Leftrightarrow",!0),M(K,ee,xe,"⟺","\\Longleftrightarrow",!0),M(K,ee,xe,"↦","\\mapsto",!0),M(K,ee,xe,"⟼","\\longmapsto",!0),M(K,ee,xe,"↗","\\nearrow",!0),M(K,ee,xe,"↩","\\hookleftarrow",!0),M(K,ee,xe,"↪","\\hookrightarrow",!0),M(K,ee,xe,"↘","\\searrow",!0),M(K,ee,xe,"↼","\\leftharpoonup",!0),M(K,ee,xe,"⇀","\\rightharpoonup",!0),M(K,ee,xe,"↙","\\swarrow",!0),M(K,ee,xe,"↽","\\leftharpoondown",!0),M(K,ee,xe,"⇁","\\rightharpoondown",!0),M(K,ee,xe,"↖","\\nwarrow",!0),M(K,ee,xe,"⇌","\\rightleftharpoons",!0),M(K,we,xe,"≮","\\nless",!0),M(K,we,xe,"","\\@nleqslant"),M(K,we,xe,"","\\@nleqq"),M(K,we,xe,"⪇","\\lneq",!0),M(K,we,xe,"≨","\\lneqq",!0),M(K,we,xe,"","\\@lvertneqq"),M(K,we,xe,"⋦","\\lnsim",!0),M(K,we,xe,"⪉","\\lnapprox",!0),M(K,we,xe,"⊀","\\nprec",!0),M(K,we,xe,"⋠","\\npreceq",!0),M(K,we,xe,"⋨","\\precnsim",!0),M(K,we,xe,"⪹","\\precnapprox",!0),M(K,we,xe,"≁","\\nsim",!0),M(K,we,xe,"","\\@nshortmid"),M(K,we,xe,"∤","\\nmid",!0),M(K,we,xe,"⊬","\\nvdash",!0),M(K,we,xe,"⊭","\\nvDash",!0),M(K,we,xe,"⋪","\\ntriangleleft"),M(K,we,xe,"⋬","\\ntrianglelefteq",!0),M(K,we,xe,"⊊","\\subsetneq",!0),M(K,we,xe,"","\\@varsubsetneq"),M(K,we,xe,"⫋","\\subsetneqq",!0),M(K,we,xe,"","\\@varsubsetneqq"),M(K,we,xe,"≯","\\ngtr",!0),M(K,we,xe,"","\\@ngeqslant"),M(K,we,xe,"","\\@ngeqq"),M(K,we,xe,"⪈","\\gneq",!0),M(K,we,xe,"≩","\\gneqq",!0),M(K,we,xe,"","\\@gvertneqq"),M(K,we,xe,"⋧","\\gnsim",!0),M(K,we,xe,"⪊","\\gnapprox",!0),M(K,we,xe,"⊁","\\nsucc",!0),M(K,we,xe,"⋡","\\nsucceq",!0),M(K,we,xe,"⋩","\\succnsim",!0),M(K,we,xe,"⪺","\\succnapprox",!0),M(K,we,xe,"≆","\\ncong",!0),M(K,we,xe,"","\\@nshortparallel"),M(K,we,xe,"∦","\\nparallel",!0),M(K,we,xe,"⊯","\\nVDash",!0),M(K,we,xe,"⋫","\\ntriangleright"),M(K,we,xe,"⋭","\\ntrianglerighteq",!0),M(K,we,xe,"","\\@nsupseteqq"),M(K,we,xe,"⊋","\\supsetneq",!0),M(K,we,xe,"","\\@varsupsetneq"),M(K,we,xe,"⫌","\\supsetneqq",!0),M(K,we,xe,"","\\@varsupsetneqq"),M(K,we,xe,"⊮","\\nVdash",!0),M(K,we,xe,"⪵","\\precneqq",!0),M(K,we,xe,"⪶","\\succneqq",!0),M(K,we,xe,"","\\@nsubseteqq"),M(K,we,$e,"⊴","\\unlhd"),M(K,we,$e,"⊵","\\unrhd"),M(K,we,xe,"↚","\\nleftarrow",!0),M(K,we,xe,"↛","\\nrightarrow",!0),M(K,we,xe,"⇍","\\nLeftarrow",!0),M(K,we,xe,"⇏","\\nRightarrow",!0),M(K,we,xe,"↮","\\nleftrightarrow",!0),M(K,we,xe,"⇎","\\nLeftrightarrow",!0),M(K,we,xe,"△","\\vartriangle"),M(K,we,Ee,"ℏ","\\hslash"),M(K,we,Ee,"▽","\\triangledown"),M(K,we,Ee,"◊","\\lozenge"),M(K,we,Ee,"Ⓢ","\\circledS"),M(K,we,Ee,"®","\\circledR"),M(Oe,we,Ee,"®","\\circledR"),M(K,we,Ee,"∡","\\measuredangle",!0),M(K,we,Ee,"∄","\\nexists"),M(K,we,Ee,"℧","\\mho"),M(K,we,Ee,"Ⅎ","\\Finv",!0),M(K,we,Ee,"⅁","\\Game",!0),M(K,we,Ee,"‵","\\backprime"),M(K,we,Ee,"▲","\\blacktriangle"),M(K,we,Ee,"▼","\\blacktriangledown"),M(K,we,Ee,"■","\\blacksquare"),M(K,we,Ee,"⧫","\\blacklozenge"),M(K,we,Ee,"★","\\bigstar"),M(K,we,Ee,"∢","\\sphericalangle",!0),M(K,we,Ee,"∁","\\complement",!0),M(K,we,Ee,"ð","\\eth",!0),M(Oe,ee,Ee,"ð","ð"),M(K,we,Ee,"╱","\\diagup"),M(K,we,Ee,"╲","\\diagdown"),M(K,we,Ee,"□","\\square"),M(K,we,Ee,"□","\\Box"),M(K,we,Ee,"◊","\\Diamond"),M(K,we,Ee,"¥","\\yen",!0),M(Oe,we,Ee,"¥","\\yen",!0),M(K,we,Ee,"✓","\\checkmark",!0),M(Oe,we,Ee,"✓","\\checkmark"),M(K,we,Ee,"ℶ","\\beth",!0),M(K,we,Ee,"ℸ","\\daleth",!0),M(K,we,Ee,"ℷ","\\gimel",!0),M(K,we,Ee,"ϝ","\\digamma",!0),M(K,we,Ee,"ϰ","\\varkappa"),M(K,we,un,"┌","\\@ulcorner",!0),M(K,we,Wr,"┐","\\@urcorner",!0),M(K,we,un,"└","\\@llcorner",!0),M(K,we,Wr,"┘","\\@lrcorner",!0),M(K,we,xe,"≦","\\leqq",!0),M(K,we,xe,"⩽","\\leqslant",!0),M(K,we,xe,"⪕","\\eqslantless",!0),M(K,we,xe,"≲","\\lesssim",!0),M(K,we,xe,"⪅","\\lessapprox",!0),M(K,we,xe,"≊","\\approxeq",!0),M(K,we,$e,"⋖","\\lessdot"),M(K,we,xe,"⋘","\\lll",!0),M(K,we,xe,"≶","\\lessgtr",!0),M(K,we,xe,"⋚","\\lesseqgtr",!0),M(K,we,xe,"⪋","\\lesseqqgtr",!0),M(K,we,xe,"≑","\\doteqdot"),M(K,we,xe,"≓","\\risingdotseq",!0),M(K,we,xe,"≒","\\fallingdotseq",!0),M(K,we,xe,"∽","\\backsim",!0),M(K,we,xe,"⋍","\\backsimeq",!0),M(K,we,xe,"⫅","\\subseteqq",!0),M(K,we,xe,"⋐","\\Subset",!0),M(K,we,xe,"⊏","\\sqsubset",!0),M(K,we,xe,"≼","\\preccurlyeq",!0),M(K,we,xe,"⋞","\\curlyeqprec",!0),M(K,we,xe,"≾","\\precsim",!0),M(K,we,xe,"⪷","\\precapprox",!0),M(K,we,xe,"⊲","\\vartriangleleft"),M(K,we,xe,"⊴","\\trianglelefteq"),M(K,we,xe,"⊨","\\vDash",!0),M(K,we,xe,"⊪","\\Vvdash",!0),M(K,we,xe,"⌣","\\smallsmile"),M(K,we,xe,"⌢","\\smallfrown"),M(K,we,xe,"≏","\\bumpeq",!0),M(K,we,xe,"≎","\\Bumpeq",!0),M(K,we,xe,"≧","\\geqq",!0),M(K,we,xe,"⩾","\\geqslant",!0),M(K,we,xe,"⪖","\\eqslantgtr",!0),M(K,we,xe,"≳","\\gtrsim",!0),M(K,we,xe,"⪆","\\gtrapprox",!0),M(K,we,$e,"⋗","\\gtrdot"),M(K,we,xe,"⋙","\\ggg",!0),M(K,we,xe,"≷","\\gtrless",!0),M(K,we,xe,"⋛","\\gtreqless",!0),M(K,we,xe,"⪌","\\gtreqqless",!0),M(K,we,xe,"≖","\\eqcirc",!0),M(K,we,xe,"≗","\\circeq",!0),M(K,we,xe,"≜","\\triangleq",!0),M(K,we,xe,"∼","\\thicksim"),M(K,we,xe,"≈","\\thickapprox"),M(K,we,xe,"⫆","\\supseteqq",!0),M(K,we,xe,"⋑","\\Supset",!0),M(K,we,xe,"⊐","\\sqsupset",!0),M(K,we,xe,"≽","\\succcurlyeq",!0),M(K,we,xe,"⋟","\\curlyeqsucc",!0),M(K,we,xe,"≿","\\succsim",!0),M(K,we,xe,"⪸","\\succapprox",!0),M(K,we,xe,"⊳","\\vartriangleright"),M(K,we,xe,"⊵","\\trianglerighteq"),M(K,we,xe,"⊩","\\Vdash",!0),M(K,we,xe,"∣","\\shortmid"),M(K,we,xe,"∥","\\shortparallel"),M(K,we,xe,"≬","\\between",!0),M(K,we,xe,"⋔","\\pitchfork",!0),M(K,we,xe,"∝","\\varpropto"),M(K,we,xe,"◀","\\blacktriangleleft"),M(K,we,xe,"∴","\\therefore",!0),M(K,we,xe,"∍","\\backepsilon"),M(K,we,xe,"▶","\\blacktriangleright"),M(K,we,xe,"∵","\\because",!0),M(K,we,xe,"⋘","\\llless"),M(K,we,xe,"⋙","\\gggtr"),M(K,we,$e,"⊲","\\lhd"),M(K,we,$e,"⊳","\\rhd"),M(K,we,xe,"≂","\\eqsim",!0),M(K,ee,xe,"⋈","\\Join"),M(K,we,xe,"≑","\\Doteq",!0),M(K,we,$e,"∔","\\dotplus",!0),M(K,we,$e,"∖","\\smallsetminus"),M(K,we,$e,"⋒","\\Cap",!0),M(K,we,$e,"⋓","\\Cup",!0),M(K,we,$e,"⩞","\\doublebarwedge",!0),M(K,we,$e,"⊟","\\boxminus",!0),M(K,we,$e,"⊞","\\boxplus",!0),M(K,we,$e,"⋇","\\divideontimes",!0),M(K,we,$e,"⋉","\\ltimes",!0),M(K,we,$e,"⋊","\\rtimes",!0),M(K,we,$e,"⋋","\\leftthreetimes",!0),M(K,we,$e,"⋌","\\rightthreetimes",!0),M(K,we,$e,"⋏","\\curlywedge",!0),M(K,we,$e,"⋎","\\curlyvee",!0),M(K,we,$e,"⊝","\\circleddash",!0),M(K,we,$e,"⊛","\\circledast",!0),M(K,we,$e,"⋅","\\centerdot"),M(K,we,$e,"⊺","\\intercal",!0),M(K,we,$e,"⋒","\\doublecap"),M(K,we,$e,"⋓","\\doublecup"),M(K,we,$e,"⊠","\\boxtimes",!0),M(K,we,xe,"⇢","\\dashrightarrow",!0),M(K,we,xe,"⇠","\\dashleftarrow",!0),M(K,we,xe,"⇇","\\leftleftarrows",!0),M(K,we,xe,"⇆","\\leftrightarrows",!0),M(K,we,xe,"⇚","\\Lleftarrow",!0),M(K,we,xe,"↞","\\twoheadleftarrow",!0),M(K,we,xe,"↢","\\leftarrowtail",!0),M(K,we,xe,"↫","\\looparrowleft",!0),M(K,we,xe,"⇋","\\leftrightharpoons",!0),M(K,we,xe,"↶","\\curvearrowleft",!0),M(K,we,xe,"↺","\\circlearrowleft",!0),M(K,we,xe,"↰","\\Lsh",!0),M(K,we,xe,"⇈","\\upuparrows",!0),M(K,we,xe,"↿","\\upharpoonleft",!0),M(K,we,xe,"⇃","\\downharpoonleft",!0),M(K,ee,xe,"⊶","\\origof",!0),M(K,ee,xe,"⊷","\\imageof",!0),M(K,we,xe,"⊸","\\multimap",!0),M(K,we,xe,"↭","\\leftrightsquigarrow",!0),M(K,we,xe,"⇉","\\rightrightarrows",!0),M(K,we,xe,"⇄","\\rightleftarrows",!0),M(K,we,xe,"↠","\\twoheadrightarrow",!0),M(K,we,xe,"↣","\\rightarrowtail",!0),M(K,we,xe,"↬","\\looparrowright",!0),M(K,we,xe,"↷","\\curvearrowright",!0),M(K,we,xe,"↻","\\circlearrowright",!0),M(K,we,xe,"↱","\\Rsh",!0),M(K,we,xe,"⇊","\\downdownarrows",!0),M(K,we,xe,"↾","\\upharpoonright",!0),M(K,we,xe,"⇂","\\downharpoonright",!0),M(K,we,xe,"⇝","\\rightsquigarrow",!0),M(K,we,xe,"⇝","\\leadsto"),M(K,we,xe,"⇛","\\Rrightarrow",!0),M(K,we,xe,"↾","\\restriction"),M(K,ee,Ee,"‘","`"),M(K,ee,Ee,"$","\\$"),M(Oe,ee,Ee,"$","\\$"),M(Oe,ee,Ee,"$","\\textdollar"),M(K,ee,Ee,"%","\\%"),M(Oe,ee,Ee,"%","\\%"),M(K,ee,Ee,"_","\\_"),M(Oe,ee,Ee,"_","\\_"),M(Oe,ee,Ee,"_","\\textunderscore"),M(K,ee,Ee,"∠","\\angle",!0),M(K,ee,Ee,"∞","\\infty",!0),M(K,ee,Ee,"′","\\prime"),M(K,ee,Ee,"△","\\triangle"),M(K,ee,Ee,"Γ","\\Gamma",!0),M(K,ee,Ee,"Δ","\\Delta",!0),M(K,ee,Ee,"Θ","\\Theta",!0),M(K,ee,Ee,"Λ","\\Lambda",!0),M(K,ee,Ee,"Ξ","\\Xi",!0),M(K,ee,Ee,"Π","\\Pi",!0),M(K,ee,Ee,"Σ","\\Sigma",!0),M(K,ee,Ee,"Υ","\\Upsilon",!0),M(K,ee,Ee,"Φ","\\Phi",!0),M(K,ee,Ee,"Ψ","\\Psi",!0),M(K,ee,Ee,"Ω","\\Omega",!0),M(K,ee,Ee,"A","Α"),M(K,ee,Ee,"B","Β"),M(K,ee,Ee,"E","Ε"),M(K,ee,Ee,"Z","Ζ"),M(K,ee,Ee,"H","Η"),M(K,ee,Ee,"I","Ι"),M(K,ee,Ee,"K","Κ"),M(K,ee,Ee,"M","Μ"),M(K,ee,Ee,"N","Ν"),M(K,ee,Ee,"O","Ο"),M(K,ee,Ee,"P","Ρ"),M(K,ee,Ee,"T","Τ"),M(K,ee,Ee,"X","Χ"),M(K,ee,Ee,"¬","\\neg",!0),M(K,ee,Ee,"¬","\\lnot"),M(K,ee,Ee,"⊤","\\top"),M(K,ee,Ee,"⊥","\\bot"),M(K,ee,Ee,"∅","\\emptyset"),M(K,we,Ee,"∅","\\varnothing"),M(K,ee,st,"α","\\alpha",!0),M(K,ee,st,"β","\\beta",!0),M(K,ee,st,"γ","\\gamma",!0),M(K,ee,st,"δ","\\delta",!0),M(K,ee,st,"ϵ","\\epsilon",!0),M(K,ee,st,"ζ","\\zeta",!0),M(K,ee,st,"η","\\eta",!0),M(K,ee,st,"θ","\\theta",!0),M(K,ee,st,"ι","\\iota",!0),M(K,ee,st,"κ","\\kappa",!0),M(K,ee,st,"λ","\\lambda",!0),M(K,ee,st,"μ","\\mu",!0),M(K,ee,st,"ν","\\nu",!0),M(K,ee,st,"ξ","\\xi",!0),M(K,ee,st,"ο","\\omicron",!0),M(K,ee,st,"π","\\pi",!0),M(K,ee,st,"ρ","\\rho",!0),M(K,ee,st,"σ","\\sigma",!0),M(K,ee,st,"τ","\\tau",!0),M(K,ee,st,"υ","\\upsilon",!0),M(K,ee,st,"ϕ","\\phi",!0),M(K,ee,st,"χ","\\chi",!0),M(K,ee,st,"ψ","\\psi",!0),M(K,ee,st,"ω","\\omega",!0),M(K,ee,st,"ε","\\varepsilon",!0),M(K,ee,st,"ϑ","\\vartheta",!0),M(K,ee,st,"ϖ","\\varpi",!0),M(K,ee,st,"ϱ","\\varrho",!0),M(K,ee,st,"ς","\\varsigma",!0),M(K,ee,st,"φ","\\varphi",!0),M(K,ee,$e,"∗","*",!0),M(K,ee,$e,"+","+"),M(K,ee,$e,"−","-",!0),M(K,ee,$e,"⋅","\\cdot",!0),M(K,ee,$e,"∘","\\circ",!0),M(K,ee,$e,"÷","\\div",!0),M(K,ee,$e,"±","\\pm",!0),M(K,ee,$e,"×","\\times",!0),M(K,ee,$e,"∩","\\cap",!0),M(K,ee,$e,"∪","\\cup",!0),M(K,ee,$e,"∖","\\setminus",!0),M(K,ee,$e,"∧","\\land"),M(K,ee,$e,"∨","\\lor"),M(K,ee,$e,"∧","\\wedge",!0),M(K,ee,$e,"∨","\\vee",!0),M(K,ee,Ee,"√","\\surd"),M(K,ee,un,"⟨","\\langle",!0),M(K,ee,un,"∣","\\lvert"),M(K,ee,un,"∥","\\lVert"),M(K,ee,Wr,"?","?"),M(K,ee,Wr,"!","!"),M(K,ee,Wr,"⟩","\\rangle",!0),M(K,ee,Wr,"∣","\\rvert"),M(K,ee,Wr,"∥","\\rVert"),M(K,ee,xe,"=","="),M(K,ee,xe,":",":"),M(K,ee,xe,"≈","\\approx",!0),M(K,ee,xe,"≅","\\cong",!0),M(K,ee,xe,"≥","\\ge"),M(K,ee,xe,"≥","\\geq",!0),M(K,ee,xe,"←","\\gets"),M(K,ee,xe,">","\\gt",!0),M(K,ee,xe,"∈","\\in",!0),M(K,ee,xe,"","\\@not"),M(K,ee,xe,"⊂","\\subset",!0),M(K,ee,xe,"⊃","\\supset",!0),M(K,ee,xe,"⊆","\\subseteq",!0),M(K,ee,xe,"⊇","\\supseteq",!0),M(K,we,xe,"⊈","\\nsubseteq",!0),M(K,we,xe,"⊉","\\nsupseteq",!0),M(K,ee,xe,"⊨","\\models"),M(K,ee,xe,"←","\\leftarrow",!0),M(K,ee,xe,"≤","\\le"),M(K,ee,xe,"≤","\\leq",!0),M(K,ee,xe,"<","\\lt",!0),M(K,ee,xe,"→","\\rightarrow",!0),M(K,ee,xe,"→","\\to"),M(K,we,xe,"≱","\\ngeq",!0),M(K,we,xe,"≰","\\nleq",!0),M(K,ee,Fs," ","\\ "),M(K,ee,Fs," ","\\space"),M(K,ee,Fs," ","\\nobreakspace"),M(Oe,ee,Fs," ","\\ "),M(Oe,ee,Fs," "," "),M(Oe,ee,Fs," ","\\space"),M(Oe,ee,Fs," ","\\nobreakspace"),M(K,ee,Fs,null,"\\nobreak"),M(K,ee,Fs,null,"\\allowbreak"),M(K,ee,fu,",",","),M(K,ee,fu,";",";"),M(K,we,$e,"⊼","\\barwedge",!0),M(K,we,$e,"⊻","\\veebar",!0),M(K,ee,$e,"⊙","\\odot",!0),M(K,ee,$e,"⊕","\\oplus",!0),M(K,ee,$e,"⊗","\\otimes",!0),M(K,ee,Ee,"∂","\\partial",!0),M(K,ee,$e,"⊘","\\oslash",!0),M(K,we,$e,"⊚","\\circledcirc",!0),M(K,we,$e,"⊡","\\boxdot",!0),M(K,ee,$e,"△","\\bigtriangleup"),M(K,ee,$e,"▽","\\bigtriangledown"),M(K,ee,$e,"†","\\dagger"),M(K,ee,$e,"⋄","\\diamond"),M(K,ee,$e,"⋆","\\star"),M(K,ee,$e,"◃","\\triangleleft"),M(K,ee,$e,"▹","\\triangleright"),M(K,ee,un,"{","\\{"),M(Oe,ee,Ee,"{","\\{"),M(Oe,ee,Ee,"{","\\textbraceleft"),M(K,ee,Wr,"}","\\}"),M(Oe,ee,Ee,"}","\\}"),M(Oe,ee,Ee,"}","\\textbraceright"),M(K,ee,un,"{","\\lbrace"),M(K,ee,Wr,"}","\\rbrace"),M(K,ee,un,"[","\\lbrack",!0),M(Oe,ee,Ee,"[","\\lbrack",!0),M(K,ee,Wr,"]","\\rbrack",!0),M(Oe,ee,Ee,"]","\\rbrack",!0),M(K,ee,un,"(","\\lparen",!0),M(K,ee,Wr,")","\\rparen",!0),M(Oe,ee,Ee,"<","\\textless",!0),M(Oe,ee,Ee,">","\\textgreater",!0),M(K,ee,un,"⌊","\\lfloor",!0),M(K,ee,Wr,"⌋","\\rfloor",!0),M(K,ee,un,"⌈","\\lceil",!0),M(K,ee,Wr,"⌉","\\rceil",!0),M(K,ee,Ee,"\\","\\backslash"),M(K,ee,Ee,"∣","|"),M(K,ee,Ee,"∣","\\vert"),M(Oe,ee,Ee,"|","\\textbar",!0),M(K,ee,Ee,"∥","\\|"),M(K,ee,Ee,"∥","\\Vert"),M(Oe,ee,Ee,"∥","\\textbardbl"),M(Oe,ee,Ee,"~","\\textasciitilde"),M(Oe,ee,Ee,"\\","\\textbackslash"),M(Oe,ee,Ee,"^","\\textasciicircum"),M(K,ee,xe,"↑","\\uparrow",!0),M(K,ee,xe,"⇑","\\Uparrow",!0),M(K,ee,xe,"↓","\\downarrow",!0),M(K,ee,xe,"⇓","\\Downarrow",!0),M(K,ee,xe,"↕","\\updownarrow",!0),M(K,ee,xe,"⇕","\\Updownarrow",!0),M(K,ee,mr,"∐","\\coprod"),M(K,ee,mr,"⋁","\\bigvee"),M(K,ee,mr,"⋀","\\bigwedge"),M(K,ee,mr,"⨄","\\biguplus"),M(K,ee,mr,"⋂","\\bigcap"),M(K,ee,mr,"⋃","\\bigcup"),M(K,ee,mr,"∫","\\int"),M(K,ee,mr,"∫","\\intop"),M(K,ee,mr,"∬","\\iint"),M(K,ee,mr,"∭","\\iiint"),M(K,ee,mr,"∏","\\prod"),M(K,ee,mr,"∑","\\sum"),M(K,ee,mr,"⨂","\\bigotimes"),M(K,ee,mr,"⨁","\\bigoplus"),M(K,ee,mr,"⨀","\\bigodot"),M(K,ee,mr,"∮","\\oint"),M(K,ee,mr,"∯","\\oiint"),M(K,ee,mr,"∰","\\oiiint"),M(K,ee,mr,"⨆","\\bigsqcup"),M(K,ee,mr,"∫","\\smallint"),M(Oe,ee,Da,"…","\\textellipsis"),M(K,ee,Da,"…","\\mathellipsis"),M(Oe,ee,Da,"…","\\ldots",!0),M(K,ee,Da,"…","\\ldots",!0),M(K,ee,Da,"⋯","\\@cdots",!0),M(K,ee,Da,"⋱","\\ddots",!0),M(K,ee,Ee,"⋮","\\varvdots"),M(Oe,ee,Ee,"⋮","\\varvdots"),M(K,ee,Gt,"ˊ","\\acute"),M(K,ee,Gt,"ˋ","\\grave"),M(K,ee,Gt,"¨","\\ddot"),M(K,ee,Gt,"~","\\tilde"),M(K,ee,Gt,"ˉ","\\bar"),M(K,ee,Gt,"˘","\\breve"),M(K,ee,Gt,"ˇ","\\check"),M(K,ee,Gt,"^","\\hat"),M(K,ee,Gt,"⃗","\\vec"),M(K,ee,Gt,"˙","\\dot"),M(K,ee,Gt,"˚","\\mathring"),M(K,ee,st,"","\\@imath"),M(K,ee,st,"","\\@jmath"),M(K,ee,Ee,"ı","ı"),M(K,ee,Ee,"ȷ","ȷ"),M(Oe,ee,Ee,"ı","\\i",!0),M(Oe,ee,Ee,"ȷ","\\j",!0),M(Oe,ee,Ee,"ß","\\ss",!0),M(Oe,ee,Ee,"æ","\\ae",!0),M(Oe,ee,Ee,"œ","\\oe",!0),M(Oe,ee,Ee,"ø","\\o",!0),M(Oe,ee,Ee,"Æ","\\AE",!0),M(Oe,ee,Ee,"Œ","\\OE",!0),M(Oe,ee,Ee,"Ø","\\O",!0),M(Oe,ee,Gt,"ˊ","\\'"),M(Oe,ee,Gt,"ˋ","\\`"),M(Oe,ee,Gt,"ˆ","\\^"),M(Oe,ee,Gt,"˜","\\~"),M(Oe,ee,Gt,"ˉ","\\="),M(Oe,ee,Gt,"˘","\\u"),M(Oe,ee,Gt,"˙","\\."),M(Oe,ee,Gt,"¸","\\c"),M(Oe,ee,Gt,"˚","\\r"),M(Oe,ee,Gt,"ˇ","\\v"),M(Oe,ee,Gt,"¨",'\\"'),M(Oe,ee,Gt,"˝","\\H"),M(Oe,ee,Gt,"◯","\\textcircled");const Yg={"--":!0,"---":!0,"``":!0,"''":!0};M(Oe,ee,Ee,"–","--",!0),M(Oe,ee,Ee,"–","\\textendash"),M(Oe,ee,Ee,"—","---",!0),M(Oe,ee,Ee,"—","\\textemdash"),M(Oe,ee,Ee,"‘","`",!0),M(Oe,ee,Ee,"‘","\\textquoteleft"),M(Oe,ee,Ee,"’","'",!0),M(Oe,ee,Ee,"’","\\textquoteright"),M(Oe,ee,Ee,"“","``",!0),M(Oe,ee,Ee,"“","\\textquotedblleft"),M(Oe,ee,Ee,"”","''",!0),M(Oe,ee,Ee,"”","\\textquotedblright"),M(K,ee,Ee,"°","\\degree",!0),M(Oe,ee,Ee,"°","\\degree"),M(Oe,ee,Ee,"°","\\textdegree",!0),M(K,ee,Ee,"£","\\pounds"),M(K,ee,Ee,"£","\\mathsterling",!0),M(Oe,ee,Ee,"£","\\pounds"),M(Oe,ee,Ee,"£","\\textsterling",!0),M(K,we,Ee,"✠","\\maltese"),M(Oe,we,Ee,"✠","\\maltese");const Jg='0123456789/@."';for(let p=0;p<Jg.length;p++){const d=Jg.charAt(p);M(K,ee,Ee,d,d)}const Zg='0123456789!@*()-=+";:?/.,';for(let p=0;p<Zg.length;p++){const d=Zg.charAt(p);M(Oe,ee,Ee,d,d)}const pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let p=0;p<pu.length;p++){const d=pu.charAt(p);M(K,ee,st,d,d),M(Oe,ee,Ee,d,d)}M(K,we,Ee,"C","ℂ"),M(Oe,we,Ee,"C","ℂ"),M(K,we,Ee,"H","ℍ"),M(Oe,we,Ee,"H","ℍ"),M(K,we,Ee,"N","ℕ"),M(Oe,we,Ee,"N","ℕ"),M(K,we,Ee,"P","ℙ"),M(Oe,we,Ee,"P","ℙ"),M(K,we,Ee,"Q","ℚ"),M(Oe,we,Ee,"Q","ℚ"),M(K,we,Ee,"R","ℝ"),M(Oe,we,Ee,"R","ℝ"),M(K,we,Ee,"Z","ℤ"),M(Oe,we,Ee,"Z","ℤ"),M(K,ee,st,"h","ℎ"),M(Oe,ee,st,"h","ℎ");let it="";for(let p=0;p<pu.length;p++){const d=pu.charAt(p);it=String.fromCharCode(55349,56320+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56372+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56424+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56580+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56684+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56736+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56788+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56840+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56944+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),p<26&&(it=String.fromCharCode(55349,56632+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,56476+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it))}it="𝕜",M(K,ee,st,"k",it),M(Oe,ee,Ee,"k",it);for(let p=0;p<10;p++){const d=p.toString();it=String.fromCharCode(55349,57294+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,57314+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,57324+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it),it=String.fromCharCode(55349,57334+p),M(K,ee,st,d,it),M(Oe,ee,Ee,d,it)}const h0="ÐÞþ";for(let p=0;p<h0.length;p++){const d=h0.charAt(p);M(K,ee,st,d,d),M(Oe,ee,Ee,d,d)}const gu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],e1=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],aB=function(p,d){const y=p.charCodeAt(0),S=p.charCodeAt(1),U=(y-55296)*1024+(S-56320)+65536,z=d==="math"?0:1;if(119808<=U&&U<120484){const X=Math.floor((U-119808)/26);return[gu[X][2],gu[X][z]]}else if(120782<=U&&U<=120831){const X=Math.floor((U-120782)/10);return[e1[X][2],e1[X][z]]}else{if(U===120485||U===120486)return[gu[0][2],gu[0][z]];if(120486<U&&U<120782)return["",""];throw new i("Unsupported character: "+p)}},mu=function(p,d,y){return bt[y][p]&&bt[y][p].replace&&(p=bt[y][p].replace),{value:p,metrics:Te(p,d,y)}},Ln=function(p,d,y,S,U){const z=mu(p,d,y),X=z.metrics;p=z.value;let ne;if(X){let fe=X.italic;(y==="text"||S&&S.font==="mathit")&&(fe=0),ne=new Yr(p,X.height,X.depth,fe,X.skew,X.width,U)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+p+"' in style '"+d+"' and mode '"+y+"'")),ne=new Yr(p,0,0,0,0,0,U);if(S){ne.maxFontSize=S.sizeMultiplier,S.style.isTight()&&ne.classes.push("mtight");const fe=S.getColor();fe&&(ne.style.color=fe)}return ne},oB=function(p,d,y,S){return S===void 0&&(S=[]),y.font==="boldsymbol"&&mu(p,"Main-Bold",d).metrics?Ln(p,"Main-Bold",d,y,S.concat(["mathbf"])):p==="\\"||bt[d][p].font==="main"?Ln(p,"Main-Regular",d,y,S):Ln(p,"AMS-Regular",d,y,S.concat(["amsrm"]))},AB=function(p,d,y,S,U){return U!=="textord"&&mu(p,"Math-BoldItalic",d).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},uB=function(p,d,y){const S=p.mode,U=p.text,z=["mord"],X=S==="math"||S==="text"&&d.font,ne=X?d.font:d.fontFamily;let fe="",Be="";if(U.charCodeAt(0)===55349&&([fe,Be]=aB(U,S)),fe.length>0)return Ln(U,fe,S,d,z.concat(Be));if(ne){let Fe,ke;if(ne==="boldsymbol"){const Ue=AB(U,S,d,z,y);Fe=Ue.fontName,ke=[Ue.fontClass]}else X?(Fe=n1[ne].fontName,ke=[ne]):(Fe=bu(ne,d.fontWeight,d.fontShape),ke=[ne,d.fontWeight,d.fontShape]);if(mu(U,Fe,S).metrics)return Ln(U,Fe,S,d,z.concat(ke));if(Yg.hasOwnProperty(U)&&Fe.slice(0,10)==="Typewriter"){const Ue=[];for(let Re=0;Re<U.length;Re++)Ue.push(Ln(U[Re],Fe,S,d,z.concat(ke)));return r1(Ue)}}if(y==="mathord")return Ln(U,"Math-Italic",S,d,z.concat(["mathnormal"]));if(y==="textord"){const Fe=bt[S][U]&&bt[S][U].font;if(Fe==="ams"){const ke=bu("amsrm",d.fontWeight,d.fontShape);return Ln(U,ke,S,d,z.concat("amsrm",d.fontWeight,d.fontShape))}else if(Fe==="main"||!Fe){const ke=bu("textrm",d.fontWeight,d.fontShape);return Ln(U,ke,S,d,z.concat(d.fontWeight,d.fontShape))}else{const ke=bu(Fe,d.fontWeight,d.fontShape);return Ln(U,ke,S,d,z.concat(ke,d.fontWeight,d.fontShape))}}else throw new Error("unexpected type: "+y+" in makeOrd")},lB=(p,d)=>{if(gr(p.classes)!==gr(d.classes)||p.skew!==d.skew||p.maxFontSize!==d.maxFontSize)return!1;if(p.classes.length===1){const y=p.classes[0];if(y==="mbin"||y==="mord")return!1}for(const y in p.style)if(p.style.hasOwnProperty(y)&&p.style[y]!==d.style[y])return!1;for(const y in d.style)if(d.style.hasOwnProperty(y)&&p.style[y]!==d.style[y])return!1;return!0},cB=p=>{for(let d=0;d<p.length-1;d++){const y=p[d],S=p[d+1];y instanceof Yr&&S instanceof Yr&&lB(y,S)&&(y.text+=S.text,y.height=Math.max(y.height,S.height),y.depth=Math.max(y.depth,S.depth),y.italic=S.italic,p.splice(d+1,1),d--)}return p},f0=function(p){let d=0,y=0,S=0;for(let U=0;U<p.children.length;U++){const z=p.children[U];z.height>d&&(d=z.height),z.depth>y&&(y=z.depth),z.maxFontSize>S&&(S=z.maxFontSize)}p.height=d,p.depth=y,p.maxFontSize=S},Jr=function(p,d,y,S){const U=new Yn(p,d,y,S);return f0(U),U},t1=(p,d,y,S)=>new Yn(p,d,y,S),dB=function(p,d,y){const S=Jr([p],[],d);return S.height=Math.max(y||d.fontMetrics().defaultRuleThickness,d.minRuleThickness),S.style.borderBottomWidth=ze(S.height),S.maxFontSize=1,S},hB=function(p,d,y,S){const U=new On(p,d,y,S);return f0(U),U},r1=function(p){const d=new k(p);return f0(d),d},fB=function(p,d){return p instanceof k?Jr([],[p],d):p},pB=function(p){if(p.positionType==="individualShift"){const y=p.children,S=[y[0]],U=-y[0].shift-y[0].elem.depth;let z=U;for(let X=1;X<y.length;X++){const ne=-y[X].shift-z-y[X].elem.depth,fe=ne-(y[X-1].elem.height+y[X-1].elem.depth);z=z+ne,S.push({type:"kern",size:fe}),S.push(y[X])}return{children:S,depth:U}}let d;if(p.positionType==="top"){let y=p.positionData;for(let S=0;S<p.children.length;S++){const U=p.children[S];y-=U.type==="kern"?U.size:U.elem.height+U.elem.depth}d=y}else if(p.positionType==="bottom")d=-p.positionData;else{const y=p.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(p.positionType==="shift")d=-y.elem.depth-p.positionData;else if(p.positionType==="firstBaseline")d=-y.elem.depth;else throw new Error("Invalid positionType "+p.positionType+".")}return{children:p.children,depth:d}},gB=function(p,d){const{children:y,depth:S}=pB(p);let U=0;for(let Re=0;Re<y.length;Re++){const Je=y[Re];if(Je.type==="elem"){const et=Je.elem;U=Math.max(U,et.maxFontSize,et.height)}}U+=2;const z=Jr(["pstrut"],[]);z.style.height=ze(U);const X=[];let ne=S,fe=S,Be=S;for(let Re=0;Re<y.length;Re++){const Je=y[Re];if(Je.type==="kern")Be+=Je.size;else{const et=Je.elem,mt=Je.wrapperClasses||[],ft=Je.wrapperStyle||{},wt=Jr(mt,[z,et],void 0,ft);wt.style.top=ze(-U-Be-et.depth),Je.marginLeft&&(wt.style.marginLeft=Je.marginLeft),Je.marginRight&&(wt.style.marginRight=Je.marginRight),X.push(wt),Be+=et.height+et.depth}ne=Math.min(ne,Be),fe=Math.max(fe,Be)}const Fe=Jr(["vlist"],X);Fe.style.height=ze(fe);let ke;if(ne<0){const Re=Jr([],[]),Je=Jr(["vlist"],[Re]);Je.style.height=ze(-ne);const et=Jr(["vlist-s"],[new Yr("​")]);ke=[Jr(["vlist-r"],[Fe,et]),Jr(["vlist-r"],[Je])]}else ke=[Jr(["vlist-r"],[Fe])];const Ue=Jr(["vlist-t"],ke);return ke.length===2&&Ue.classes.push("vlist-t2"),Ue.height=fe,Ue.depth=-ne,Ue},mB=(p,d)=>{const y=Jr(["mspace"],[],d),S=_t(p,d);return y.style.marginRight=ze(S),y},bu=function(p,d,y){let S="";switch(p){case"amsrm":S="AMS";break;case"textrm":S="Main";break;case"textsf":S="SansSerif";break;case"texttt":S="Typewriter";break;default:S=p}let U;return d==="textbf"&&y==="textit"?U="BoldItalic":d==="textbf"?U="Bold":d==="textit"?U="Italic":U="Regular",S+"-"+U},n1={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},s1={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Ie={fontMap:n1,makeSymbol:Ln,mathsym:oB,makeSpan:Jr,makeSvgSpan:t1,makeLineSpan:dB,makeAnchor:hB,makeFragment:r1,wrapFragment:fB,makeVList:gB,makeOrd:uB,makeGlue:mB,staticSvg:function(p,d){const[y,S,U]=s1[p],z=new Jn(y),X=new Nn([z],{width:ze(S),height:ze(U),style:"width:"+ze(S),viewBox:"0 0 "+1e3*S+" "+1e3*U,preserveAspectRatio:"xMinYMin"}),ne=t1(["overlay"],[X],d);return ne.height=U,ne.style.height=ze(U),ne.style.width=ze(S),ne},svgData:s1,tryCombineChars:cB};const Yt={number:3,unit:"mu"},Li={number:4,unit:"mu"},Ds={number:5,unit:"mu"},bB={mord:{mop:Yt,mbin:Li,mrel:Ds,minner:Yt},mop:{mord:Yt,mop:Yt,mrel:Ds,minner:Yt},mbin:{mord:Li,mop:Li,mopen:Li,minner:Li},mrel:{mord:Ds,mop:Ds,mopen:Ds,minner:Ds},mopen:{},mclose:{mop:Yt,mbin:Li,mrel:Ds,minner:Yt},mpunct:{mord:Yt,mop:Yt,mrel:Ds,mopen:Yt,mclose:Yt,mpunct:Yt,minner:Yt},minner:{mord:Yt,mop:Yt,mbin:Li,mrel:Ds,mopen:Yt,mpunct:Yt,minner:Yt}},wB={mord:{mop:Yt},mop:{mord:Yt,mop:Yt},mbin:{},mrel:{},mopen:{},mclose:{mop:Yt},mpunct:{},minner:{mop:Yt}},i1={},wu={},yu={};function Ve(p){let{type:d,names:y,props:S,handler:U,htmlBuilder:z,mathmlBuilder:X}=p;const ne={type:d,numArgs:S.numArgs,argTypes:S.argTypes,allowedInArgument:!!S.allowedInArgument,allowedInText:!!S.allowedInText,allowedInMath:S.allowedInMath===void 0?!0:S.allowedInMath,numOptionalArgs:S.numOptionalArgs||0,infix:!!S.infix,primitive:!!S.primitive,handler:U};for(let fe=0;fe<y.length;++fe)i1[y[fe]]=ne;d&&(z&&(wu[d]=z),X&&(yu[d]=X))}function Hi(p){let{type:d,htmlBuilder:y,mathmlBuilder:S}=p;Ve({type:d,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:y,mathmlBuilder:S})}const xu=function(p){return p.type==="ordgroup"&&p.body.length===1?p.body[0]:p},or=function(p){return p.type==="ordgroup"?p.body:[p]},ks=Ie.makeSpan,yB=["leftmost","mbin","mopen","mrel","mop","mpunct"],xB=["rightmost","mrel","mclose","mpunct"],vB={display:te.DISPLAY,text:te.TEXT,script:te.SCRIPT,scriptscript:te.SCRIPTSCRIPT},BB={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},yr=function(p,d,y,S){S===void 0&&(S=[null,null]);const U=[];for(let Be=0;Be<p.length;Be++){const Fe=xt(p[Be],d);if(Fe instanceof k){const ke=Fe.children;U.push(...ke)}else U.push(Fe)}if(Ie.tryCombineChars(U),!y)return U;let z=d;if(p.length===1){const Be=p[0];Be.type==="sizing"?z=d.havingSize(Be.size):Be.type==="styling"&&(z=d.havingStyle(vB[Be.style]))}const X=ks([S[0]||"leftmost"],[],d),ne=ks([S[1]||"rightmost"],[],d),fe=y==="root";return p0(U,(Be,Fe)=>{const ke=Fe.classes[0],Ue=Be.classes[0];ke==="mbin"&&w.contains(xB,Ue)?Fe.classes[0]="mord":Ue==="mbin"&&w.contains(yB,ke)&&(Be.classes[0]="mord")},{node:X},ne,fe),p0(U,(Be,Fe)=>{const ke=m0(Fe),Ue=m0(Be),Re=ke&&Ue?Be.hasClass("mtight")?wB[ke][Ue]:bB[ke][Ue]:null;if(Re)return Ie.makeGlue(Re,z)},{node:X},ne,fe),U},p0=function(p,d,y,S,U){S&&p.push(S);let z=0;for(;z<p.length;z++){const X=p[z],ne=a1(X);if(ne){p0(ne.children,d,y,null,U);continue}const fe=!X.hasClass("mspace");if(fe){const Be=d(X,y.node);Be&&(y.insertAfter?y.insertAfter(Be):(p.unshift(Be),z++))}fe?y.node=X:U&&X.hasClass("newline")&&(y.node=ks(["leftmost"])),y.insertAfter=(Be=>Fe=>{p.splice(Be+1,0,Fe),z++})(z)}S&&p.pop()},a1=function(p){return p instanceof k||p instanceof On||p instanceof Yn&&p.hasClass("enclosing")?p:null},g0=function(p,d){const y=a1(p);if(y){const S=y.children;if(S.length){if(d==="right")return g0(S[S.length-1],"right");if(d==="left")return g0(S[0],"left")}}return p},m0=function(p,d){return p?(d&&(p=g0(p,d)),BB[p.classes[0]]||null):null},Uo=function(p,d){const y=["nulldelimiter"].concat(p.baseSizingClasses());return ks(d.concat(y))},xt=function(p,d,y){if(!p)return ks();if(wu[p.type]){let S=wu[p.type](p,d);if(y&&d.size!==y.size){S=ks(d.sizingClasses(y),[S],d);const U=d.sizeMultiplier/y.sizeMultiplier;S.height*=U,S.depth*=U}return S}else throw new i("Got group of unknown type: '"+p.type+"'")};function vu(p,d){const y=ks(["base"],p,d),S=ks(["strut"]);return S.style.height=ze(y.height+y.depth),y.depth&&(S.style.verticalAlign=ze(-y.depth)),y.children.unshift(S),y}function b0(p,d){let y=null;p.length===1&&p[0].type==="tag"&&(y=p[0].tag,p=p[0].body);const S=yr(p,d,"root");let U;S.length===2&&S[1].hasClass("tag")&&(U=S.pop());const z=[];let X=[];for(let Be=0;Be<S.length;Be++)if(X.push(S[Be]),S[Be].hasClass("mbin")||S[Be].hasClass("mrel")||S[Be].hasClass("allowbreak")){let Fe=!1;for(;Be<S.length-1&&S[Be+1].hasClass("mspace")&&!S[Be+1].hasClass("newline");)Be++,X.push(S[Be]),S[Be].hasClass("nobreak")&&(Fe=!0);Fe||(z.push(vu(X,d)),X=[])}else S[Be].hasClass("newline")&&(X.pop(),X.length>0&&(z.push(vu(X,d)),X=[]),z.push(S[Be]));X.length>0&&z.push(vu(X,d));let ne;y?(ne=vu(yr(y,d,!0)),ne.classes=["tag"],z.push(ne)):U&&z.push(U);const fe=ks(["katex-html"],z);if(fe.setAttribute("aria-hidden","true"),ne){const Be=ne.children[0];Be.style.height=ze(fe.height+fe.depth),fe.depth&&(Be.style.verticalAlign=ze(-fe.depth))}return fe}function o1(p){return new k(p)}class ln{constructor(d,y,S){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=d,this.attributes={},this.children=y||[],this.classes=S||[]}setAttribute(d,y){this.attributes[d]=y}getAttribute(d){return this.attributes[d]}toNode(){const d=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const y in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,y)&&d.setAttribute(y,this.attributes[y]);this.classes.length>0&&(d.className=gr(this.classes));for(let y=0;y<this.children.length;y++)if(this.children[y]instanceof Zn&&this.children[y+1]instanceof Zn){let S=this.children[y].toText()+this.children[++y].toText();for(;this.children[y+1]instanceof Zn;)S+=this.children[++y].toText();d.appendChild(new Zn(S).toNode())}else d.appendChild(this.children[y].toNode());return d}toMarkup(){let d="<"+this.type;for(const y in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,y)&&(d+=" "+y+'="',d+=w.escape(this.attributes[y]),d+='"');this.classes.length>0&&(d+=' class ="'+w.escape(gr(this.classes))+'"'),d+=">";for(let y=0;y<this.children.length;y++)d+=this.children[y].toMarkup();return d+="</"+this.type+">",d}toText(){return this.children.map(d=>d.toText()).join("")}}class Zn{constructor(d){this.text=void 0,this.text=d}toNode(){return document.createTextNode(this.text)}toMarkup(){return w.escape(this.toText())}toText(){return this.text}}class CB{constructor(d){this.width=void 0,this.character=void 0,this.width=d,d>=.05555&&d<=.05556?this.character=" ":d>=.1666&&d<=.1667?this.character=" ":d>=.2222&&d<=.2223?this.character=" ":d>=.2777&&d<=.2778?this.character="  ":d>=-.05556&&d<=-.05555?this.character=" ⁣":d>=-.1667&&d<=-.1666?this.character=" ⁣":d>=-.2223&&d<=-.2222?this.character=" ⁣":d>=-.2778&&d<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const d=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return d.setAttribute("width",ze(this.width)),d}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ze(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Pe={MathNode:ln,TextNode:Zn,SpaceNode:CB,newDocumentFragment:o1};const fn=function(p,d,y){return bt[d][p]&&bt[d][p].replace&&p.charCodeAt(0)!==55349&&!(Yg.hasOwnProperty(p)&&y&&(y.fontFamily&&y.fontFamily.slice(4,6)==="tt"||y.font&&y.font.slice(4,6)==="tt"))&&(p=bt[d][p].replace),new Pe.TextNode(p)},w0=function(p){return p.length===1?p[0]:new Pe.MathNode("mrow",p)},y0=function(p,d){if(d.fontFamily==="texttt")return"monospace";if(d.fontFamily==="textsf")return d.fontShape==="textit"&&d.fontWeight==="textbf"?"sans-serif-bold-italic":d.fontShape==="textit"?"sans-serif-italic":d.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(d.fontShape==="textit"&&d.fontWeight==="textbf")return"bold-italic";if(d.fontShape==="textit")return"italic";if(d.fontWeight==="textbf")return"bold";const y=d.font;if(!y||y==="mathnormal")return null;const S=p.mode;if(y==="mathit")return"italic";if(y==="boldsymbol")return p.type==="textord"?"bold":"bold-italic";if(y==="mathbf")return"bold";if(y==="mathbb")return"double-struck";if(y==="mathsfit")return"sans-serif-italic";if(y==="mathfrak")return"fraktur";if(y==="mathscr"||y==="mathcal")return"script";if(y==="mathsf")return"sans-serif";if(y==="mathtt")return"monospace";let U=p.text;if(w.contains(["\\imath","\\jmath"],U))return null;bt[S][U]&&bt[S][U].replace&&(U=bt[S][U].replace);const z=Ie.fontMap[y].fontName;return Te(U,z,S)?Ie.fontMap[y].variant:null};function x0(p){if(!p)return!1;if(p.type==="mi"&&p.children.length===1){const d=p.children[0];return d instanceof Zn&&d.text==="."}else if(p.type==="mo"&&p.children.length===1&&p.getAttribute("separator")==="true"&&p.getAttribute("lspace")==="0em"&&p.getAttribute("rspace")==="0em"){const d=p.children[0];return d instanceof Zn&&d.text===","}else return!1}const Zr=function(p,d,y){if(p.length===1){const z=Lt(p[0],d);return y&&z instanceof ln&&z.type==="mo"&&(z.setAttribute("lspace","0em"),z.setAttribute("rspace","0em")),[z]}const S=[];let U;for(let z=0;z<p.length;z++){const X=Lt(p[z],d);if(X instanceof ln&&U instanceof ln){if(X.type==="mtext"&&U.type==="mtext"&&X.getAttribute("mathvariant")===U.getAttribute("mathvariant")){U.children.push(...X.children);continue}else if(X.type==="mn"&&U.type==="mn"){U.children.push(...X.children);continue}else if(x0(X)&&U.type==="mn"){U.children.push(...X.children);continue}else if(X.type==="mn"&&x0(U))X.children=[...U.children,...X.children],S.pop();else if((X.type==="msup"||X.type==="msub")&&X.children.length>=1&&(U.type==="mn"||x0(U))){const ne=X.children[0];ne instanceof ln&&ne.type==="mn"&&(ne.children=[...U.children,...ne.children],S.pop())}else if(U.type==="mi"&&U.children.length===1){const ne=U.children[0];if(ne instanceof Zn&&ne.text==="̸"&&(X.type==="mo"||X.type==="mi"||X.type==="mn")){const fe=X.children[0];fe instanceof Zn&&fe.text.length>0&&(fe.text=fe.text.slice(0,1)+"̸"+fe.text.slice(1),S.pop())}}}S.push(X),U=X}return S},Ai=function(p,d,y){return w0(Zr(p,d,y))},Lt=function(p,d){if(!p)return new Pe.MathNode("mrow");if(yu[p.type])return yu[p.type](p,d);throw new i("Got group of unknown type: '"+p.type+"'")};function A1(p,d,y,S,U){const z=Zr(p,y);let X;z.length===1&&z[0]instanceof ln&&w.contains(["mrow","mtable"],z[0].type)?X=z[0]:X=new Pe.MathNode("mrow",z);const ne=new Pe.MathNode("annotation",[new Pe.TextNode(d)]);ne.setAttribute("encoding","application/x-tex");const fe=new Pe.MathNode("semantics",[X,ne]),Be=new Pe.MathNode("math",[fe]);Be.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),S&&Be.setAttribute("display","block");const Fe=U?"katex":"katex-mathml";return Ie.makeSpan([Fe],[Be])}const u1=function(p){return new It({style:p.displayMode?te.DISPLAY:te.TEXT,maxSize:p.maxSize,minRuleThickness:p.minRuleThickness})},l1=function(p,d){if(d.displayMode){const y=["katex-display"];d.leqno&&y.push("leqno"),d.fleqn&&y.push("fleqn"),p=Ie.makeSpan(y,[p])}return p},EB=function(p,d,y){const S=u1(y);let U;if(y.output==="mathml")return A1(p,d,S,y.displayMode,!0);if(y.output==="html"){const z=b0(p,S);U=Ie.makeSpan(["katex"],[z])}else{const z=A1(p,d,S,y.displayMode,!1),X=b0(p,S);U=Ie.makeSpan(["katex"],[z,X])}return l1(U,y)},SB=function(p,d,y){const S=u1(y),U=b0(p,S),z=Ie.makeSpan(["katex"],[U]);return l1(z,y)},TB={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},FB=function(p){const d=new Pe.MathNode("mo",[new Pe.TextNode(TB[p.replace(/^\\/,"")])]);return d.setAttribute("stretchy","true"),d},DB={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},kB=function(p){return p.type==="ordgroup"?p.body.length:1};var Is={encloseSpan:function(p,d,y,S,U){let z;const X=p.height+p.depth+y+S;if(/fbox|color|angl/.test(d)){if(z=Ie.makeSpan(["stretchy",d],[],U),d==="fbox"){const ne=U.color&&U.getColor();ne&&(z.style.borderColor=ne)}}else{const ne=[];/^[bx]cancel$/.test(d)&&ne.push(new _o({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(d)&&ne.push(new _o({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const fe=new Nn(ne,{width:"100%",height:ze(X)});z=Ie.makeSvgSpan([],[fe],U)}return z.height=X,z.style.height=ze(X),z},mathMLnode:FB,svgSpan:function(p,d){function y(){let X=4e5;const ne=p.label.slice(1);if(w.contains(["widehat","widecheck","widetilde","utilde"],ne)){const Be=kB(p.base);let Fe,ke,Ue;if(Be>5)ne==="widehat"||ne==="widecheck"?(Fe=420,X=2364,Ue=.42,ke=ne+"4"):(Fe=312,X=2340,Ue=.34,ke="tilde4");else{const et=[1,1,2,2,3,3][Be];ne==="widehat"||ne==="widecheck"?(X=[0,1062,2364,2364,2364][et],Fe=[0,239,300,360,420][et],Ue=[0,.24,.3,.3,.36,.42][et],ke=ne+et):(X=[0,600,1033,2339,2340][et],Fe=[0,260,286,306,312][et],Ue=[0,.26,.286,.3,.306,.34][et],ke="tilde"+et)}const Re=new Jn(ke),Je=new Nn([Re],{width:"100%",height:ze(Ue),viewBox:"0 0 "+X+" "+Fe,preserveAspectRatio:"none"});return{span:Ie.makeSvgSpan([],[Je],d),minWidth:0,height:Ue}}else{const fe=[],Be=DB[ne],[Fe,ke,Ue]=Be,Re=Ue/1e3,Je=Fe.length;let et,mt;if(Je===1){const ft=Be[3];et=["hide-tail"],mt=[ft]}else if(Je===2)et=["halfarrow-left","halfarrow-right"],mt=["xMinYMin","xMaxYMin"];else if(Je===3)et=["brace-left","brace-center","brace-right"],mt=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Je+" children.");for(let ft=0;ft<Je;ft++){const wt=new Jn(Fe[ft]),Tt=new Nn([wt],{width:"400em",height:ze(Re),viewBox:"0 0 "+X+" "+Ue,preserveAspectRatio:mt[ft]+" slice"}),jt=Ie.makeSvgSpan([et[ft]],[Tt],d);if(Je===1)return{span:jt,minWidth:ke,height:Re};jt.style.height=ze(Re),fe.push(jt)}return{span:Ie.makeSpan(["stretchy"],fe,d),minWidth:ke,height:Re}}}const{span:S,minWidth:U,height:z}=y();return S.height=z,S.style.height=ze(z),U>0&&(S.style.minWidth=ze(U)),S}};function lt(p,d){if(!p||p.type!==d)throw new Error("Expected node of type "+d+", but got "+(p?"node of type "+p.type:String(p)));return p}function v0(p){const d=Bu(p);if(!d)throw new Error("Expected node of symbol group type, but got "+(p?"node of type "+p.type:String(p)));return d}function Bu(p){return p&&(p.type==="atom"||nt.hasOwnProperty(p.type))?p:null}const B0=(p,d)=>{let y,S,U;p&&p.type==="supsub"?(S=lt(p.base,"accent"),y=S.base,p.base=y,U=c0(xt(p,d)),p.base=S):(S=lt(p,"accent"),y=S.base);const z=xt(y,d.havingCrampedStyle()),X=S.isShifty&&w.isCharacterBox(y);let ne=0;if(X){const Ue=w.getBaseElem(y),Re=xt(Ue,d.havingCrampedStyle());ne=hu(Re).skew}const fe=S.label==="\\c";let Be=fe?z.height+z.depth:Math.min(z.height,d.fontMetrics().xHeight),Fe;if(S.isStretchy)Fe=Is.svgSpan(S,d),Fe=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"elem",elem:Fe,wrapperClasses:["svg-align"],wrapperStyle:ne>0?{width:"calc(100% - "+ze(2*ne)+")",marginLeft:ze(2*ne)}:void 0}]},d);else{let Ue,Re;S.label==="\\vec"?(Ue=Ie.staticSvg("vec",d),Re=Ie.svgData.vec[1]):(Ue=Ie.makeOrd({mode:S.mode,text:S.label},d,"textord"),Ue=hu(Ue),Ue.italic=0,Re=Ue.width,fe&&(Be+=Ue.depth)),Fe=Ie.makeSpan(["accent-body"],[Ue]);const Je=S.label==="\\textcircled";Je&&(Fe.classes.push("accent-full"),Be=z.height);let et=ne;Je||(et-=Re/2),Fe.style.left=ze(et),S.label==="\\textcircled"&&(Fe.style.top=".2em"),Fe=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:-Be},{type:"elem",elem:Fe}]},d)}const ke=Ie.makeSpan(["mord","accent"],[Fe],d);return U?(U.children[0]=ke,U.height=Math.max(ke.height,U.height),U.classes[0]="mord",U):ke},c1=(p,d)=>{const y=p.isStretchy?Is.mathMLnode(p.label):new Pe.MathNode("mo",[fn(p.label,p.mode)]),S=new Pe.MathNode("mover",[Lt(p.base,d),y]);return S.setAttribute("accent","true"),S},IB=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(p=>"\\"+p).join("|"));Ve({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(p,d)=>{const y=xu(d[0]),S=!IB.test(p.funcName),U=!S||p.funcName==="\\widehat"||p.funcName==="\\widetilde"||p.funcName==="\\widecheck";return{type:"accent",mode:p.parser.mode,label:p.funcName,isStretchy:S,isShifty:U,base:y}},htmlBuilder:B0,mathmlBuilder:c1}),Ve({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(p,d)=>{const y=d[0];let S=p.parser.mode;return S==="math"&&(p.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+p.funcName+" works only in text mode"),S="text"),{type:"accent",mode:S,label:p.funcName,isStretchy:!1,isShifty:!0,base:y}},htmlBuilder:B0,mathmlBuilder:c1}),Ve({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0];return{type:"accentUnder",mode:y.mode,label:S,base:U}},htmlBuilder:(p,d)=>{const y=xt(p.base,d),S=Is.svgSpan(p,d),U=p.label==="\\utilde"?.12:0,z=Ie.makeVList({positionType:"top",positionData:y.height,children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:U},{type:"elem",elem:y}]},d);return Ie.makeSpan(["mord","accentunder"],[z],d)},mathmlBuilder:(p,d)=>{const y=Is.mathMLnode(p.label),S=new Pe.MathNode("munder",[Lt(p.base,d),y]);return S.setAttribute("accentunder","true"),S}});const Cu=p=>{const d=new Pe.MathNode("mpadded",p?[p]:[]);return d.setAttribute("width","+0.6em"),d.setAttribute("lspace","0.3em"),d};Ve({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(p,d,y){let{parser:S,funcName:U}=p;return{type:"xArrow",mode:S.mode,label:U,body:d[0],below:y[0]}},htmlBuilder(p,d){const y=d.style;let S=d.havingStyle(y.sup());const U=Ie.wrapFragment(xt(p.body,S,d),d),z=p.label.slice(0,2)==="\\x"?"x":"cd";U.classes.push(z+"-arrow-pad");let X;p.below&&(S=d.havingStyle(y.sub()),X=Ie.wrapFragment(xt(p.below,S,d),d),X.classes.push(z+"-arrow-pad"));const ne=Is.svgSpan(p,d),fe=-d.fontMetrics().axisHeight+.5*ne.height;let Be=-d.fontMetrics().axisHeight-.5*ne.height-.111;(U.depth>.25||p.label==="\\xleftequilibrium")&&(Be-=U.depth);let Fe;if(X){const ke=-d.fontMetrics().axisHeight+X.height+.5*ne.height+.111;Fe=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Be},{type:"elem",elem:ne,shift:fe},{type:"elem",elem:X,shift:ke}]},d)}else Fe=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Be},{type:"elem",elem:ne,shift:fe}]},d);return Fe.children[0].children[0].children[1].classes.push("svg-align"),Ie.makeSpan(["mrel","x-arrow"],[Fe],d)},mathmlBuilder(p,d){const y=Is.mathMLnode(p.label);y.setAttribute("minsize",p.label.charAt(0)==="x"?"1.75em":"3.0em");let S;if(p.body){const U=Cu(Lt(p.body,d));if(p.below){const z=Cu(Lt(p.below,d));S=new Pe.MathNode("munderover",[y,z,U])}else S=new Pe.MathNode("mover",[y,U])}else if(p.below){const U=Cu(Lt(p.below,d));S=new Pe.MathNode("munder",[y,U])}else S=Cu(),S=new Pe.MathNode("mover",[y,S]);return S}});const _B=Ie.makeSpan;function d1(p,d){const y=yr(p.body,d,!0);return _B([p.mclass],y,d)}function h1(p,d){let y;const S=Zr(p.body,d);return p.mclass==="minner"?y=new Pe.MathNode("mpadded",S):p.mclass==="mord"?p.isCharacterBox?(y=S[0],y.type="mi"):y=new Pe.MathNode("mi",S):(p.isCharacterBox?(y=S[0],y.type="mo"):y=new Pe.MathNode("mo",S),p.mclass==="mbin"?(y.attributes.lspace="0.22em",y.attributes.rspace="0.22em"):p.mclass==="mpunct"?(y.attributes.lspace="0em",y.attributes.rspace="0.17em"):p.mclass==="mopen"||p.mclass==="mclose"?(y.attributes.lspace="0em",y.attributes.rspace="0em"):p.mclass==="minner"&&(y.attributes.lspace="0.0556em",y.attributes.width="+0.1111em")),y}Ve({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(p,d){let{parser:y,funcName:S}=p;const U=d[0];return{type:"mclass",mode:y.mode,mclass:"m"+S.slice(5),body:or(U),isCharacterBox:w.isCharacterBox(U)}},htmlBuilder:d1,mathmlBuilder:h1});const Eu=p=>{const d=p.type==="ordgroup"&&p.body.length?p.body[0]:p;return d.type==="atom"&&(d.family==="bin"||d.family==="rel")?"m"+d.family:"mord"};Ve({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(p,d){let{parser:y}=p;return{type:"mclass",mode:y.mode,mclass:Eu(d[0]),body:or(d[1]),isCharacterBox:w.isCharacterBox(d[1])}}}),Ve({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(p,d){let{parser:y,funcName:S}=p;const U=d[1],z=d[0];let X;S!=="\\stackrel"?X=Eu(U):X="mrel";const ne={type:"op",mode:U.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:S!=="\\stackrel",body:or(U)},fe={type:"supsub",mode:z.mode,base:ne,sup:S==="\\underset"?null:z,sub:S==="\\underset"?z:null};return{type:"mclass",mode:y.mode,mclass:X,body:[fe],isCharacterBox:w.isCharacterBox(fe)}},htmlBuilder:d1,mathmlBuilder:h1}),Ve({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(p,d){let{parser:y}=p;return{type:"pmb",mode:y.mode,mclass:Eu(d[0]),body:or(d[0])}},htmlBuilder(p,d){const y=yr(p.body,d,!0),S=Ie.makeSpan([p.mclass],y,d);return S.style.textShadow="0.02em 0.01em 0.04px",S},mathmlBuilder(p,d){const y=Zr(p.body,d),S=new Pe.MathNode("mstyle",y);return S.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),S}});const UB={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},f1=()=>({type:"styling",body:[],mode:"math",style:"display"}),p1=p=>p.type==="textord"&&p.text==="@",MB=(p,d)=>(p.type==="mathord"||p.type==="atom")&&p.text===d;function QB(p,d,y){const S=UB[p];switch(S){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return y.callFunction(S,[d[0]],[d[1]]);case"\\uparrow":case"\\downarrow":{const U=y.callFunction("\\\\cdleft",[d[0]],[]),z={type:"atom",text:S,mode:"math",family:"rel"},X=y.callFunction("\\Big",[z],[]),ne=y.callFunction("\\\\cdright",[d[1]],[]),fe={type:"ordgroup",mode:"math",body:[U,X,ne]};return y.callFunction("\\\\cdparent",[fe],[])}case"\\\\cdlongequal":return y.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const U={type:"textord",text:"\\Vert",mode:"math"};return y.callFunction("\\Big",[U],[])}default:return{type:"textord",text:" ",mode:"math"}}}function RB(p){const d=[];for(p.gullet.beginGroup(),p.gullet.macros.set("\\cr","\\\\\\relax"),p.gullet.beginGroup();;){d.push(p.parseExpression(!1,"\\\\")),p.gullet.endGroup(),p.gullet.beginGroup();const z=p.fetch().text;if(z==="&"||z==="\\\\")p.consume();else if(z==="\\end"){d[d.length-1].length===0&&d.pop();break}else throw new i("Expected \\\\ or \\cr or \\end",p.nextToken)}let y=[];const S=[y];for(let z=0;z<d.length;z++){const X=d[z];let ne=f1();for(let fe=0;fe<X.length;fe++)if(!p1(X[fe]))ne.body.push(X[fe]);else{y.push(ne),fe+=1;const Be=v0(X[fe]).text,Fe=new Array(2);if(Fe[0]={type:"ordgroup",mode:"math",body:[]},Fe[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Be)>-1))if("<>AV".indexOf(Be)>-1)for(let Re=0;Re<2;Re++){let Je=!0;for(let et=fe+1;et<X.length;et++){if(MB(X[et],Be)){Je=!1,fe=et;break}if(p1(X[et]))throw new i("Missing a "+Be+" character to complete a CD arrow.",X[et]);Fe[Re].body.push(X[et])}if(Je)throw new i("Missing a "+Be+" character to complete a CD arrow.",X[fe])}else throw new i('Expected one of "<>AV=|." after @',X[fe]);const Ue={type:"styling",body:[QB(Be,Fe,p)],mode:"math",style:"display"};y.push(Ue),ne=f1()}z%2===0?y.push(ne):y.shift(),y=[],S.push(y)}p.gullet.endGroup(),p.gullet.endGroup();const U=new Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,addJot:!0,rowGaps:[null],cols:U,colSeparationType:"CD",hLinesBeforeRow:new Array(S.length+1).fill([])}}Ve({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(p,d){let{parser:y,funcName:S}=p;return{type:"cdlabel",mode:y.mode,side:S.slice(4),label:d[0]}},htmlBuilder(p,d){const y=d.havingStyle(d.style.sup()),S=Ie.wrapFragment(xt(p.label,y,d),d);return S.classes.push("cd-label-"+p.side),S.style.bottom=ze(.8-S.depth),S.height=0,S.depth=0,S},mathmlBuilder(p,d){let y=new Pe.MathNode("mrow",[Lt(p.label,d)]);return y=new Pe.MathNode("mpadded",[y]),y.setAttribute("width","0"),p.side==="left"&&y.setAttribute("lspace","-1width"),y.setAttribute("voffset","0.7em"),y=new Pe.MathNode("mstyle",[y]),y.setAttribute("displaystyle","false"),y.setAttribute("scriptlevel","1"),y}}),Ve({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(p,d){let{parser:y}=p;return{type:"cdlabelparent",mode:y.mode,fragment:d[0]}},htmlBuilder(p,d){const y=Ie.wrapFragment(xt(p.fragment,d),d);return y.classes.push("cd-vert-arrow"),y},mathmlBuilder(p,d){return new Pe.MathNode("mrow",[Lt(p.fragment,d)])}}),Ve({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(p,d){let{parser:y}=p;const U=lt(d[0],"ordgroup").body;let z="";for(let fe=0;fe<U.length;fe++){const Be=lt(U[fe],"textord");z+=Be.text}let X=parseInt(z),ne;if(isNaN(X))throw new i("\\@char has non-numeric argument "+z);if(X<0||X>=1114111)throw new i("\\@char with invalid code point "+z);return X<=65535?ne=String.fromCharCode(X):(X-=65536,ne=String.fromCharCode((X>>10)+55296,(X&1023)+56320)),{type:"textord",mode:y.mode,text:ne}}});const g1=(p,d)=>{const y=yr(p.body,d.withColor(p.color),!1);return Ie.makeFragment(y)},m1=(p,d)=>{const y=Zr(p.body,d.withColor(p.color)),S=new Pe.MathNode("mstyle",y);return S.setAttribute("mathcolor",p.color),S};Ve({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(p,d){let{parser:y}=p;const S=lt(d[0],"color-token").color,U=d[1];return{type:"color",mode:y.mode,color:S,body:or(U)}},htmlBuilder:g1,mathmlBuilder:m1}),Ve({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(p,d){let{parser:y,breakOnTokenText:S}=p;const U=lt(d[0],"color-token").color;y.gullet.macros.set("\\current@color",U);const z=y.parseExpression(!0,S);return{type:"color",mode:y.mode,color:U,body:z}},htmlBuilder:g1,mathmlBuilder:m1}),Ve({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(p,d,y){let{parser:S}=p;const U=S.gullet.future().text==="["?S.parseSizeGroup(!0):null,z=!S.settings.displayMode||!S.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:S.mode,newLine:z,size:U&&lt(U,"size").value}},htmlBuilder(p,d){const y=Ie.makeSpan(["mspace"],[],d);return p.newLine&&(y.classes.push("newline"),p.size&&(y.style.marginTop=ze(_t(p.size,d)))),y},mathmlBuilder(p,d){const y=new Pe.MathNode("mspace");return p.newLine&&(y.setAttribute("linebreak","newline"),p.size&&y.setAttribute("height",ze(_t(p.size,d)))),y}});const C0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},b1=p=>{const d=p.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(d))throw new i("Expected a control sequence",p);return d},OB=p=>{let d=p.gullet.popToken();return d.text==="="&&(d=p.gullet.popToken(),d.text===" "&&(d=p.gullet.popToken())),d},w1=(p,d,y,S)=>{let U=p.gullet.macros.get(y.text);U==null&&(y.noexpand=!0,U={tokens:[y],numArgs:0,unexpandable:!p.gullet.isExpandable(y.text)}),p.gullet.macros.set(d,U,S)};Ve({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(p){let{parser:d,funcName:y}=p;d.consumeSpaces();const S=d.fetch();if(C0[S.text])return(y==="\\global"||y==="\\\\globallong")&&(S.text=C0[S.text]),lt(d.parseFunction(),"internal");throw new i("Invalid token after macro prefix",S)}}),Ve({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(p){let{parser:d,funcName:y}=p,S=d.gullet.popToken();const U=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(U))throw new i("Expected a control sequence",S);let z=0,X;const ne=[[]];for(;d.gullet.future().text!=="{";)if(S=d.gullet.popToken(),S.text==="#"){if(d.gullet.future().text==="{"){X=d.gullet.future(),ne[z].push("{");break}if(S=d.gullet.popToken(),!/^[1-9]$/.test(S.text))throw new i('Invalid argument number "'+S.text+'"');if(parseInt(S.text)!==z+1)throw new i('Argument number "'+S.text+'" out of order');z++,ne.push([])}else{if(S.text==="EOF")throw new i("Expected a macro definition");ne[z].push(S.text)}let{tokens:fe}=d.gullet.consumeArg();return X&&fe.unshift(X),(y==="\\edef"||y==="\\xdef")&&(fe=d.gullet.expandTokens(fe),fe.reverse()),d.gullet.macros.set(U,{tokens:fe,numArgs:z,delimiters:ne},y===C0[y]),{type:"internal",mode:d.mode}}}),Ve({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(p){let{parser:d,funcName:y}=p;const S=b1(d.gullet.popToken());d.gullet.consumeSpaces();const U=OB(d);return w1(d,S,U,y==="\\\\globallet"),{type:"internal",mode:d.mode}}}),Ve({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(p){let{parser:d,funcName:y}=p;const S=b1(d.gullet.popToken()),U=d.gullet.popToken(),z=d.gullet.popToken();return w1(d,S,z,y==="\\\\globalfuture"),d.gullet.pushToken(z),d.gullet.pushToken(U),{type:"internal",mode:d.mode}}});const Mo=function(p,d,y){const S=bt.math[p]&&bt.math[p].replace,U=Te(S||p,d,y);if(!U)throw new Error("Unsupported symbol "+p+" and font size "+d+".");return U},E0=function(p,d,y,S){const U=y.havingBaseStyle(d),z=Ie.makeSpan(S.concat(U.sizingClasses(y)),[p],y),X=U.sizeMultiplier/y.sizeMultiplier;return z.height*=X,z.depth*=X,z.maxFontSize=U.sizeMultiplier,z},y1=function(p,d,y){const S=d.havingBaseStyle(y),U=(1-d.sizeMultiplier/S.sizeMultiplier)*d.fontMetrics().axisHeight;p.classes.push("delimcenter"),p.style.top=ze(U),p.height-=U,p.depth+=U},NB=function(p,d,y,S,U,z){const X=Ie.makeSymbol(p,"Main-Regular",U,S),ne=E0(X,d,S,z);return y&&y1(ne,S,d),ne},LB=function(p,d,y,S){return Ie.makeSymbol(p,"Size"+d+"-Regular",y,S)},x1=function(p,d,y,S,U,z){const X=LB(p,d,U,S),ne=E0(Ie.makeSpan(["delimsizing","size"+d],[X],S),te.TEXT,S,z);return y&&y1(ne,S,te.TEXT),ne},S0=function(p,d,y){let S;return d==="Size1-Regular"?S="delim-size1":S="delim-size4",{type:"elem",elem:Ie.makeSpan(["delimsizinginner",S],[Ie.makeSpan([],[Ie.makeSymbol(p,d,y)])])}},T0=function(p,d,y){const S=R["Size4-Regular"][p.charCodeAt(0)]?R["Size4-Regular"][p.charCodeAt(0)][4]:R["Size1-Regular"][p.charCodeAt(0)][4],U=new Jn("inner",ue(p,Math.round(1e3*d))),z=new Nn([U],{width:ze(S),height:ze(d),style:"width:"+ze(S),viewBox:"0 0 "+1e3*S+" "+Math.round(1e3*d),preserveAspectRatio:"xMinYMin"}),X=Ie.makeSvgSpan([],[z],y);return X.height=d,X.style.height=ze(d),X.style.width=ze(S),{type:"elem",elem:X}},F0=.008,Su={type:"kern",size:-1*F0},HB=["|","\\lvert","\\rvert","\\vert"],PB=["\\|","\\lVert","\\rVert","\\Vert"],v1=function(p,d,y,S,U,z){let X,ne,fe,Be,Fe="",ke=0;X=fe=Be=p,ne=null;let Ue="Size1-Regular";p==="\\uparrow"?fe=Be="⏐":p==="\\Uparrow"?fe=Be="‖":p==="\\downarrow"?X=fe="⏐":p==="\\Downarrow"?X=fe="‖":p==="\\updownarrow"?(X="\\uparrow",fe="⏐",Be="\\downarrow"):p==="\\Updownarrow"?(X="\\Uparrow",fe="‖",Be="\\Downarrow"):w.contains(HB,p)?(fe="∣",Fe="vert",ke=333):w.contains(PB,p)?(fe="∥",Fe="doublevert",ke=556):p==="["||p==="\\lbrack"?(X="⎡",fe="⎢",Be="⎣",Ue="Size4-Regular",Fe="lbrack",ke=667):p==="]"||p==="\\rbrack"?(X="⎤",fe="⎥",Be="⎦",Ue="Size4-Regular",Fe="rbrack",ke=667):p==="\\lfloor"||p==="⌊"?(fe=X="⎢",Be="⎣",Ue="Size4-Regular",Fe="lfloor",ke=667):p==="\\lceil"||p==="⌈"?(X="⎡",fe=Be="⎢",Ue="Size4-Regular",Fe="lceil",ke=667):p==="\\rfloor"||p==="⌋"?(fe=X="⎥",Be="⎦",Ue="Size4-Regular",Fe="rfloor",ke=667):p==="\\rceil"||p==="⌉"?(X="⎤",fe=Be="⎥",Ue="Size4-Regular",Fe="rceil",ke=667):p==="("||p==="\\lparen"?(X="⎛",fe="⎜",Be="⎝",Ue="Size4-Regular",Fe="lparen",ke=875):p===")"||p==="\\rparen"?(X="⎞",fe="⎟",Be="⎠",Ue="Size4-Regular",Fe="rparen",ke=875):p==="\\{"||p==="\\lbrace"?(X="⎧",ne="⎨",Be="⎩",fe="⎪",Ue="Size4-Regular"):p==="\\}"||p==="\\rbrace"?(X="⎫",ne="⎬",Be="⎭",fe="⎪",Ue="Size4-Regular"):p==="\\lgroup"||p==="⟮"?(X="⎧",Be="⎩",fe="⎪",Ue="Size4-Regular"):p==="\\rgroup"||p==="⟯"?(X="⎫",Be="⎭",fe="⎪",Ue="Size4-Regular"):p==="\\lmoustache"||p==="⎰"?(X="⎧",Be="⎭",fe="⎪",Ue="Size4-Regular"):(p==="\\rmoustache"||p==="⎱")&&(X="⎫",Be="⎩",fe="⎪",Ue="Size4-Regular");const Re=Mo(X,Ue,U),Je=Re.height+Re.depth,et=Mo(fe,Ue,U),mt=et.height+et.depth,ft=Mo(Be,Ue,U),wt=ft.height+ft.depth;let Tt=0,jt=1;if(ne!==null){const tr=Mo(ne,Ue,U);Tt=tr.height+tr.depth,jt=2}const $r=Je+wt+Tt,xr=Math.max(0,Math.ceil((d-$r)/(jt*mt))),gn=$r+xr*jt*mt;let Ia=S.fontMetrics().axisHeight;y&&(Ia*=S.sizeMultiplier);const vt=gn/2-Ia,Mt=[];if(Fe.length>0){const tr=gn-Je-wt,Jt=Math.round(gn*1e3),mn=F(Fe,Math.round(tr*1e3)),h8=new Jn(Fe,mn),dm=(ke/1e3).toFixed(3)+"em",hm=(Jt/1e3).toFixed(3)+"em",f8=new Nn([h8],{width:dm,height:hm,viewBox:"0 0 "+ke+" "+Jt}),Iu=Ie.makeSvgSpan([],[f8],S);Iu.height=Jt/1e3,Iu.style.width=dm,Iu.style.height=hm,Mt.push({type:"elem",elem:Iu})}else{if(Mt.push(S0(Be,Ue,U)),Mt.push(Su),ne===null){const tr=gn-Je-wt+2*F0;Mt.push(T0(fe,tr,S))}else{const tr=(gn-Je-wt-Tt)/2+2*F0;Mt.push(T0(fe,tr,S)),Mt.push(Su),Mt.push(S0(ne,Ue,U)),Mt.push(Su),Mt.push(T0(fe,tr,S))}Mt.push(Su),Mt.push(S0(X,Ue,U))}const qt=S.havingBaseStyle(te.TEXT),Wt=Ie.makeVList({positionType:"bottom",positionData:vt,children:Mt},qt);return E0(Ie.makeSpan(["delimsizing","mult"],[Wt],qt),te.TEXT,S,z)},D0=80,k0=.08,I0=function(p,d,y,S,U){const z=O(p,S,y),X=new Jn(p,z),ne=new Nn([X],{width:"400em",height:ze(d),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});return Ie.makeSvgSpan(["hide-tail"],[ne],U)},jB=function(p,d){const y=d.havingBaseSizing(),S=S1("\\surd",p*y.sizeMultiplier,E1,y);let U=y.sizeMultiplier;const z=Math.max(0,d.minRuleThickness-d.fontMetrics().sqrtRuleThickness);let X,ne=0,fe=0,Be=0,Fe;return S.type==="small"?(Be=1e3+1e3*z+D0,p<1?U=1:p<1.4&&(U=.7),ne=(1+z+k0)/U,fe=(1+z)/U,X=I0("sqrtMain",ne,Be,z,d),X.style.minWidth="0.853em",Fe=.833/U):S.type==="large"?(Be=(1e3+D0)*Qo[S.size],fe=(Qo[S.size]+z)/U,ne=(Qo[S.size]+z+k0)/U,X=I0("sqrtSize"+S.size,ne,Be,z,d),X.style.minWidth="1.02em",Fe=1/U):(ne=p+z+k0,fe=p+z,Be=Math.floor(1e3*p+z)+D0,X=I0("sqrtTall",ne,Be,z,d),X.style.minWidth="0.742em",Fe=1.056),X.height=fe,X.style.height=ze(ne),{span:X,advanceWidth:Fe,ruleWidth:(d.fontMetrics().sqrtRuleThickness+z)*U}},B1=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],zB=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],C1=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Qo=[0,1.2,1.8,2.4,3],KB=function(p,d,y,S,U){if(p==="<"||p==="\\lt"||p==="⟨"?p="\\langle":(p===">"||p==="\\gt"||p==="⟩")&&(p="\\rangle"),w.contains(B1,p)||w.contains(C1,p))return x1(p,d,!1,y,S,U);if(w.contains(zB,p))return v1(p,Qo[d],!1,y,S,U);throw new i("Illegal delimiter: '"+p+"'")},qB=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],VB=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"stack"}],E1=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],GB=function(p){if(p.type==="small")return"Main-Regular";if(p.type==="large")return"Size"+p.size+"-Regular";if(p.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+p.type+"' here.")},S1=function(p,d,y,S){const U=Math.min(2,3-S.style.size);for(let z=U;z<y.length&&y[z].type!=="stack";z++){const X=Mo(p,GB(y[z]),"math");let ne=X.height+X.depth;if(y[z].type==="small"){const fe=S.havingBaseStyle(y[z].style);ne*=fe.sizeMultiplier}if(ne>d)return y[z]}return y[y.length-1]},T1=function(p,d,y,S,U,z){p==="<"||p==="\\lt"||p==="⟨"?p="\\langle":(p===">"||p==="\\gt"||p==="⟩")&&(p="\\rangle");let X;w.contains(C1,p)?X=qB:w.contains(B1,p)?X=E1:X=VB;const ne=S1(p,d,X,S);return ne.type==="small"?NB(p,ne.style,y,S,U,z):ne.type==="large"?x1(p,ne.size,y,S,U,z):v1(p,d,y,S,U,z)};var _s={sqrtImage:jB,sizedDelim:KB,sizeToMaxHeight:Qo,customSizedDelim:T1,leftRightDelim:function(p,d,y,S,U,z){const X=S.fontMetrics().axisHeight*S.sizeMultiplier,ne=901,fe=5/S.fontMetrics().ptPerEm,Be=Math.max(d-X,y+X),Fe=Math.max(Be/500*ne,2*Be-fe);return T1(p,Fe,!0,S,U,z)}};const F1={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},WB=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tu(p,d){const y=Bu(p);if(y&&w.contains(WB,y.text))return y;throw y?new i("Invalid delimiter '"+y.text+"' after '"+d.funcName+"'",p):new i("Invalid delimiter type '"+p.type+"'",p)}Ve({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(p,d)=>{const y=Tu(d[0],p);return{type:"delimsizing",mode:p.parser.mode,size:F1[p.funcName].size,mclass:F1[p.funcName].mclass,delim:y.text}},htmlBuilder:(p,d)=>p.delim==="."?Ie.makeSpan([p.mclass]):_s.sizedDelim(p.delim,p.size,d,p.mode,[p.mclass]),mathmlBuilder:p=>{const d=[];p.delim!=="."&&d.push(fn(p.delim,p.mode));const y=new Pe.MathNode("mo",d);p.mclass==="mopen"||p.mclass==="mclose"?y.setAttribute("fence","true"):y.setAttribute("fence","false"),y.setAttribute("stretchy","true");const S=ze(_s.sizeToMaxHeight[p.size]);return y.setAttribute("minsize",S),y.setAttribute("maxsize",S),y}});function D1(p){if(!p.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ve({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(p,d)=>{const y=p.parser.gullet.macros.get("\\current@color");if(y&&typeof y!="string")throw new i("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:p.parser.mode,delim:Tu(d[0],p).text,color:y}}}),Ve({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(p,d)=>{const y=Tu(d[0],p),S=p.parser;++S.leftrightDepth;const U=S.parseExpression(!1);--S.leftrightDepth,S.expect("\\right",!1);const z=lt(S.parseFunction(),"leftright-right");return{type:"leftright",mode:S.mode,body:U,left:y.text,right:z.delim,rightColor:z.color}},htmlBuilder:(p,d)=>{D1(p);const y=yr(p.body,d,!0,["mopen","mclose"]);let S=0,U=0,z=!1;for(let fe=0;fe<y.length;fe++)y[fe].isMiddle?z=!0:(S=Math.max(y[fe].height,S),U=Math.max(y[fe].depth,U));S*=d.sizeMultiplier,U*=d.sizeMultiplier;let X;if(p.left==="."?X=Uo(d,["mopen"]):X=_s.leftRightDelim(p.left,S,U,d,p.mode,["mopen"]),y.unshift(X),z)for(let fe=1;fe<y.length;fe++){const Fe=y[fe].isMiddle;Fe&&(y[fe]=_s.leftRightDelim(Fe.delim,S,U,Fe.options,p.mode,[]))}let ne;if(p.right===".")ne=Uo(d,["mclose"]);else{const fe=p.rightColor?d.withColor(p.rightColor):d;ne=_s.leftRightDelim(p.right,S,U,fe,p.mode,["mclose"])}return y.push(ne),Ie.makeSpan(["minner"],y,d)},mathmlBuilder:(p,d)=>{D1(p);const y=Zr(p.body,d);if(p.left!=="."){const S=new Pe.MathNode("mo",[fn(p.left,p.mode)]);S.setAttribute("fence","true"),y.unshift(S)}if(p.right!=="."){const S=new Pe.MathNode("mo",[fn(p.right,p.mode)]);S.setAttribute("fence","true"),p.rightColor&&S.setAttribute("mathcolor",p.rightColor),y.push(S)}return w0(y)}}),Ve({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(p,d)=>{const y=Tu(d[0],p);if(!p.parser.leftrightDepth)throw new i("\\middle without preceding \\left",y);return{type:"middle",mode:p.parser.mode,delim:y.text}},htmlBuilder:(p,d)=>{let y;if(p.delim===".")y=Uo(d,[]);else{y=_s.sizedDelim(p.delim,1,d,p.mode,[]);const S={delim:p.delim,options:d};y.isMiddle=S}return y},mathmlBuilder:(p,d)=>{const y=p.delim==="\\vert"||p.delim==="|"?fn("|","text"):fn(p.delim,p.mode),S=new Pe.MathNode("mo",[y]);return S.setAttribute("fence","true"),S.setAttribute("lspace","0.05em"),S.setAttribute("rspace","0.05em"),S}});const _0=(p,d)=>{const y=Ie.wrapFragment(xt(p.body,d),d),S=p.label.slice(1);let U=d.sizeMultiplier,z,X=0;const ne=w.isCharacterBox(p.body);if(S==="sout")z=Ie.makeSpan(["stretchy","sout"]),z.height=d.fontMetrics().defaultRuleThickness/U,X=-.5*d.fontMetrics().xHeight;else if(S==="phase"){const Be=_t({number:.6,unit:"pt"},d),Fe=_t({number:.35,unit:"ex"},d),ke=d.havingBaseSizing();U=U/ke.sizeMultiplier;const Ue=y.height+y.depth+Be+Fe;y.style.paddingLeft=ze(Ue/2+Be);const Re=Math.floor(1e3*Ue*U),Je=se(Re),et=new Nn([new Jn("phase",Je)],{width:"400em",height:ze(Re/1e3),viewBox:"0 0 400000 "+Re,preserveAspectRatio:"xMinYMin slice"});z=Ie.makeSvgSpan(["hide-tail"],[et],d),z.style.height=ze(Ue),X=y.depth+Be+Fe}else{/cancel/.test(S)?ne||y.classes.push("cancel-pad"):S==="angl"?y.classes.push("anglpad"):y.classes.push("boxpad");let Be=0,Fe=0,ke=0;/box/.test(S)?(ke=Math.max(d.fontMetrics().fboxrule,d.minRuleThickness),Be=d.fontMetrics().fboxsep+(S==="colorbox"?0:ke),Fe=Be):S==="angl"?(ke=Math.max(d.fontMetrics().defaultRuleThickness,d.minRuleThickness),Be=4*ke,Fe=Math.max(0,.25-y.depth)):(Be=ne?.2:0,Fe=Be),z=Is.encloseSpan(y,S,Be,Fe,d),/fbox|boxed|fcolorbox/.test(S)?(z.style.borderStyle="solid",z.style.borderWidth=ze(ke)):S==="angl"&&ke!==.049&&(z.style.borderTopWidth=ze(ke),z.style.borderRightWidth=ze(ke)),X=y.depth+Fe,p.backgroundColor&&(z.style.backgroundColor=p.backgroundColor,p.borderColor&&(z.style.borderColor=p.borderColor))}let fe;if(p.backgroundColor)fe=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:z,shift:X},{type:"elem",elem:y,shift:0}]},d);else{const Be=/cancel|phase/.test(S)?["svg-align"]:[];fe=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:0},{type:"elem",elem:z,shift:X,wrapperClasses:Be}]},d)}return/cancel/.test(S)&&(fe.height=y.height,fe.depth=y.depth),/cancel/.test(S)&&!ne?Ie.makeSpan(["mord","cancel-lap"],[fe],d):Ie.makeSpan(["mord"],[fe],d)},U0=(p,d)=>{let y=0;const S=new Pe.MathNode(p.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Lt(p.body,d)]);switch(p.label){case"\\cancel":S.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":S.setAttribute("notation","downdiagonalstrike");break;case"\\phase":S.setAttribute("notation","phasorangle");break;case"\\sout":S.setAttribute("notation","horizontalstrike");break;case"\\fbox":S.setAttribute("notation","box");break;case"\\angl":S.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(y=d.fontMetrics().fboxsep*d.fontMetrics().ptPerEm,S.setAttribute("width","+"+2*y+"pt"),S.setAttribute("height","+"+2*y+"pt"),S.setAttribute("lspace",y+"pt"),S.setAttribute("voffset",y+"pt"),p.label==="\\fcolorbox"){const U=Math.max(d.fontMetrics().fboxrule,d.minRuleThickness);S.setAttribute("style","border: "+U+"em solid "+String(p.borderColor))}break;case"\\xcancel":S.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return p.backgroundColor&&S.setAttribute("mathbackground",p.backgroundColor),S};Ve({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(p,d,y){let{parser:S,funcName:U}=p;const z=lt(d[0],"color-token").color,X=d[1];return{type:"enclose",mode:S.mode,label:U,backgroundColor:z,body:X}},htmlBuilder:_0,mathmlBuilder:U0}),Ve({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(p,d,y){let{parser:S,funcName:U}=p;const z=lt(d[0],"color-token").color,X=lt(d[1],"color-token").color,ne=d[2];return{type:"enclose",mode:S.mode,label:U,backgroundColor:X,borderColor:z,body:ne}},htmlBuilder:_0,mathmlBuilder:U0}),Ve({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(p,d){let{parser:y}=p;return{type:"enclose",mode:y.mode,label:"\\fbox",body:d[0]}}}),Ve({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(p,d){let{parser:y,funcName:S}=p;const U=d[0];return{type:"enclose",mode:y.mode,label:S,body:U}},htmlBuilder:_0,mathmlBuilder:U0}),Ve({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(p,d){let{parser:y}=p;return{type:"enclose",mode:y.mode,label:"\\angl",body:d[0]}}});const k1={};function es(p){let{type:d,names:y,props:S,handler:U,htmlBuilder:z,mathmlBuilder:X}=p;const ne={type:d,numArgs:S.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:U};for(let fe=0;fe<y.length;++fe)k1[y[fe]]=ne;z&&(wu[d]=z),X&&(yu[d]=X)}const I1={};function ae(p,d){I1[p]=d}class cn{constructor(d,y,S){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=d,this.start=y,this.end=S}static range(d,y){return y?!d||!d.loc||!y.loc||d.loc.lexer!==y.loc.lexer?null:new cn(d.loc.lexer,d.loc.start,y.loc.end):d&&d.loc}}class pn{constructor(d,y){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=d,this.loc=y}range(d,y){return new pn(y,cn.range(this,d))}}function _1(p){const d=[];p.consumeSpaces();let y=p.fetch().text;for(y==="\\relax"&&(p.consume(),p.consumeSpaces(),y=p.fetch().text);y==="\\hline"||y==="\\hdashline";)p.consume(),d.push(y==="\\hdashline"),p.consumeSpaces(),y=p.fetch().text;return d}const Fu=p=>{if(!p.parser.settings.displayMode)throw new i("{"+p.envName+"} can be used only in display mode.")};function M0(p){if(p.indexOf("ed")===-1)return p.indexOf("*")===-1}function ui(p,d,y){let{hskipBeforeAndAfter:S,addJot:U,cols:z,arraystretch:X,colSeparationType:ne,autoTag:fe,singleRow:Be,emptySingleRow:Fe,maxNumCols:ke,leqno:Ue}=d;if(p.gullet.beginGroup(),Be||p.gullet.macros.set("\\cr","\\\\\\relax"),!X){const jt=p.gullet.expandMacroAsText("\\arraystretch");if(jt==null)X=1;else if(X=parseFloat(jt),!X||X<0)throw new i("Invalid \\arraystretch: "+jt)}p.gullet.beginGroup();let Re=[];const Je=[Re],et=[],mt=[],ft=fe!=null?[]:void 0;function wt(){fe&&p.gullet.macros.set("\\@eqnsw","1",!0)}function Tt(){ft&&(p.gullet.macros.get("\\df@tag")?(ft.push(p.subparse([new pn("\\df@tag")])),p.gullet.macros.set("\\df@tag",void 0,!0)):ft.push(!!fe&&p.gullet.macros.get("\\@eqnsw")==="1"))}for(wt(),mt.push(_1(p));;){let jt=p.parseExpression(!1,Be?"\\end":"\\\\");p.gullet.endGroup(),p.gullet.beginGroup(),jt={type:"ordgroup",mode:p.mode,body:jt},y&&(jt={type:"styling",mode:p.mode,style:y,body:[jt]}),Re.push(jt);const $r=p.fetch().text;if($r==="&"){if(ke&&Re.length===ke){if(Be||ne)throw new i("Too many tab characters: &",p.nextToken);p.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}p.consume()}else if($r==="\\end"){Tt(),Re.length===1&&jt.type==="styling"&&jt.body[0].body.length===0&&(Je.length>1||!Fe)&&Je.pop(),mt.length<Je.length+1&&mt.push([]);break}else if($r==="\\\\"){p.consume();let xr;p.gullet.future().text!==" "&&(xr=p.parseSizeGroup(!0)),et.push(xr?xr.value:null),Tt(),mt.push(_1(p)),Re=[],Je.push(Re),wt()}else throw new i("Expected & or \\\\ or \\cr or \\end",p.nextToken)}return p.gullet.endGroup(),p.gullet.endGroup(),{type:"array",mode:p.mode,addJot:U,arraystretch:X,body:Je,cols:z,rowGaps:et,hskipBeforeAndAfter:S,hLinesBeforeRow:mt,colSeparationType:ne,tags:ft,leqno:Ue}}function Q0(p){return p.slice(0,1)==="d"?"display":"text"}const ts=function(p,d){let y,S;const U=p.body.length,z=p.hLinesBeforeRow;let X=0,ne=new Array(U);const fe=[],Be=Math.max(d.fontMetrics().arrayRuleWidth,d.minRuleThickness),Fe=1/d.fontMetrics().ptPerEm;let ke=5*Fe;p.colSeparationType&&p.colSeparationType==="small"&&(ke=.2778*(d.havingStyle(te.SCRIPT).sizeMultiplier/d.sizeMultiplier));const Ue=p.colSeparationType==="CD"?_t({number:3,unit:"ex"},d):12*Fe,Re=3*Fe,Je=p.arraystretch*Ue,et=.7*Je,mt=.3*Je;let ft=0;function wt(vt){for(let Mt=0;Mt<vt.length;++Mt)Mt>0&&(ft+=.25),fe.push({pos:ft,isDashed:vt[Mt]})}for(wt(z[0]),y=0;y<p.body.length;++y){const vt=p.body[y];let Mt=et,qt=mt;X<vt.length&&(X=vt.length);const Wt=new Array(vt.length);for(S=0;S<vt.length;++S){const mn=xt(vt[S],d);qt<mn.depth&&(qt=mn.depth),Mt<mn.height&&(Mt=mn.height),Wt[S]=mn}const tr=p.rowGaps[y];let Jt=0;tr&&(Jt=_t(tr,d),Jt>0&&(Jt+=mt,qt<Jt&&(qt=Jt),Jt=0)),p.addJot&&(qt+=Re),Wt.height=Mt,Wt.depth=qt,ft+=Mt,Wt.pos=ft,ft+=qt+Jt,ne[y]=Wt,wt(z[y+1])}const Tt=ft/2+d.fontMetrics().axisHeight,jt=p.cols||[],$r=[];let xr,gn;const Ia=[];if(p.tags&&p.tags.some(vt=>vt))for(y=0;y<U;++y){const vt=ne[y],Mt=vt.pos-Tt,qt=p.tags[y];let Wt;qt===!0?Wt=Ie.makeSpan(["eqn-num"],[],d):qt===!1?Wt=Ie.makeSpan([],[],d):Wt=Ie.makeSpan([],yr(qt,d,!0),d),Wt.depth=vt.depth,Wt.height=vt.height,Ia.push({type:"elem",elem:Wt,shift:Mt})}for(S=0,gn=0;S<X||gn<jt.length;++S,++gn){let vt=jt[gn]||{},Mt=!0;for(;vt.type==="separator";){if(Mt||(xr=Ie.makeSpan(["arraycolsep"],[]),xr.style.width=ze(d.fontMetrics().doubleRuleSep),$r.push(xr)),vt.separator==="|"||vt.separator===":"){const tr=vt.separator==="|"?"solid":"dashed",Jt=Ie.makeSpan(["vertical-separator"],[],d);Jt.style.height=ze(ft),Jt.style.borderRightWidth=ze(Be),Jt.style.borderRightStyle=tr,Jt.style.margin="0 "+ze(-Be/2);const mn=ft-Tt;mn&&(Jt.style.verticalAlign=ze(-mn)),$r.push(Jt)}else throw new i("Invalid separator type: "+vt.separator);gn++,vt=jt[gn]||{},Mt=!1}if(S>=X)continue;let qt;(S>0||p.hskipBeforeAndAfter)&&(qt=w.deflt(vt.pregap,ke),qt!==0&&(xr=Ie.makeSpan(["arraycolsep"],[]),xr.style.width=ze(qt),$r.push(xr)));let Wt=[];for(y=0;y<U;++y){const tr=ne[y],Jt=tr[S];if(!Jt)continue;const mn=tr.pos-Tt;Jt.depth=tr.depth,Jt.height=tr.height,Wt.push({type:"elem",elem:Jt,shift:mn})}Wt=Ie.makeVList({positionType:"individualShift",children:Wt},d),Wt=Ie.makeSpan(["col-align-"+(vt.align||"c")],[Wt]),$r.push(Wt),(S<X-1||p.hskipBeforeAndAfter)&&(qt=w.deflt(vt.postgap,ke),qt!==0&&(xr=Ie.makeSpan(["arraycolsep"],[]),xr.style.width=ze(qt),$r.push(xr)))}if(ne=Ie.makeSpan(["mtable"],$r),fe.length>0){const vt=Ie.makeLineSpan("hline",d,Be),Mt=Ie.makeLineSpan("hdashline",d,Be),qt=[{type:"elem",elem:ne,shift:0}];for(;fe.length>0;){const Wt=fe.pop(),tr=Wt.pos-Tt;Wt.isDashed?qt.push({type:"elem",elem:Mt,shift:tr}):qt.push({type:"elem",elem:vt,shift:tr})}ne=Ie.makeVList({positionType:"individualShift",children:qt},d)}if(Ia.length===0)return Ie.makeSpan(["mord"],[ne],d);{let vt=Ie.makeVList({positionType:"individualShift",children:Ia},d);return vt=Ie.makeSpan(["tag"],[vt],d),Ie.makeFragment([ne,vt])}},$B={c:"center ",l:"left ",r:"right "},rs=function(p,d){const y=[],S=new Pe.MathNode("mtd",[],["mtr-glue"]),U=new Pe.MathNode("mtd",[],["mml-eqn-num"]);for(let ke=0;ke<p.body.length;ke++){const Ue=p.body[ke],Re=[];for(let Je=0;Je<Ue.length;Je++)Re.push(new Pe.MathNode("mtd",[Lt(Ue[Je],d)]));p.tags&&p.tags[ke]&&(Re.unshift(S),Re.push(S),p.leqno?Re.unshift(U):Re.push(U)),y.push(new Pe.MathNode("mtr",Re))}let z=new Pe.MathNode("mtable",y);const X=p.arraystretch===.5?.1:.16+p.arraystretch-1+(p.addJot?.09:0);z.setAttribute("rowspacing",ze(X));let ne="",fe="";if(p.cols&&p.cols.length>0){const ke=p.cols;let Ue="",Re=!1,Je=0,et=ke.length;ke[0].type==="separator"&&(ne+="top ",Je=1),ke[ke.length-1].type==="separator"&&(ne+="bottom ",et-=1);for(let mt=Je;mt<et;mt++)ke[mt].type==="align"?(fe+=$B[ke[mt].align],Re&&(Ue+="none "),Re=!0):ke[mt].type==="separator"&&Re&&(Ue+=ke[mt].separator==="|"?"solid ":"dashed ",Re=!1);z.setAttribute("columnalign",fe.trim()),/[sd]/.test(Ue)&&z.setAttribute("columnlines",Ue.trim())}if(p.colSeparationType==="align"){const ke=p.cols||[];let Ue="";for(let Re=1;Re<ke.length;Re++)Ue+=Re%2?"0em ":"1em ";z.setAttribute("columnspacing",Ue.trim())}else p.colSeparationType==="alignat"||p.colSeparationType==="gather"?z.setAttribute("columnspacing","0em"):p.colSeparationType==="small"?z.setAttribute("columnspacing","0.2778em"):p.colSeparationType==="CD"?z.setAttribute("columnspacing","0.5em"):z.setAttribute("columnspacing","1em");let Be="";const Fe=p.hLinesBeforeRow;ne+=Fe[0].length>0?"left ":"",ne+=Fe[Fe.length-1].length>0?"right ":"";for(let ke=1;ke<Fe.length-1;ke++)Be+=Fe[ke].length===0?"none ":Fe[ke][0]?"dashed ":"solid ";return/[sd]/.test(Be)&&z.setAttribute("rowlines",Be.trim()),ne!==""&&(z=new Pe.MathNode("menclose",[z]),z.setAttribute("notation",ne.trim())),p.arraystretch&&p.arraystretch<1&&(z=new Pe.MathNode("mstyle",[z]),z.setAttribute("scriptlevel","1")),z},U1=function(p,d){p.envName.indexOf("ed")===-1&&Fu(p);const y=[],S=p.envName.indexOf("at")>-1?"alignat":"align",U=p.envName==="split",z=ui(p.parser,{cols:y,addJot:!0,autoTag:U?void 0:M0(p.envName),emptySingleRow:!0,colSeparationType:S,maxNumCols:U?2:void 0,leqno:p.parser.settings.leqno},"display");let X,ne=0;const fe={type:"ordgroup",mode:p.mode,body:[]};if(d[0]&&d[0].type==="ordgroup"){let Fe="";for(let ke=0;ke<d[0].body.length;ke++){const Ue=lt(d[0].body[ke],"textord");Fe+=Ue.text}X=Number(Fe),ne=X*2}const Be=!ne;z.body.forEach(function(Fe){for(let ke=1;ke<Fe.length;ke+=2){const Ue=lt(Fe[ke],"styling");lt(Ue.body[0],"ordgroup").body.unshift(fe)}if(Be)ne<Fe.length&&(ne=Fe.length);else{const ke=Fe.length/2;if(X<ke)throw new i("Too many math in a row: "+("expected "+X+", but got "+ke),Fe[0])}});for(let Fe=0;Fe<ne;++Fe){let ke="r",Ue=0;Fe%2===1?ke="l":Fe>0&&Be&&(Ue=1),y[Fe]={type:"align",align:ke,pregap:Ue,postgap:0}}return z.colSeparationType=Be?"align":"alignat",z};es({type:"array",names:["array","darray"],props:{numArgs:1},handler(p,d){const U=(Bu(d[0])?[d[0]]:lt(d[0],"ordgroup").body).map(function(X){const fe=v0(X).text;if("lcr".indexOf(fe)!==-1)return{type:"align",align:fe};if(fe==="|")return{type:"separator",separator:"|"};if(fe===":")return{type:"separator",separator:":"};throw new i("Unknown column alignment: "+fe,X)}),z={cols:U,hskipBeforeAndAfter:!0,maxNumCols:U.length};return ui(p.parser,z,Q0(p.envName))},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(p){const d={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[p.envName.replace("*","")];let y="c";const S={hskipBeforeAndAfter:!1,cols:[{type:"align",align:y}]};if(p.envName.charAt(p.envName.length-1)==="*"){const X=p.parser;if(X.consumeSpaces(),X.fetch().text==="["){if(X.consume(),X.consumeSpaces(),y=X.fetch().text,"lcr".indexOf(y)===-1)throw new i("Expected l or c or r",X.nextToken);X.consume(),X.consumeSpaces(),X.expect("]"),X.consume(),S.cols=[{type:"align",align:y}]}}const U=ui(p.parser,S,Q0(p.envName)),z=Math.max(0,...U.body.map(X=>X.length));return U.cols=new Array(z).fill({type:"align",align:y}),d?{type:"leftright",mode:p.mode,body:[U],left:d[0],right:d[1],rightColor:void 0}:U},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(p){const d={arraystretch:.5},y=ui(p.parser,d,"script");return y.colSeparationType="small",y},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["subarray"],props:{numArgs:1},handler(p,d){const U=(Bu(d[0])?[d[0]]:lt(d[0],"ordgroup").body).map(function(X){const fe=v0(X).text;if("lc".indexOf(fe)!==-1)return{type:"align",align:fe};throw new i("Unknown column alignment: "+fe,X)});if(U.length>1)throw new i("{subarray} can contain only one column");let z={cols:U,hskipBeforeAndAfter:!1,arraystretch:.5};if(z=ui(p.parser,z,"script"),z.body.length>0&&z.body[0].length>1)throw new i("{subarray} can contain only one column");return z},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(p){const d={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},y=ui(p.parser,d,Q0(p.envName));return{type:"leftright",mode:p.mode,body:[y],left:p.envName.indexOf("r")>-1?".":"\\{",right:p.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:U1,htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(p){w.contains(["gather","gather*"],p.envName)&&Fu(p);const d={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:M0(p.envName),emptySingleRow:!0,leqno:p.parser.settings.leqno};return ui(p.parser,d,"display")},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:U1,htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(p){Fu(p);const d={autoTag:M0(p.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:p.parser.settings.leqno};return ui(p.parser,d,"display")},htmlBuilder:ts,mathmlBuilder:rs}),es({type:"array",names:["CD"],props:{numArgs:0},handler(p){return Fu(p),RB(p.parser)},htmlBuilder:ts,mathmlBuilder:rs}),ae("\\nonumber","\\gdef\\@eqnsw{0}"),ae("\\notag","\\nonumber"),Ve({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(p,d){throw new i(p.funcName+" valid only within array environment")}});var M1=k1;Ve({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(p,d){let{parser:y,funcName:S}=p;const U=d[0];if(U.type!=="ordgroup")throw new i("Invalid environment name",U);let z="";for(let X=0;X<U.body.length;++X)z+=lt(U.body[X],"textord").text;if(S==="\\begin"){if(!M1.hasOwnProperty(z))throw new i("No such environment: "+z,U);const X=M1[z],{args:ne,optArgs:fe}=y.parseArguments("\\begin{"+z+"}",X),Be={mode:y.mode,envName:z,parser:y},Fe=X.handler(Be,ne,fe);y.expect("\\end",!1);const ke=y.nextToken,Ue=lt(y.parseFunction(),"environment");if(Ue.name!==z)throw new i("Mismatch: \\begin{"+z+"} matched by \\end{"+Ue.name+"}",ke);return Fe}return{type:"environment",mode:y.mode,name:z,nameGroup:U}}});const Q1=(p,d)=>{const y=p.font,S=d.withFont(y);return xt(p.body,S)},R1=(p,d)=>{const y=p.font,S=d.withFont(y);return Lt(p.body,S)},O1={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ve({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=xu(d[0]);let z=S;return z in O1&&(z=O1[z]),{type:"font",mode:y.mode,font:z.slice(1),body:U}},htmlBuilder:Q1,mathmlBuilder:R1}),Ve({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(p,d)=>{let{parser:y}=p;const S=d[0],U=w.isCharacterBox(S);return{type:"mclass",mode:y.mode,mclass:Eu(S),body:[{type:"font",mode:y.mode,font:"boldsymbol",body:S}],isCharacterBox:U}}}),Ve({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(p,d)=>{let{parser:y,funcName:S,breakOnTokenText:U}=p;const{mode:z}=y,X=y.parseExpression(!0,U),ne="math"+S.slice(1);return{type:"font",mode:z,font:ne,body:{type:"ordgroup",mode:y.mode,body:X}}},htmlBuilder:Q1,mathmlBuilder:R1});const N1=(p,d)=>{let y=d;return p==="display"?y=y.id>=te.SCRIPT.id?y.text():te.DISPLAY:p==="text"&&y.size===te.DISPLAY.size?y=te.TEXT:p==="script"?y=te.SCRIPT:p==="scriptscript"&&(y=te.SCRIPTSCRIPT),y},R0=(p,d)=>{const y=N1(p.size,d.style),S=y.fracNum(),U=y.fracDen();let z;z=d.havingStyle(S);const X=xt(p.numer,z,d);if(p.continued){const wt=8.5/d.fontMetrics().ptPerEm,Tt=3.5/d.fontMetrics().ptPerEm;X.height=X.height<wt?wt:X.height,X.depth=X.depth<Tt?Tt:X.depth}z=d.havingStyle(U);const ne=xt(p.denom,z,d);let fe,Be,Fe;p.hasBarLine?(p.barSize?(Be=_t(p.barSize,d),fe=Ie.makeLineSpan("frac-line",d,Be)):fe=Ie.makeLineSpan("frac-line",d),Be=fe.height,Fe=fe.height):(fe=null,Be=0,Fe=d.fontMetrics().defaultRuleThickness);let ke,Ue,Re;y.size===te.DISPLAY.size||p.size==="display"?(ke=d.fontMetrics().num1,Be>0?Ue=3*Fe:Ue=7*Fe,Re=d.fontMetrics().denom1):(Be>0?(ke=d.fontMetrics().num2,Ue=Fe):(ke=d.fontMetrics().num3,Ue=3*Fe),Re=d.fontMetrics().denom2);let Je;if(fe){const wt=d.fontMetrics().axisHeight;ke-X.depth-(wt+.5*Be)<Ue&&(ke+=Ue-(ke-X.depth-(wt+.5*Be))),wt-.5*Be-(ne.height-Re)<Ue&&(Re+=Ue-(wt-.5*Be-(ne.height-Re)));const Tt=-(wt-.5*Be);Je=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ne,shift:Re},{type:"elem",elem:fe,shift:Tt},{type:"elem",elem:X,shift:-ke}]},d)}else{const wt=ke-X.depth-(ne.height-Re);wt<Ue&&(ke+=.5*(Ue-wt),Re+=.5*(Ue-wt)),Je=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ne,shift:Re},{type:"elem",elem:X,shift:-ke}]},d)}z=d.havingStyle(y),Je.height*=z.sizeMultiplier/d.sizeMultiplier,Je.depth*=z.sizeMultiplier/d.sizeMultiplier;let et;y.size===te.DISPLAY.size?et=d.fontMetrics().delim1:y.size===te.SCRIPTSCRIPT.size?et=d.havingStyle(te.SCRIPT).fontMetrics().delim2:et=d.fontMetrics().delim2;let mt,ft;return p.leftDelim==null?mt=Uo(d,["mopen"]):mt=_s.customSizedDelim(p.leftDelim,et,!0,d.havingStyle(y),p.mode,["mopen"]),p.continued?ft=Ie.makeSpan([]):p.rightDelim==null?ft=Uo(d,["mclose"]):ft=_s.customSizedDelim(p.rightDelim,et,!0,d.havingStyle(y),p.mode,["mclose"]),Ie.makeSpan(["mord"].concat(z.sizingClasses(d)),[mt,Ie.makeSpan(["mfrac"],[Je]),ft],d)},O0=(p,d)=>{let y=new Pe.MathNode("mfrac",[Lt(p.numer,d),Lt(p.denom,d)]);if(!p.hasBarLine)y.setAttribute("linethickness","0px");else if(p.barSize){const U=_t(p.barSize,d);y.setAttribute("linethickness",ze(U))}const S=N1(p.size,d.style);if(S.size!==d.style.size){y=new Pe.MathNode("mstyle",[y]);const U=S.size===te.DISPLAY.size?"true":"false";y.setAttribute("displaystyle",U),y.setAttribute("scriptlevel","0")}if(p.leftDelim!=null||p.rightDelim!=null){const U=[];if(p.leftDelim!=null){const z=new Pe.MathNode("mo",[new Pe.TextNode(p.leftDelim.replace("\\",""))]);z.setAttribute("fence","true"),U.push(z)}if(U.push(y),p.rightDelim!=null){const z=new Pe.MathNode("mo",[new Pe.TextNode(p.rightDelim.replace("\\",""))]);z.setAttribute("fence","true"),U.push(z)}return w0(U)}return y};Ve({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0],z=d[1];let X,ne=null,fe=null,Be="auto";switch(S){case"\\dfrac":case"\\frac":case"\\tfrac":X=!0;break;case"\\\\atopfrac":X=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":X=!1,ne="(",fe=")";break;case"\\\\bracefrac":X=!1,ne="\\{",fe="\\}";break;case"\\\\brackfrac":X=!1,ne="[",fe="]";break;default:throw new Error("Unrecognized genfrac command")}switch(S){case"\\dfrac":case"\\dbinom":Be="display";break;case"\\tfrac":case"\\tbinom":Be="text";break}return{type:"genfrac",mode:y.mode,continued:!1,numer:U,denom:z,hasBarLine:X,leftDelim:ne,rightDelim:fe,size:Be,barSize:null}},htmlBuilder:R0,mathmlBuilder:O0}),Ve({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0],z=d[1];return{type:"genfrac",mode:y.mode,continued:!0,numer:U,denom:z,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ve({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(p){let{parser:d,funcName:y,token:S}=p,U;switch(y){case"\\over":U="\\frac";break;case"\\choose":U="\\binom";break;case"\\atop":U="\\\\atopfrac";break;case"\\brace":U="\\\\bracefrac";break;case"\\brack":U="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:d.mode,replaceWith:U,token:S}}});const L1=["display","text","script","scriptscript"],H1=function(p){let d=null;return p.length>0&&(d=p,d=d==="."?null:d),d};Ve({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(p,d){let{parser:y}=p;const S=d[4],U=d[5],z=xu(d[0]),X=z.type==="atom"&&z.family==="open"?H1(z.text):null,ne=xu(d[1]),fe=ne.type==="atom"&&ne.family==="close"?H1(ne.text):null,Be=lt(d[2],"size");let Fe,ke=null;Be.isBlank?Fe=!0:(ke=Be.value,Fe=ke.number>0);let Ue="auto",Re=d[3];if(Re.type==="ordgroup"){if(Re.body.length>0){const Je=lt(Re.body[0],"textord");Ue=L1[Number(Je.text)]}}else Re=lt(Re,"textord"),Ue=L1[Number(Re.text)];return{type:"genfrac",mode:y.mode,numer:S,denom:U,continued:!1,hasBarLine:Fe,barSize:ke,leftDelim:X,rightDelim:fe,size:Ue}},htmlBuilder:R0,mathmlBuilder:O0}),Ve({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(p,d){let{parser:y,funcName:S,token:U}=p;return{type:"infix",mode:y.mode,replaceWith:"\\\\abovefrac",size:lt(d[0],"size").value,token:U}}}),Ve({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0],z=b(lt(d[1],"infix").size),X=d[2],ne=z.number>0;return{type:"genfrac",mode:y.mode,numer:U,denom:X,continued:!1,hasBarLine:ne,barSize:z,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:R0,mathmlBuilder:O0});const P1=(p,d)=>{const y=d.style;let S,U;p.type==="supsub"?(S=p.sup?xt(p.sup,d.havingStyle(y.sup()),d):xt(p.sub,d.havingStyle(y.sub()),d),U=lt(p.base,"horizBrace")):U=lt(p,"horizBrace");const z=xt(U.base,d.havingBaseStyle(te.DISPLAY)),X=Is.svgSpan(U,d);let ne;if(U.isOver?(ne=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:.1},{type:"elem",elem:X}]},d),ne.children[0].children[0].children[1].classes.push("svg-align")):(ne=Ie.makeVList({positionType:"bottom",positionData:z.depth+.1+X.height,children:[{type:"elem",elem:X},{type:"kern",size:.1},{type:"elem",elem:z}]},d),ne.children[0].children[0].children[0].classes.push("svg-align")),S){const fe=Ie.makeSpan(["mord",U.isOver?"mover":"munder"],[ne],d);U.isOver?ne=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:fe},{type:"kern",size:.2},{type:"elem",elem:S}]},d):ne=Ie.makeVList({positionType:"bottom",positionData:fe.depth+.2+S.height+S.depth,children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:fe}]},d)}return Ie.makeSpan(["mord",U.isOver?"mover":"munder"],[ne],d)};Ve({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(p,d){let{parser:y,funcName:S}=p;return{type:"horizBrace",mode:y.mode,label:S,isOver:/^\\over/.test(S),base:d[0]}},htmlBuilder:P1,mathmlBuilder:(p,d)=>{const y=Is.mathMLnode(p.label);return new Pe.MathNode(p.isOver?"mover":"munder",[Lt(p.base,d),y])}}),Ve({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;const S=d[1],U=lt(d[0],"url").url;return y.settings.isTrusted({command:"\\href",url:U})?{type:"href",mode:y.mode,href:U,body:or(S)}:y.formatUnsupportedCmd("\\href")},htmlBuilder:(p,d)=>{const y=yr(p.body,d,!1);return Ie.makeAnchor(p.href,[],y,d)},mathmlBuilder:(p,d)=>{let y=Ai(p.body,d);return y instanceof ln||(y=new ln("mrow",[y])),y.setAttribute("href",p.href),y}}),Ve({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;const S=lt(d[0],"url").url;if(!y.settings.isTrusted({command:"\\url",url:S}))return y.formatUnsupportedCmd("\\url");const U=[];for(let X=0;X<S.length;X++){let ne=S[X];ne==="~"&&(ne="\\textasciitilde"),U.push({type:"textord",mode:"text",text:ne})}const z={type:"text",mode:y.mode,font:"\\texttt",body:U};return{type:"href",mode:y.mode,href:S,body:or(z)}}}),Ve({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(p,d){let{parser:y}=p;return{type:"hbox",mode:y.mode,body:or(d[0])}},htmlBuilder(p,d){const y=yr(p.body,d,!1);return Ie.makeFragment(y)},mathmlBuilder(p,d){return new Pe.MathNode("mrow",Zr(p.body,d))}}),Ve({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(p,d)=>{let{parser:y,funcName:S,token:U}=p;const z=lt(d[0],"raw").string,X=d[1];y.settings.strict&&y.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let ne;const fe={};switch(S){case"\\htmlClass":fe.class=z,ne={command:"\\htmlClass",class:z};break;case"\\htmlId":fe.id=z,ne={command:"\\htmlId",id:z};break;case"\\htmlStyle":fe.style=z,ne={command:"\\htmlStyle",style:z};break;case"\\htmlData":{const Be=z.split(",");for(let Fe=0;Fe<Be.length;Fe++){const ke=Be[Fe].split("=");if(ke.length!==2)throw new i("Error parsing key-value for \\htmlData");fe["data-"+ke[0].trim()]=ke[1].trim()}ne={command:"\\htmlData",attributes:fe};break}default:throw new Error("Unrecognized html command")}return y.settings.isTrusted(ne)?{type:"html",mode:y.mode,attributes:fe,body:or(X)}:y.formatUnsupportedCmd(S)},htmlBuilder:(p,d)=>{const y=yr(p.body,d,!1),S=["enclosing"];p.attributes.class&&S.push(...p.attributes.class.trim().split(/\s+/));const U=Ie.makeSpan(S,y,d);for(const z in p.attributes)z!=="class"&&p.attributes.hasOwnProperty(z)&&U.setAttribute(z,p.attributes[z]);return U},mathmlBuilder:(p,d)=>Ai(p.body,d)}),Ve({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;return{type:"htmlmathml",mode:y.mode,html:or(d[0]),mathml:or(d[1])}},htmlBuilder:(p,d)=>{const y=yr(p.html,d,!1);return Ie.makeFragment(y)},mathmlBuilder:(p,d)=>Ai(p.mathml,d)});const N0=function(p){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(p))return{number:+p,unit:"bp"};{const d=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(p);if(!d)throw new i("Invalid size: '"+p+"' in \\includegraphics");const y={number:+(d[1]+d[2]),unit:d[3]};if(!Pt(y))throw new i("Invalid unit: '"+y.unit+"' in \\includegraphics.");return y}};Ve({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(p,d,y)=>{let{parser:S}=p,U={number:0,unit:"em"},z={number:.9,unit:"em"},X={number:0,unit:"em"},ne="";if(y[0]){const Fe=lt(y[0],"raw").string.split(",");for(let ke=0;ke<Fe.length;ke++){const Ue=Fe[ke].split("=");if(Ue.length===2){const Re=Ue[1].trim();switch(Ue[0].trim()){case"alt":ne=Re;break;case"width":U=N0(Re);break;case"height":z=N0(Re);break;case"totalheight":X=N0(Re);break;default:throw new i("Invalid key: '"+Ue[0]+"' in \\includegraphics.")}}}}const fe=lt(d[0],"url").url;return ne===""&&(ne=fe,ne=ne.replace(/^.*[\\/]/,""),ne=ne.substring(0,ne.lastIndexOf("."))),S.settings.isTrusted({command:"\\includegraphics",url:fe})?{type:"includegraphics",mode:S.mode,alt:ne,width:U,height:z,totalheight:X,src:fe}:S.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(p,d)=>{const y=_t(p.height,d);let S=0;p.totalheight.number>0&&(S=_t(p.totalheight,d)-y);let U=0;p.width.number>0&&(U=_t(p.width,d));const z={height:ze(y+S)};U>0&&(z.width=ze(U)),S>0&&(z.verticalAlign=ze(-S));const X=new oi(p.src,p.alt,z);return X.height=y,X.depth=S,X},mathmlBuilder:(p,d)=>{const y=new Pe.MathNode("mglyph",[]);y.setAttribute("alt",p.alt);const S=_t(p.height,d);let U=0;if(p.totalheight.number>0&&(U=_t(p.totalheight,d)-S,y.setAttribute("valign",ze(-U))),y.setAttribute("height",ze(S+U)),p.width.number>0){const z=_t(p.width,d);y.setAttribute("width",ze(z))}return y.setAttribute("src",p.src),y}}),Ve({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(p,d){let{parser:y,funcName:S}=p;const U=lt(d[0],"size");if(y.settings.strict){const z=S[1]==="m",X=U.value.unit==="mu";z?(X||y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" supports only mu units, "+("not "+U.value.unit+" units")),y.mode!=="math"&&y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" works only in math mode")):X&&y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" doesn't support mu units")}return{type:"kern",mode:y.mode,dimension:U.value}},htmlBuilder(p,d){return Ie.makeGlue(p.dimension,d)},mathmlBuilder(p,d){const y=_t(p.dimension,d);return new Pe.SpaceNode(y)}}),Ve({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0];return{type:"lap",mode:y.mode,alignment:S.slice(5),body:U}},htmlBuilder:(p,d)=>{let y;p.alignment==="clap"?(y=Ie.makeSpan([],[xt(p.body,d)]),y=Ie.makeSpan(["inner"],[y],d)):y=Ie.makeSpan(["inner"],[xt(p.body,d)]);const S=Ie.makeSpan(["fix"],[]);let U=Ie.makeSpan([p.alignment],[y,S],d);const z=Ie.makeSpan(["strut"]);return z.style.height=ze(U.height+U.depth),U.depth&&(z.style.verticalAlign=ze(-U.depth)),U.children.unshift(z),U=Ie.makeSpan(["thinbox"],[U],d),Ie.makeSpan(["mord","vbox"],[U],d)},mathmlBuilder:(p,d)=>{const y=new Pe.MathNode("mpadded",[Lt(p.body,d)]);if(p.alignment!=="rlap"){const S=p.alignment==="llap"?"-1":"-0.5";y.setAttribute("lspace",S+"width")}return y.setAttribute("width","0px"),y}}),Ve({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(p,d){let{funcName:y,parser:S}=p;const U=S.mode;S.switchMode("math");const z=y==="\\("?"\\)":"$",X=S.parseExpression(!1,z);return S.expect(z),S.switchMode(U),{type:"styling",mode:S.mode,style:"text",body:X}}}),Ve({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(p,d){throw new i("Mismatched "+p.funcName)}});const j1=(p,d)=>{switch(d.style.size){case te.DISPLAY.size:return p.display;case te.TEXT.size:return p.text;case te.SCRIPT.size:return p.script;case te.SCRIPTSCRIPT.size:return p.scriptscript;default:return p.text}};Ve({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(p,d)=>{let{parser:y}=p;return{type:"mathchoice",mode:y.mode,display:or(d[0]),text:or(d[1]),script:or(d[2]),scriptscript:or(d[3])}},htmlBuilder:(p,d)=>{const y=j1(p,d),S=yr(y,d,!1);return Ie.makeFragment(S)},mathmlBuilder:(p,d)=>{const y=j1(p,d);return Ai(y,d)}});const z1=(p,d,y,S,U,z,X)=>{p=Ie.makeSpan([],[p]);const ne=y&&w.isCharacterBox(y);let fe,Be;if(d){const Ue=xt(d,S.havingStyle(U.sup()),S);Be={elem:Ue,kern:Math.max(S.fontMetrics().bigOpSpacing1,S.fontMetrics().bigOpSpacing3-Ue.depth)}}if(y){const Ue=xt(y,S.havingStyle(U.sub()),S);fe={elem:Ue,kern:Math.max(S.fontMetrics().bigOpSpacing2,S.fontMetrics().bigOpSpacing4-Ue.height)}}let Fe;if(Be&&fe){const Ue=S.fontMetrics().bigOpSpacing5+fe.elem.height+fe.elem.depth+fe.kern+p.depth+X;Fe=Ie.makeVList({positionType:"bottom",positionData:Ue,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:fe.elem,marginLeft:ze(-z)},{type:"kern",size:fe.kern},{type:"elem",elem:p},{type:"kern",size:Be.kern},{type:"elem",elem:Be.elem,marginLeft:ze(z)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else if(fe){const Ue=p.height-X;Fe=Ie.makeVList({positionType:"top",positionData:Ue,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:fe.elem,marginLeft:ze(-z)},{type:"kern",size:fe.kern},{type:"elem",elem:p}]},S)}else if(Be){const Ue=p.depth+X;Fe=Ie.makeVList({positionType:"bottom",positionData:Ue,children:[{type:"elem",elem:p},{type:"kern",size:Be.kern},{type:"elem",elem:Be.elem,marginLeft:ze(z)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else return p;const ke=[Fe];if(fe&&z!==0&&!ne){const Ue=Ie.makeSpan(["mspace"],[],S);Ue.style.marginRight=ze(z),ke.unshift(Ue)}return Ie.makeSpan(["mop","op-limits"],ke,S)},K1=["\\smallint"],ka=(p,d)=>{let y,S,U=!1,z;p.type==="supsub"?(y=p.sup,S=p.sub,z=lt(p.base,"op"),U=!0):z=lt(p,"op");const X=d.style;let ne=!1;X.size===te.DISPLAY.size&&z.symbol&&!w.contains(K1,z.name)&&(ne=!0);let fe;if(z.symbol){const ke=ne?"Size2-Regular":"Size1-Regular";let Ue="";if((z.name==="\\oiint"||z.name==="\\oiiint")&&(Ue=z.name.slice(1),z.name=Ue==="oiint"?"\\iint":"\\iiint"),fe=Ie.makeSymbol(z.name,ke,"math",d,["mop","op-symbol",ne?"large-op":"small-op"]),Ue.length>0){const Re=fe.italic,Je=Ie.staticSvg(Ue+"Size"+(ne?"2":"1"),d);fe=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:fe,shift:0},{type:"elem",elem:Je,shift:ne?.08:0}]},d),z.name="\\"+Ue,fe.classes.unshift("mop"),fe.italic=Re}}else if(z.body){const ke=yr(z.body,d,!0);ke.length===1&&ke[0]instanceof Yr?(fe=ke[0],fe.classes[0]="mop"):fe=Ie.makeSpan(["mop"],ke,d)}else{const ke=[];for(let Ue=1;Ue<z.name.length;Ue++)ke.push(Ie.mathsym(z.name[Ue],z.mode,d));fe=Ie.makeSpan(["mop"],ke,d)}let Be=0,Fe=0;return(fe instanceof Yr||z.name==="\\oiint"||z.name==="\\oiiint")&&!z.suppressBaseShift&&(Be=(fe.height-fe.depth)/2-d.fontMetrics().axisHeight,Fe=fe.italic),U?z1(fe,y,S,d,X,Fe,Be):(Be&&(fe.style.position="relative",fe.style.top=ze(Be)),fe)},Ro=(p,d)=>{let y;if(p.symbol)y=new ln("mo",[fn(p.name,p.mode)]),w.contains(K1,p.name)&&y.setAttribute("largeop","false");else if(p.body)y=new ln("mo",Zr(p.body,d));else{y=new ln("mi",[new Zn(p.name.slice(1))]);const S=new ln("mo",[fn("⁡","text")]);p.parentIsSupSub?y=new ln("mrow",[y,S]):y=o1([y,S])}return y},XB={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ve({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(p,d)=>{let{parser:y,funcName:S}=p,U=S;return U.length===1&&(U=XB[U]),{type:"op",mode:y.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:U}},htmlBuilder:ka,mathmlBuilder:Ro}),Ve({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(p,d)=>{let{parser:y}=p;const S=d[0];return{type:"op",mode:y.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:or(S)}},htmlBuilder:ka,mathmlBuilder:Ro});const YB={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ve({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(p){let{parser:d,funcName:y}=p;return{type:"op",mode:d.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:y}},htmlBuilder:ka,mathmlBuilder:Ro}),Ve({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(p){let{parser:d,funcName:y}=p;return{type:"op",mode:d.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:y}},htmlBuilder:ka,mathmlBuilder:Ro}),Ve({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(p){let{parser:d,funcName:y}=p,S=y;return S.length===1&&(S=YB[S]),{type:"op",mode:d.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:S}},htmlBuilder:ka,mathmlBuilder:Ro});const q1=(p,d)=>{let y,S,U=!1,z;p.type==="supsub"?(y=p.sup,S=p.sub,z=lt(p.base,"operatorname"),U=!0):z=lt(p,"operatorname");let X;if(z.body.length>0){const ne=z.body.map(Be=>{const Fe=Be.text;return typeof Fe=="string"?{type:"textord",mode:Be.mode,text:Fe}:Be}),fe=yr(ne,d.withFont("mathrm"),!0);for(let Be=0;Be<fe.length;Be++){const Fe=fe[Be];Fe instanceof Yr&&(Fe.text=Fe.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}X=Ie.makeSpan(["mop"],fe,d)}else X=Ie.makeSpan(["mop"],[],d);return U?z1(X,y,S,d,d.style,0,0):X};Ve({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(p,d)=>{let{parser:y,funcName:S}=p;const U=d[0];return{type:"operatorname",mode:y.mode,body:or(U),alwaysHandleSupSub:S==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:q1,mathmlBuilder:(p,d)=>{let y=Zr(p.body,d.withFont("mathrm")),S=!0;for(let X=0;X<y.length;X++){const ne=y[X];if(!(ne instanceof Pe.SpaceNode))if(ne instanceof Pe.MathNode)switch(ne.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const fe=ne.children[0];ne.children.length===1&&fe instanceof Pe.TextNode?fe.text=fe.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break}default:S=!1}else S=!1}if(S){const X=y.map(ne=>ne.toText()).join("");y=[new Pe.TextNode(X)]}const U=new Pe.MathNode("mi",y);U.setAttribute("mathvariant","normal");const z=new Pe.MathNode("mo",[fn("⁡","text")]);return p.parentIsSupSub?new Pe.MathNode("mrow",[U,z]):Pe.newDocumentFragment([U,z])}}),ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Hi({type:"ordgroup",htmlBuilder(p,d){return p.semisimple?Ie.makeFragment(yr(p.body,d,!1)):Ie.makeSpan(["mord"],yr(p.body,d,!0),d)},mathmlBuilder(p,d){return Ai(p.body,d,!0)}}),Ve({type:"overline",names:["\\overline"],props:{numArgs:1},handler(p,d){let{parser:y}=p;const S=d[0];return{type:"overline",mode:y.mode,body:S}},htmlBuilder(p,d){const y=xt(p.body,d.havingCrampedStyle()),S=Ie.makeLineSpan("overline-line",d),U=d.fontMetrics().defaultRuleThickness,z=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:3*U},{type:"elem",elem:S},{type:"kern",size:U}]},d);return Ie.makeSpan(["mord","overline"],[z],d)},mathmlBuilder(p,d){const y=new Pe.MathNode("mo",[new Pe.TextNode("‾")]);y.setAttribute("stretchy","true");const S=new Pe.MathNode("mover",[Lt(p.body,d),y]);return S.setAttribute("accent","true"),S}}),Ve({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;const S=d[0];return{type:"phantom",mode:y.mode,body:or(S)}},htmlBuilder:(p,d)=>{const y=yr(p.body,d.withPhantom(),!1);return Ie.makeFragment(y)},mathmlBuilder:(p,d)=>{const y=Zr(p.body,d);return new Pe.MathNode("mphantom",y)}}),Ve({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;const S=d[0];return{type:"hphantom",mode:y.mode,body:S}},htmlBuilder:(p,d)=>{let y=Ie.makeSpan([],[xt(p.body,d.withPhantom())]);if(y.height=0,y.depth=0,y.children)for(let S=0;S<y.children.length;S++)y.children[S].height=0,y.children[S].depth=0;return y=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y}]},d),Ie.makeSpan(["mord"],[y],d)},mathmlBuilder:(p,d)=>{const y=Zr(or(p.body),d),S=new Pe.MathNode("mphantom",y),U=new Pe.MathNode("mpadded",[S]);return U.setAttribute("height","0px"),U.setAttribute("depth","0px"),U}}),Ve({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(p,d)=>{let{parser:y}=p;const S=d[0];return{type:"vphantom",mode:y.mode,body:S}},htmlBuilder:(p,d)=>{const y=Ie.makeSpan(["inner"],[xt(p.body,d.withPhantom())]),S=Ie.makeSpan(["fix"],[]);return Ie.makeSpan(["mord","rlap"],[y,S],d)},mathmlBuilder:(p,d)=>{const y=Zr(or(p.body),d),S=new Pe.MathNode("mphantom",y),U=new Pe.MathNode("mpadded",[S]);return U.setAttribute("width","0px"),U}}),Ve({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(p,d){let{parser:y}=p;const S=lt(d[0],"size").value,U=d[1];return{type:"raisebox",mode:y.mode,dy:S,body:U}},htmlBuilder(p,d){const y=xt(p.body,d),S=_t(p.dy,d);return Ie.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:y}]},d)},mathmlBuilder(p,d){const y=new Pe.MathNode("mpadded",[Lt(p.body,d)]),S=p.dy.number+p.dy.unit;return y.setAttribute("voffset",S),y}}),Ve({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(p){let{parser:d}=p;return{type:"internal",mode:d.mode}}}),Ve({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(p,d,y){let{parser:S}=p;const U=y[0],z=lt(d[0],"size"),X=lt(d[1],"size");return{type:"rule",mode:S.mode,shift:U&&lt(U,"size").value,width:z.value,height:X.value}},htmlBuilder(p,d){const y=Ie.makeSpan(["mord","rule"],[],d),S=_t(p.width,d),U=_t(p.height,d),z=p.shift?_t(p.shift,d):0;return y.style.borderRightWidth=ze(S),y.style.borderTopWidth=ze(U),y.style.bottom=ze(z),y.width=S,y.height=U+z,y.depth=-z,y.maxFontSize=U*1.125*d.sizeMultiplier,y},mathmlBuilder(p,d){const y=_t(p.width,d),S=_t(p.height,d),U=p.shift?_t(p.shift,d):0,z=d.color&&d.getColor()||"black",X=new Pe.MathNode("mspace");X.setAttribute("mathbackground",z),X.setAttribute("width",ze(y)),X.setAttribute("height",ze(S));const ne=new Pe.MathNode("mpadded",[X]);return U>=0?ne.setAttribute("height",ze(U)):(ne.setAttribute("height",ze(U)),ne.setAttribute("depth",ze(-U))),ne.setAttribute("voffset",ze(U)),ne}});function V1(p,d,y){const S=yr(p,d,!1),U=d.sizeMultiplier/y.sizeMultiplier;for(let z=0;z<S.length;z++){const X=S[z].classes.indexOf("sizing");X<0?Array.prototype.push.apply(S[z].classes,d.sizingClasses(y)):S[z].classes[X+1]==="reset-size"+d.size&&(S[z].classes[X+1]="reset-size"+y.size),S[z].height*=U,S[z].depth*=U}return Ie.makeFragment(S)}const G1=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ve({type:"sizing",names:G1,props:{numArgs:0,allowedInText:!0},handler:(p,d)=>{let{breakOnTokenText:y,funcName:S,parser:U}=p;const z=U.parseExpression(!1,y);return{type:"sizing",mode:U.mode,size:G1.indexOf(S)+1,body:z}},htmlBuilder:(p,d)=>{const y=d.havingSize(p.size);return V1(p.body,y,d)},mathmlBuilder:(p,d)=>{const y=d.havingSize(p.size),S=Zr(p.body,y),U=new Pe.MathNode("mstyle",S);return U.setAttribute("mathsize",ze(y.sizeMultiplier)),U}}),Ve({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(p,d,y)=>{let{parser:S}=p,U=!1,z=!1;const X=y[0]&&lt(y[0],"ordgroup");if(X){let fe="";for(let Be=0;Be<X.body.length;++Be)if(fe=X.body[Be].text,fe==="t")U=!0;else if(fe==="b")z=!0;else{U=!1,z=!1;break}}else U=!0,z=!0;const ne=d[0];return{type:"smash",mode:S.mode,body:ne,smashHeight:U,smashDepth:z}},htmlBuilder:(p,d)=>{const y=Ie.makeSpan([],[xt(p.body,d)]);if(!p.smashHeight&&!p.smashDepth)return y;if(p.smashHeight&&(y.height=0,y.children))for(let U=0;U<y.children.length;U++)y.children[U].height=0;if(p.smashDepth&&(y.depth=0,y.children))for(let U=0;U<y.children.length;U++)y.children[U].depth=0;const S=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y}]},d);return Ie.makeSpan(["mord"],[S],d)},mathmlBuilder:(p,d)=>{const y=new Pe.MathNode("mpadded",[Lt(p.body,d)]);return p.smashHeight&&y.setAttribute("height","0px"),p.smashDepth&&y.setAttribute("depth","0px"),y}}),Ve({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(p,d,y){let{parser:S}=p;const U=y[0],z=d[0];return{type:"sqrt",mode:S.mode,body:z,index:U}},htmlBuilder(p,d){let y=xt(p.body,d.havingCrampedStyle());y.height===0&&(y.height=d.fontMetrics().xHeight),y=Ie.wrapFragment(y,d);const U=d.fontMetrics().defaultRuleThickness;let z=U;d.style.id<te.TEXT.id&&(z=d.fontMetrics().xHeight);let X=U+z/4;const ne=y.height+y.depth+X+U,{span:fe,ruleWidth:Be,advanceWidth:Fe}=_s.sqrtImage(ne,d),ke=fe.height-Be;ke>y.height+y.depth+X&&(X=(X+ke-y.height-y.depth)/2);const Ue=fe.height-y.height-X-Be;y.style.paddingLeft=ze(Fe);const Re=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y,wrapperClasses:["svg-align"]},{type:"kern",size:-(y.height+Ue)},{type:"elem",elem:fe},{type:"kern",size:Be}]},d);if(p.index){const Je=d.havingStyle(te.SCRIPTSCRIPT),et=xt(p.index,Je,d),mt=.6*(Re.height-Re.depth),ft=Ie.makeVList({positionType:"shift",positionData:-mt,children:[{type:"elem",elem:et}]},d),wt=Ie.makeSpan(["root"],[ft]);return Ie.makeSpan(["mord","sqrt"],[wt,Re],d)}else return Ie.makeSpan(["mord","sqrt"],[Re],d)},mathmlBuilder(p,d){const{body:y,index:S}=p;return S?new Pe.MathNode("mroot",[Lt(y,d),Lt(S,d)]):new Pe.MathNode("msqrt",[Lt(y,d)])}});const W1={display:te.DISPLAY,text:te.TEXT,script:te.SCRIPT,scriptscript:te.SCRIPTSCRIPT};Ve({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(p,d){let{breakOnTokenText:y,funcName:S,parser:U}=p;const z=U.parseExpression(!0,y),X=S.slice(1,S.length-5);return{type:"styling",mode:U.mode,style:X,body:z}},htmlBuilder(p,d){const y=W1[p.style],S=d.havingStyle(y).withFont("");return V1(p.body,S,d)},mathmlBuilder(p,d){const y=W1[p.style],S=d.havingStyle(y),U=Zr(p.body,S),z=new Pe.MathNode("mstyle",U),ne={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[p.style];return z.setAttribute("scriptlevel",ne[0]),z.setAttribute("displaystyle",ne[1]),z}});const JB=function(p,d){const y=p.base;return y?y.type==="op"?y.limits&&(d.style.size===te.DISPLAY.size||y.alwaysHandleSupSub)?ka:null:y.type==="operatorname"?y.alwaysHandleSupSub&&(d.style.size===te.DISPLAY.size||y.limits)?q1:null:y.type==="accent"?w.isCharacterBox(y.base)?B0:null:y.type==="horizBrace"&&!p.sub===y.isOver?P1:null:null};Hi({type:"supsub",htmlBuilder(p,d){const y=JB(p,d);if(y)return y(p,d);const{base:S,sup:U,sub:z}=p,X=xt(S,d);let ne,fe;const Be=d.fontMetrics();let Fe=0,ke=0;const Ue=S&&w.isCharacterBox(S);if(U){const Tt=d.havingStyle(d.style.sup());ne=xt(U,Tt,d),Ue||(Fe=X.height-Tt.fontMetrics().supDrop*Tt.sizeMultiplier/d.sizeMultiplier)}if(z){const Tt=d.havingStyle(d.style.sub());fe=xt(z,Tt,d),Ue||(ke=X.depth+Tt.fontMetrics().subDrop*Tt.sizeMultiplier/d.sizeMultiplier)}let Re;d.style===te.DISPLAY?Re=Be.sup1:d.style.cramped?Re=Be.sup3:Re=Be.sup2;const Je=d.sizeMultiplier,et=ze(.5/Be.ptPerEm/Je);let mt=null;if(fe){const Tt=p.base&&p.base.type==="op"&&p.base.name&&(p.base.name==="\\oiint"||p.base.name==="\\oiiint");(X instanceof Yr||Tt)&&(mt=ze(-X.italic))}let ft;if(ne&&fe){Fe=Math.max(Fe,Re,ne.depth+.25*Be.xHeight),ke=Math.max(ke,Be.sub2);const jt=4*Be.defaultRuleThickness;if(Fe-ne.depth-(fe.height-ke)<jt){ke=jt-(Fe-ne.depth)+fe.height;const xr=.8*Be.xHeight-(Fe-ne.depth);xr>0&&(Fe+=xr,ke-=xr)}const $r=[{type:"elem",elem:fe,shift:ke,marginRight:et,marginLeft:mt},{type:"elem",elem:ne,shift:-Fe,marginRight:et}];ft=Ie.makeVList({positionType:"individualShift",children:$r},d)}else if(fe){ke=Math.max(ke,Be.sub1,fe.height-.8*Be.xHeight);const Tt=[{type:"elem",elem:fe,marginLeft:mt,marginRight:et}];ft=Ie.makeVList({positionType:"shift",positionData:ke,children:Tt},d)}else if(ne)Fe=Math.max(Fe,Re,ne.depth+.25*Be.xHeight),ft=Ie.makeVList({positionType:"shift",positionData:-Fe,children:[{type:"elem",elem:ne,marginRight:et}]},d);else throw new Error("supsub must have either sup or sub.");const wt=m0(X,"right")||"mord";return Ie.makeSpan([wt],[X,Ie.makeSpan(["msupsub"],[ft])],d)},mathmlBuilder(p,d){let y=!1,S,U;p.base&&p.base.type==="horizBrace"&&(U=!!p.sup,U===p.base.isOver&&(y=!0,S=p.base.isOver)),p.base&&(p.base.type==="op"||p.base.type==="operatorname")&&(p.base.parentIsSupSub=!0);const z=[Lt(p.base,d)];p.sub&&z.push(Lt(p.sub,d)),p.sup&&z.push(Lt(p.sup,d));let X;if(y)X=S?"mover":"munder";else if(p.sub)if(p.sup){const ne=p.base;ne&&ne.type==="op"&&ne.limits&&d.style===te.DISPLAY||ne&&ne.type==="operatorname"&&ne.alwaysHandleSupSub&&(d.style===te.DISPLAY||ne.limits)?X="munderover":X="msubsup"}else{const ne=p.base;ne&&ne.type==="op"&&ne.limits&&(d.style===te.DISPLAY||ne.alwaysHandleSupSub)||ne&&ne.type==="operatorname"&&ne.alwaysHandleSupSub&&(ne.limits||d.style===te.DISPLAY)?X="munder":X="msub"}else{const ne=p.base;ne&&ne.type==="op"&&ne.limits&&(d.style===te.DISPLAY||ne.alwaysHandleSupSub)||ne&&ne.type==="operatorname"&&ne.alwaysHandleSupSub&&(ne.limits||d.style===te.DISPLAY)?X="mover":X="msup"}return new Pe.MathNode(X,z)}}),Hi({type:"atom",htmlBuilder(p,d){return Ie.mathsym(p.text,p.mode,d,["m"+p.family])},mathmlBuilder(p,d){const y=new Pe.MathNode("mo",[fn(p.text,p.mode)]);if(p.family==="bin"){const S=y0(p,d);S==="bold-italic"&&y.setAttribute("mathvariant",S)}else p.family==="punct"?y.setAttribute("separator","true"):(p.family==="open"||p.family==="close")&&y.setAttribute("stretchy","false");return y}});const $1={mi:"italic",mn:"normal",mtext:"normal"};Hi({type:"mathord",htmlBuilder(p,d){return Ie.makeOrd(p,d,"mathord")},mathmlBuilder(p,d){const y=new Pe.MathNode("mi",[fn(p.text,p.mode,d)]),S=y0(p,d)||"italic";return S!==$1[y.type]&&y.setAttribute("mathvariant",S),y}}),Hi({type:"textord",htmlBuilder(p,d){return Ie.makeOrd(p,d,"textord")},mathmlBuilder(p,d){const y=fn(p.text,p.mode,d),S=y0(p,d)||"normal";let U;return p.mode==="text"?U=new Pe.MathNode("mtext",[y]):/[0-9]/.test(p.text)?U=new Pe.MathNode("mn",[y]):p.text==="\\prime"?U=new Pe.MathNode("mo",[y]):U=new Pe.MathNode("mi",[y]),S!==$1[U.type]&&U.setAttribute("mathvariant",S),U}});const L0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},H0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Hi({type:"spacing",htmlBuilder(p,d){if(H0.hasOwnProperty(p.text)){const y=H0[p.text].className||"";if(p.mode==="text"){const S=Ie.makeOrd(p,d,"textord");return S.classes.push(y),S}else return Ie.makeSpan(["mspace",y],[Ie.mathsym(p.text,p.mode,d)],d)}else{if(L0.hasOwnProperty(p.text))return Ie.makeSpan(["mspace",L0[p.text]],[],d);throw new i('Unknown type of space "'+p.text+'"')}},mathmlBuilder(p,d){let y;if(H0.hasOwnProperty(p.text))y=new Pe.MathNode("mtext",[new Pe.TextNode(" ")]);else{if(L0.hasOwnProperty(p.text))return new Pe.MathNode("mspace");throw new i('Unknown type of space "'+p.text+'"')}return y}});const X1=()=>{const p=new Pe.MathNode("mtd",[]);return p.setAttribute("width","50%"),p};Hi({type:"tag",mathmlBuilder(p,d){const y=new Pe.MathNode("mtable",[new Pe.MathNode("mtr",[X1(),new Pe.MathNode("mtd",[Ai(p.body,d)]),X1(),new Pe.MathNode("mtd",[Ai(p.tag,d)])])]);return y.setAttribute("width","100%"),y}});const Y1={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},J1={"\\textbf":"textbf","\\textmd":"textmd"},ZB={"\\textit":"textit","\\textup":"textup"},Z1=(p,d)=>{const y=p.font;if(y){if(Y1[y])return d.withTextFontFamily(Y1[y]);if(J1[y])return d.withTextFontWeight(J1[y]);if(y==="\\emph")return d.fontShape==="textit"?d.withTextFontShape("textup"):d.withTextFontShape("textit")}else return d;return d.withTextFontShape(ZB[y])};Ve({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(p,d){let{parser:y,funcName:S}=p;const U=d[0];return{type:"text",mode:y.mode,body:or(U),font:S}},htmlBuilder(p,d){const y=Z1(p,d),S=yr(p.body,y,!0);return Ie.makeSpan(["mord","text"],S,y)},mathmlBuilder(p,d){const y=Z1(p,d);return Ai(p.body,y)}}),Ve({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(p,d){let{parser:y}=p;return{type:"underline",mode:y.mode,body:d[0]}},htmlBuilder(p,d){const y=xt(p.body,d),S=Ie.makeLineSpan("underline-line",d),U=d.fontMetrics().defaultRuleThickness,z=Ie.makeVList({positionType:"top",positionData:y.height,children:[{type:"kern",size:U},{type:"elem",elem:S},{type:"kern",size:3*U},{type:"elem",elem:y}]},d);return Ie.makeSpan(["mord","underline"],[z],d)},mathmlBuilder(p,d){const y=new Pe.MathNode("mo",[new Pe.TextNode("‾")]);y.setAttribute("stretchy","true");const S=new Pe.MathNode("munder",[Lt(p.body,d),y]);return S.setAttribute("accentunder","true"),S}}),Ve({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(p,d){let{parser:y}=p;return{type:"vcenter",mode:y.mode,body:d[0]}},htmlBuilder(p,d){const y=xt(p.body,d),S=d.fontMetrics().axisHeight,U=.5*(y.height-S-(y.depth+S));return Ie.makeVList({positionType:"shift",positionData:U,children:[{type:"elem",elem:y}]},d)},mathmlBuilder(p,d){return new Pe.MathNode("mpadded",[Lt(p.body,d)],["vcenter"])}}),Ve({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(p,d,y){throw new i("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(p,d){const y=em(p),S=[],U=d.havingStyle(d.style.text());for(let z=0;z<y.length;z++){let X=y[z];X==="~"&&(X="\\textasciitilde"),S.push(Ie.makeSymbol(X,"Typewriter-Regular",p.mode,U,["mord","texttt"]))}return Ie.makeSpan(["mord","text"].concat(U.sizingClasses(d)),Ie.tryCombineChars(S),U)},mathmlBuilder(p,d){const y=new Pe.TextNode(em(p)),S=new Pe.MathNode("mtext",[y]);return S.setAttribute("mathvariant","monospace"),S}});const em=p=>p.body.replace(/ /g,p.star?"␣":" ");var li=i1;const tm=`[ \r
	]`,e8="\\\\[a-zA-Z@]+",t8="\\\\[^\uD800-\uDFFF]",r8="("+e8+")"+tm+"*",n8=`\\\\(
|[ \r	]+
?)[ \r	]*`,P0="[̀-ͯ]",s8=new RegExp(P0+"+$"),i8="("+tm+"+)|"+(n8+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(P0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(P0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+r8)+("|"+t8+")");class rm{constructor(d,y){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=d,this.settings=y,this.tokenRegex=new RegExp(i8,"g"),this.catcodes={"%":14,"~":13}}setCatcode(d,y){this.catcodes[d]=y}lex(){const d=this.input,y=this.tokenRegex.lastIndex;if(y===d.length)return new pn("EOF",new cn(this,y,y));const S=this.tokenRegex.exec(d);if(S===null||S.index!==y)throw new i("Unexpected character: '"+d[y]+"'",new pn(d[y],new cn(this,y,y+1)));const U=S[6]||S[3]||(S[2]?"\\ ":" ");if(this.catcodes[U]===14){const z=d.indexOf(`
`,this.tokenRegex.lastIndex);return z===-1?(this.tokenRegex.lastIndex=d.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=z+1,this.lex()}return new pn(U,new cn(this,y,this.tokenRegex.lastIndex))}}class a8{constructor(d,y){d===void 0&&(d={}),y===void 0&&(y={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=y,this.builtins=d,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new i("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const d=this.undefStack.pop();for(const y in d)d.hasOwnProperty(y)&&(d[y]==null?delete this.current[y]:this.current[y]=d[y])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(d){return this.current.hasOwnProperty(d)||this.builtins.hasOwnProperty(d)}get(d){return this.current.hasOwnProperty(d)?this.current[d]:this.builtins[d]}set(d,y,S){if(S===void 0&&(S=!1),S){for(let U=0;U<this.undefStack.length;U++)delete this.undefStack[U][d];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][d]=y)}else{const U=this.undefStack[this.undefStack.length-1];U&&!U.hasOwnProperty(d)&&(U[d]=this.current[d])}y==null?delete this.current[d]:this.current[d]=y}}var o8=I1;ae("\\noexpand",function(p){const d=p.popToken();return p.isExpandable(d.text)&&(d.noexpand=!0,d.treatAsRelax=!0),{tokens:[d],numArgs:0}}),ae("\\expandafter",function(p){const d=p.popToken();return p.expandOnce(!0),{tokens:[d],numArgs:0}}),ae("\\@firstoftwo",function(p){return{tokens:p.consumeArgs(2)[0],numArgs:0}}),ae("\\@secondoftwo",function(p){return{tokens:p.consumeArgs(2)[1],numArgs:0}}),ae("\\@ifnextchar",function(p){const d=p.consumeArgs(3);p.consumeSpaces();const y=p.future();return d[0].length===1&&d[0][0].text===y.text?{tokens:d[1],numArgs:0}:{tokens:d[2],numArgs:0}}),ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ae("\\TextOrMath",function(p){const d=p.consumeArgs(2);return p.mode==="text"?{tokens:d[0],numArgs:0}:{tokens:d[1],numArgs:0}});const nm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ae("\\char",function(p){let d=p.popToken(),y,S="";if(d.text==="'")y=8,d=p.popToken();else if(d.text==='"')y=16,d=p.popToken();else if(d.text==="`")if(d=p.popToken(),d.text[0]==="\\")S=d.text.charCodeAt(1);else{if(d.text==="EOF")throw new i("\\char` missing argument");S=d.text.charCodeAt(0)}else y=10;if(y){if(S=nm[d.text],S==null||S>=y)throw new i("Invalid base-"+y+" digit "+d.text);let U;for(;(U=nm[p.future().text])!=null&&U<y;)S*=y,S+=U,p.popToken()}return"\\@char{"+S+"}"});const j0=(p,d,y,S)=>{let U=p.consumeArg().tokens;if(U.length!==1)throw new i("\\newcommand's first argument must be a macro name");const z=U[0].text,X=p.isDefined(z);if(X&&!d)throw new i("\\newcommand{"+z+"} attempting to redefine "+(z+"; use \\renewcommand"));if(!X&&!y)throw new i("\\renewcommand{"+z+"} when command "+z+" does not yet exist; use \\newcommand");let ne=0;if(U=p.consumeArg().tokens,U.length===1&&U[0].text==="["){let fe="",Be=p.expandNextToken();for(;Be.text!=="]"&&Be.text!=="EOF";)fe+=Be.text,Be=p.expandNextToken();if(!fe.match(/^\s*[0-9]+\s*$/))throw new i("Invalid number of arguments: "+fe);ne=parseInt(fe),U=p.consumeArg().tokens}return X&&S||p.macros.set(z,{tokens:U,numArgs:ne}),""};ae("\\newcommand",p=>j0(p,!1,!0,!1)),ae("\\renewcommand",p=>j0(p,!0,!1,!1)),ae("\\providecommand",p=>j0(p,!0,!0,!0)),ae("\\message",p=>{const d=p.consumeArgs(1)[0];return console.log(d.reverse().map(y=>y.text).join("")),""}),ae("\\errmessage",p=>{const d=p.consumeArgs(1)[0];return console.error(d.reverse().map(y=>y.text).join("")),""}),ae("\\show",p=>{const d=p.popToken(),y=d.text;return console.log(d,p.macros.get(y),li[y],bt.math[y],bt.text[y]),""}),ae("\\bgroup","{"),ae("\\egroup","}"),ae("~","\\nobreakspace"),ae("\\lq","`"),ae("\\rq","'"),ae("\\aa","\\r a"),ae("\\AA","\\r A"),ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ae("ℬ","\\mathscr{B}"),ae("ℰ","\\mathscr{E}"),ae("ℱ","\\mathscr{F}"),ae("ℋ","\\mathscr{H}"),ae("ℐ","\\mathscr{I}"),ae("ℒ","\\mathscr{L}"),ae("ℳ","\\mathscr{M}"),ae("ℛ","\\mathscr{R}"),ae("ℭ","\\mathfrak{C}"),ae("ℌ","\\mathfrak{H}"),ae("ℨ","\\mathfrak{Z}"),ae("\\Bbbk","\\Bbb{k}"),ae("·","\\cdotp"),ae("\\llap","\\mathllap{\\textrm{#1}}"),ae("\\rlap","\\mathrlap{\\textrm{#1}}"),ae("\\clap","\\mathclap{\\textrm{#1}}"),ae("\\mathstrut","\\vphantom{(}"),ae("\\underbar","\\underline{\\text{#1}}"),ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ae("\\ne","\\neq"),ae("≠","\\neq"),ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ae("∉","\\notin"),ae("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ae("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ae("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ae("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ae("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ae("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ae("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ae("⟂","\\perp"),ae("‼","\\mathclose{!\\mkern-0.8mu!}"),ae("∌","\\notni"),ae("⌜","\\ulcorner"),ae("⌝","\\urcorner"),ae("⌞","\\llcorner"),ae("⌟","\\lrcorner"),ae("©","\\copyright"),ae("®","\\textregistered"),ae("️","\\textregistered"),ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ae("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ae("⋮","\\vdots"),ae("\\varGamma","\\mathit{\\Gamma}"),ae("\\varDelta","\\mathit{\\Delta}"),ae("\\varTheta","\\mathit{\\Theta}"),ae("\\varLambda","\\mathit{\\Lambda}"),ae("\\varXi","\\mathit{\\Xi}"),ae("\\varPi","\\mathit{\\Pi}"),ae("\\varSigma","\\mathit{\\Sigma}"),ae("\\varUpsilon","\\mathit{\\Upsilon}"),ae("\\varPhi","\\mathit{\\Phi}"),ae("\\varPsi","\\mathit{\\Psi}"),ae("\\varOmega","\\mathit{\\Omega}"),ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ae("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ae("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ae("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const sm={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ae("\\dots",function(p){let d="\\dotso";const y=p.expandAfterFuture().text;return y in sm?d=sm[y]:(y.slice(0,4)==="\\not"||y in bt.math&&w.contains(["bin","rel"],bt.math[y].group))&&(d="\\dotsb"),d});const z0={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ae("\\dotso",function(p){return p.future().text in z0?"\\ldots\\,":"\\ldots"}),ae("\\dotsc",function(p){const d=p.future().text;return d in z0&&d!==","?"\\ldots\\,":"\\ldots"}),ae("\\cdots",function(p){return p.future().text in z0?"\\@cdots\\,":"\\@cdots"}),ae("\\dotsb","\\cdots"),ae("\\dotsm","\\cdots"),ae("\\dotsi","\\!\\cdots"),ae("\\dotsx","\\ldots\\,"),ae("\\DOTSI","\\relax"),ae("\\DOTSB","\\relax"),ae("\\DOTSX","\\relax"),ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ae("\\,","\\tmspace+{3mu}{.1667em}"),ae("\\thinspace","\\,"),ae("\\>","\\mskip{4mu}"),ae("\\:","\\tmspace+{4mu}{.2222em}"),ae("\\medspace","\\:"),ae("\\;","\\tmspace+{5mu}{.2777em}"),ae("\\thickspace","\\;"),ae("\\!","\\tmspace-{3mu}{.1667em}"),ae("\\negthinspace","\\!"),ae("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ae("\\negthickspace","\\tmspace-{5mu}{.277em}"),ae("\\enspace","\\kern.5em "),ae("\\enskip","\\hskip.5em\\relax"),ae("\\quad","\\hskip1em\\relax"),ae("\\qquad","\\hskip2em\\relax"),ae("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ae("\\tag@paren","\\tag@literal{({#1})}"),ae("\\tag@literal",p=>{if(p.macros.get("\\df@tag"))throw new i("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ae("\\newline","\\\\\\relax"),ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const im=ze(R["Main-Regular"][84][1]-.7*R["Main-Regular"][65][1]);ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+im+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+im+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ae("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ae("\\@hspace","\\hskip #1\\relax"),ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ae("\\ordinarycolon",":"),ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ae("∷","\\dblcolon"),ae("∹","\\eqcolon"),ae("≔","\\coloneqq"),ae("≕","\\eqqcolon"),ae("⩴","\\Coloneqq"),ae("\\ratio","\\vcentcolon"),ae("\\coloncolon","\\dblcolon"),ae("\\colonequals","\\coloneqq"),ae("\\coloncolonequals","\\Coloneqq"),ae("\\equalscolon","\\eqqcolon"),ae("\\equalscoloncolon","\\Eqqcolon"),ae("\\colonminus","\\coloneq"),ae("\\coloncolonminus","\\Coloneq"),ae("\\minuscolon","\\eqcolon"),ae("\\minuscoloncolon","\\Eqcolon"),ae("\\coloncolonapprox","\\Colonapprox"),ae("\\coloncolonsim","\\Colonsim"),ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),ae("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),ae("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),ae("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),ae("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),ae("\\imath","\\html@mathml{\\@imath}{ı}"),ae("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),ae("⟦","\\llbracket"),ae("⟧","\\rrbracket"),ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),ae("⦃","\\lBrace"),ae("⦄","\\rBrace"),ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),ae("⦵","\\minuso"),ae("\\darr","\\downarrow"),ae("\\dArr","\\Downarrow"),ae("\\Darr","\\Downarrow"),ae("\\lang","\\langle"),ae("\\rang","\\rangle"),ae("\\uarr","\\uparrow"),ae("\\uArr","\\Uparrow"),ae("\\Uarr","\\Uparrow"),ae("\\N","\\mathbb{N}"),ae("\\R","\\mathbb{R}"),ae("\\Z","\\mathbb{Z}"),ae("\\alef","\\aleph"),ae("\\alefsym","\\aleph"),ae("\\Alpha","\\mathrm{A}"),ae("\\Beta","\\mathrm{B}"),ae("\\bull","\\bullet"),ae("\\Chi","\\mathrm{X}"),ae("\\clubs","\\clubsuit"),ae("\\cnums","\\mathbb{C}"),ae("\\Complex","\\mathbb{C}"),ae("\\Dagger","\\ddagger"),ae("\\diamonds","\\diamondsuit"),ae("\\empty","\\emptyset"),ae("\\Epsilon","\\mathrm{E}"),ae("\\Eta","\\mathrm{H}"),ae("\\exist","\\exists"),ae("\\harr","\\leftrightarrow"),ae("\\hArr","\\Leftrightarrow"),ae("\\Harr","\\Leftrightarrow"),ae("\\hearts","\\heartsuit"),ae("\\image","\\Im"),ae("\\infin","\\infty"),ae("\\Iota","\\mathrm{I}"),ae("\\isin","\\in"),ae("\\Kappa","\\mathrm{K}"),ae("\\larr","\\leftarrow"),ae("\\lArr","\\Leftarrow"),ae("\\Larr","\\Leftarrow"),ae("\\lrarr","\\leftrightarrow"),ae("\\lrArr","\\Leftrightarrow"),ae("\\Lrarr","\\Leftrightarrow"),ae("\\Mu","\\mathrm{M}"),ae("\\natnums","\\mathbb{N}"),ae("\\Nu","\\mathrm{N}"),ae("\\Omicron","\\mathrm{O}"),ae("\\plusmn","\\pm"),ae("\\rarr","\\rightarrow"),ae("\\rArr","\\Rightarrow"),ae("\\Rarr","\\Rightarrow"),ae("\\real","\\Re"),ae("\\reals","\\mathbb{R}"),ae("\\Reals","\\mathbb{R}"),ae("\\Rho","\\mathrm{P}"),ae("\\sdot","\\cdot"),ae("\\sect","\\S"),ae("\\spades","\\spadesuit"),ae("\\sub","\\subset"),ae("\\sube","\\subseteq"),ae("\\supe","\\supseteq"),ae("\\Tau","\\mathrm{T}"),ae("\\thetasym","\\vartheta"),ae("\\weierp","\\wp"),ae("\\Zeta","\\mathrm{Z}"),ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ae("\\bra","\\mathinner{\\langle{#1}|}"),ae("\\ket","\\mathinner{|{#1}\\rangle}"),ae("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ae("\\Bra","\\left\\langle#1\\right|"),ae("\\Ket","\\left|#1\\right\\rangle");const am=p=>d=>{const y=d.consumeArg().tokens,S=d.consumeArg().tokens,U=d.consumeArg().tokens,z=d.consumeArg().tokens,X=d.macros.get("|"),ne=d.macros.get("\\|");d.macros.beginGroup();const fe=ke=>Ue=>{p&&(Ue.macros.set("|",X),U.length&&Ue.macros.set("\\|",ne));let Re=ke;return!ke&&U.length&&Ue.future().text==="|"&&(Ue.popToken(),Re=!0),{tokens:Re?U:S,numArgs:0}};d.macros.set("|",fe(!1)),U.length&&d.macros.set("\\|",fe(!0));const Be=d.consumeArg().tokens,Fe=d.expandTokens([...z,...Be,...y]);return d.macros.endGroup(),{tokens:Fe.reverse(),numArgs:0}};ae("\\bra@ket",am(!1)),ae("\\bra@set",am(!0)),ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ae("\\angln","{\\angl n}"),ae("\\blue","\\textcolor{##6495ed}{#1}"),ae("\\orange","\\textcolor{##ffa500}{#1}"),ae("\\pink","\\textcolor{##ff00af}{#1}"),ae("\\red","\\textcolor{##df0030}{#1}"),ae("\\green","\\textcolor{##28ae7b}{#1}"),ae("\\gray","\\textcolor{gray}{#1}"),ae("\\purple","\\textcolor{##9d38bd}{#1}"),ae("\\blueA","\\textcolor{##ccfaff}{#1}"),ae("\\blueB","\\textcolor{##80f6ff}{#1}"),ae("\\blueC","\\textcolor{##63d9ea}{#1}"),ae("\\blueD","\\textcolor{##11accd}{#1}"),ae("\\blueE","\\textcolor{##0c7f99}{#1}"),ae("\\tealA","\\textcolor{##94fff5}{#1}"),ae("\\tealB","\\textcolor{##26edd5}{#1}"),ae("\\tealC","\\textcolor{##01d1c1}{#1}"),ae("\\tealD","\\textcolor{##01a995}{#1}"),ae("\\tealE","\\textcolor{##208170}{#1}"),ae("\\greenA","\\textcolor{##b6ffb0}{#1}"),ae("\\greenB","\\textcolor{##8af281}{#1}"),ae("\\greenC","\\textcolor{##74cf70}{#1}"),ae("\\greenD","\\textcolor{##1fab54}{#1}"),ae("\\greenE","\\textcolor{##0d923f}{#1}"),ae("\\goldA","\\textcolor{##ffd0a9}{#1}"),ae("\\goldB","\\textcolor{##ffbb71}{#1}"),ae("\\goldC","\\textcolor{##ff9c39}{#1}"),ae("\\goldD","\\textcolor{##e07d10}{#1}"),ae("\\goldE","\\textcolor{##a75a05}{#1}"),ae("\\redA","\\textcolor{##fca9a9}{#1}"),ae("\\redB","\\textcolor{##ff8482}{#1}"),ae("\\redC","\\textcolor{##f9685d}{#1}"),ae("\\redD","\\textcolor{##e84d39}{#1}"),ae("\\redE","\\textcolor{##bc2612}{#1}"),ae("\\maroonA","\\textcolor{##ffbde0}{#1}"),ae("\\maroonB","\\textcolor{##ff92c6}{#1}"),ae("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ae("\\maroonD","\\textcolor{##ca337c}{#1}"),ae("\\maroonE","\\textcolor{##9e034e}{#1}"),ae("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ae("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ae("\\purpleC","\\textcolor{##aa87ff}{#1}"),ae("\\purpleD","\\textcolor{##7854ab}{#1}"),ae("\\purpleE","\\textcolor{##543b78}{#1}"),ae("\\mintA","\\textcolor{##f5f9e8}{#1}"),ae("\\mintB","\\textcolor{##edf2df}{#1}"),ae("\\mintC","\\textcolor{##e0e5cc}{#1}"),ae("\\grayA","\\textcolor{##f6f7f7}{#1}"),ae("\\grayB","\\textcolor{##f0f1f2}{#1}"),ae("\\grayC","\\textcolor{##e3e5e6}{#1}"),ae("\\grayD","\\textcolor{##d6d8da}{#1}"),ae("\\grayE","\\textcolor{##babec2}{#1}"),ae("\\grayF","\\textcolor{##888d93}{#1}"),ae("\\grayG","\\textcolor{##626569}{#1}"),ae("\\grayH","\\textcolor{##3b3e40}{#1}"),ae("\\grayI","\\textcolor{##21242c}{#1}"),ae("\\kaBlue","\\textcolor{##314453}{#1}"),ae("\\kaGreen","\\textcolor{##71B307}{#1}");const om={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class A8{constructor(d,y,S){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=y,this.expansionCount=0,this.feed(d),this.macros=new a8(o8,y.macros),this.mode=S,this.stack=[]}feed(d){this.lexer=new rm(d,this.settings)}switchMode(d){this.mode=d}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(d){this.stack.push(d)}pushTokens(d){this.stack.push(...d)}scanArgument(d){let y,S,U;if(d){if(this.consumeSpaces(),this.future().text!=="[")return null;y=this.popToken(),{tokens:U,end:S}=this.consumeArg(["]"])}else({tokens:U,start:y,end:S}=this.consumeArg());return this.pushToken(new pn("EOF",S.loc)),this.pushTokens(U),y.range(S,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(d){const y=[],S=d&&d.length>0;S||this.consumeSpaces();const U=this.future();let z,X=0,ne=0;do{if(z=this.popToken(),y.push(z),z.text==="{")++X;else if(z.text==="}"){if(--X,X===-1)throw new i("Extra }",z)}else if(z.text==="EOF")throw new i("Unexpected end of input in a macro argument, expected '"+(d&&S?d[ne]:"}")+"'",z);if(d&&S)if((X===0||X===1&&d[ne]==="{")&&z.text===d[ne]){if(++ne,ne===d.length){y.splice(-ne,ne);break}}else ne=0}while(X!==0||S);return U.text==="{"&&y[y.length-1].text==="}"&&(y.pop(),y.shift()),y.reverse(),{tokens:y,start:U,end:z}}consumeArgs(d,y){if(y){if(y.length!==d+1)throw new i("The length of delimiters doesn't match the number of args!");const U=y[0];for(let z=0;z<U.length;z++){const X=this.popToken();if(U[z]!==X.text)throw new i("Use of the macro doesn't match its definition",X)}}const S=[];for(let U=0;U<d;U++)S.push(this.consumeArg(y&&y[U+1]).tokens);return S}countExpansion(d){if(this.expansionCount+=d,this.expansionCount>this.settings.maxExpand)throw new i("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(d){const y=this.popToken(),S=y.text,U=y.noexpand?null:this._getExpansion(S);if(U==null||d&&U.unexpandable){if(d&&U==null&&S[0]==="\\"&&!this.isDefined(S))throw new i("Undefined control sequence: "+S);return this.pushToken(y),!1}this.countExpansion(1);let z=U.tokens;const X=this.consumeArgs(U.numArgs,U.delimiters);if(U.numArgs){z=z.slice();for(let ne=z.length-1;ne>=0;--ne){let fe=z[ne];if(fe.text==="#"){if(ne===0)throw new i("Incomplete placeholder at end of macro body",fe);if(fe=z[--ne],fe.text==="#")z.splice(ne+1,1);else if(/^[1-9]$/.test(fe.text))z.splice(ne,2,...X[+fe.text-1]);else throw new i("Not a valid argument number",fe)}}}return this.pushTokens(z),z.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const d=this.stack.pop();return d.treatAsRelax&&(d.text="\\relax"),d}throw new Error}expandMacro(d){return this.macros.has(d)?this.expandTokens([new pn(d)]):void 0}expandTokens(d){const y=[],S=this.stack.length;for(this.pushTokens(d);this.stack.length>S;)if(this.expandOnce(!0)===!1){const U=this.stack.pop();U.treatAsRelax&&(U.noexpand=!1,U.treatAsRelax=!1),y.push(U)}return this.countExpansion(y.length),y}expandMacroAsText(d){const y=this.expandMacro(d);return y&&y.map(S=>S.text).join("")}_getExpansion(d){const y=this.macros.get(d);if(y==null)return y;if(d.length===1){const U=this.lexer.catcodes[d];if(U!=null&&U!==13)return}const S=typeof y=="function"?y(this):y;if(typeof S=="string"){let U=0;if(S.indexOf("#")!==-1){const Be=S.replace(/##/g,"");for(;Be.indexOf("#"+(U+1))!==-1;)++U}const z=new rm(S,this.settings),X=[];let ne=z.lex();for(;ne.text!=="EOF";)X.push(ne),ne=z.lex();return X.reverse(),{tokens:X,numArgs:U}}return S}isDefined(d){return this.macros.has(d)||li.hasOwnProperty(d)||bt.math.hasOwnProperty(d)||bt.text.hasOwnProperty(d)||om.hasOwnProperty(d)}isExpandable(d){const y=this.macros.get(d);return y!=null?typeof y=="string"||typeof y=="function"||!y.unexpandable:li.hasOwnProperty(d)&&!li[d].primitive}}const Am=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Du=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),K0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},um={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class ku{constructor(d,y){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new A8(d,y,this.mode),this.settings=y,this.leftrightDepth=0}expect(d,y){if(y===void 0&&(y=!0),this.fetch().text!==d)throw new i("Expected '"+d+"', got '"+this.fetch().text+"'",this.fetch());y&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(d){this.mode=d,this.gullet.switchMode(d)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const d=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),d}finally{this.gullet.endGroups()}}subparse(d){const y=this.nextToken;this.consume(),this.gullet.pushToken(new pn("}")),this.gullet.pushTokens(d);const S=this.parseExpression(!1);return this.expect("}"),this.nextToken=y,S}parseExpression(d,y){const S=[];for(;;){this.mode==="math"&&this.consumeSpaces();const U=this.fetch();if(ku.endOfExpression.indexOf(U.text)!==-1||y&&U.text===y||d&&li[U.text]&&li[U.text].infix)break;const z=this.parseAtom(y);if(z){if(z.type==="internal")continue}else break;S.push(z)}return this.mode==="text"&&this.formLigatures(S),this.handleInfixNodes(S)}handleInfixNodes(d){let y=-1,S;for(let U=0;U<d.length;U++)if(d[U].type==="infix"){if(y!==-1)throw new i("only one infix operator per group",d[U].token);y=U,S=d[U].replaceWith}if(y!==-1&&S){let U,z;const X=d.slice(0,y),ne=d.slice(y+1);X.length===1&&X[0].type==="ordgroup"?U=X[0]:U={type:"ordgroup",mode:this.mode,body:X},ne.length===1&&ne[0].type==="ordgroup"?z=ne[0]:z={type:"ordgroup",mode:this.mode,body:ne};let fe;return S==="\\\\abovefrac"?fe=this.callFunction(S,[U,d[y],z],[]):fe=this.callFunction(S,[U,z],[]),[fe]}else return d}handleSupSubscript(d){const y=this.fetch(),S=y.text;this.consume(),this.consumeSpaces();let U;do{var z;U=this.parseGroup(d)}while(((z=U)==null?void 0:z.type)==="internal");if(!U)throw new i("Expected group after '"+S+"'",y);return U}formatUnsupportedCmd(d){const y=[];for(let z=0;z<d.length;z++)y.push({type:"textord",mode:"text",text:d[z]});const S={type:"text",mode:this.mode,body:y};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[S]}}parseAtom(d){const y=this.parseGroup("atom",d);if(y?.type==="internal"||this.mode==="text")return y;let S,U;for(;;){this.consumeSpaces();const z=this.fetch();if(z.text==="\\limits"||z.text==="\\nolimits"){if(y&&y.type==="op"){const X=z.text==="\\limits";y.limits=X,y.alwaysHandleSupSub=!0}else if(y&&y.type==="operatorname")y.alwaysHandleSupSub&&(y.limits=z.text==="\\limits");else throw new i("Limit controls must follow a math operator",z);this.consume()}else if(z.text==="^"){if(S)throw new i("Double superscript",z);S=this.handleSupSubscript("superscript")}else if(z.text==="_"){if(U)throw new i("Double subscript",z);U=this.handleSupSubscript("subscript")}else if(z.text==="'"){if(S)throw new i("Double superscript",z);const X={type:"textord",mode:this.mode,text:"\\prime"},ne=[X];for(this.consume();this.fetch().text==="'";)ne.push(X),this.consume();this.fetch().text==="^"&&ne.push(this.handleSupSubscript("superscript")),S={type:"ordgroup",mode:this.mode,body:ne}}else if(Du[z.text]){const X=Am.test(z.text),ne=[];for(ne.push(new pn(Du[z.text])),this.consume();;){const Be=this.fetch().text;if(!Du[Be]||Am.test(Be)!==X)break;ne.unshift(new pn(Du[Be])),this.consume()}const fe=this.subparse(ne);X?U={type:"ordgroup",mode:"math",body:fe}:S={type:"ordgroup",mode:"math",body:fe}}else break}return S||U?{type:"supsub",mode:this.mode,base:y,sup:S,sub:U}:y}parseFunction(d,y){const S=this.fetch(),U=S.text,z=li[U];if(!z)return null;if(this.consume(),y&&y!=="atom"&&!z.allowedInArgument)throw new i("Got function '"+U+"' with no arguments"+(y?" as "+y:""),S);if(this.mode==="text"&&!z.allowedInText)throw new i("Can't use function '"+U+"' in text mode",S);if(this.mode==="math"&&z.allowedInMath===!1)throw new i("Can't use function '"+U+"' in math mode",S);const{args:X,optArgs:ne}=this.parseArguments(U,z);return this.callFunction(U,X,ne,S,d)}callFunction(d,y,S,U,z){const X={funcName:d,parser:this,token:U,breakOnTokenText:z},ne=li[d];if(ne&&ne.handler)return ne.handler(X,y,S);throw new i("No function handler for "+d)}parseArguments(d,y){const S=y.numArgs+y.numOptionalArgs;if(S===0)return{args:[],optArgs:[]};const U=[],z=[];for(let X=0;X<S;X++){let ne=y.argTypes&&y.argTypes[X];const fe=X<y.numOptionalArgs;(y.primitive&&ne==null||y.type==="sqrt"&&X===1&&z[0]==null)&&(ne="primitive");const Be=this.parseGroupOfType("argument to '"+d+"'",ne,fe);if(fe)z.push(Be);else if(Be!=null)U.push(Be);else throw new i("Null argument, please report this as a bug")}return{args:U,optArgs:z}}parseGroupOfType(d,y,S){switch(y){case"color":return this.parseColorGroup(S);case"size":return this.parseSizeGroup(S);case"url":return this.parseUrlGroup(S);case"math":case"text":return this.parseArgumentGroup(S,y);case"hbox":{const U=this.parseArgumentGroup(S,"text");return U!=null?{type:"styling",mode:U.mode,body:[U],style:"text"}:null}case"raw":{const U=this.parseStringGroup("raw",S);return U!=null?{type:"raw",mode:"text",string:U.text}:null}case"primitive":{if(S)throw new i("A primitive argument cannot be optional");const U=this.parseGroup(d);if(U==null)throw new i("Expected group as "+d,this.fetch());return U}case"original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new i("Unknown group type as "+d,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(d,y){const S=this.gullet.scanArgument(y);if(S==null)return null;let U="",z;for(;(z=this.fetch()).text!=="EOF";)U+=z.text,this.consume();return this.consume(),S.text=U,S}parseRegexGroup(d,y){const S=this.fetch();let U=S,z="",X;for(;(X=this.fetch()).text!=="EOF"&&d.test(z+X.text);)U=X,z+=U.text,this.consume();if(z==="")throw new i("Invalid "+y+": '"+S.text+"'",S);return S.range(U,z)}parseColorGroup(d){const y=this.parseStringGroup("color",d);if(y==null)return null;const S=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(y.text);if(!S)throw new i("Invalid color: '"+y.text+"'",y);let U=S[0];return/^[0-9a-f]{6}$/i.test(U)&&(U="#"+U),{type:"color-token",mode:this.mode,color:U}}parseSizeGroup(d){let y,S=!1;if(this.gullet.consumeSpaces(),!d&&this.gullet.future().text!=="{"?y=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):y=this.parseStringGroup("size",d),!y)return null;!d&&y.text.length===0&&(y.text="0pt",S=!0);const U=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(y.text);if(!U)throw new i("Invalid size: '"+y.text+"'",y);const z={number:+(U[1]+U[2]),unit:U[3]};if(!Pt(z))throw new i("Invalid unit: '"+z.unit+"'",y);return{type:"size",mode:this.mode,value:z,isBlank:S}}parseUrlGroup(d){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const y=this.parseStringGroup("url",d);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),y==null)return null;const S=y.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:S}}parseArgumentGroup(d,y){const S=this.gullet.scanArgument(d);if(S==null)return null;const U=this.mode;y&&this.switchMode(y),this.gullet.beginGroup();const z=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const X={type:"ordgroup",mode:this.mode,loc:S.loc,body:z};return y&&this.switchMode(U),X}parseGroup(d,y){const S=this.fetch(),U=S.text;let z;if(U==="{"||U==="\\begingroup"){this.consume();const X=U==="{"?"}":"\\endgroup";this.gullet.beginGroup();const ne=this.parseExpression(!1,X),fe=this.fetch();this.expect(X),this.gullet.endGroup(),z={type:"ordgroup",mode:this.mode,loc:cn.range(S,fe),body:ne,semisimple:U==="\\begingroup"||void 0}}else if(z=this.parseFunction(y,d)||this.parseSymbol(),z==null&&U[0]==="\\"&&!om.hasOwnProperty(U)){if(this.settings.throwOnError)throw new i("Undefined control sequence: "+U,S);z=this.formatUnsupportedCmd(U),this.consume()}return z}formLigatures(d){let y=d.length-1;for(let S=0;S<y;++S){const U=d[S],z=U.text;z==="-"&&d[S+1].text==="-"&&(S+1<y&&d[S+2].text==="-"?(d.splice(S,3,{type:"textord",mode:"text",loc:cn.range(U,d[S+2]),text:"---"}),y-=2):(d.splice(S,2,{type:"textord",mode:"text",loc:cn.range(U,d[S+1]),text:"--"}),y-=1)),(z==="'"||z==="`")&&d[S+1].text===z&&(d.splice(S,2,{type:"textord",mode:"text",loc:cn.range(U,d[S+1]),text:z+z}),y-=1)}}parseSymbol(){const d=this.fetch();let y=d.text;if(/^\\verb[^a-zA-Z]/.test(y)){this.consume();let z=y.slice(5);const X=z.charAt(0)==="*";if(X&&(z=z.slice(1)),z.length<2||z.charAt(0)!==z.slice(-1))throw new i(`\\verb assertion failed --
                    please report what input caused this bug`);return z=z.slice(1,-1),{type:"verb",mode:"text",body:z,star:X}}um.hasOwnProperty(y[0])&&!bt[this.mode][y[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+y[0]+'" used in math mode',d),y=um[y[0]]+y.slice(1));const S=s8.exec(y);S&&(y=y.substring(0,S.index),y==="i"?y="ı":y==="j"&&(y="ȷ"));let U;if(bt[this.mode][y]){this.settings.strict&&this.mode==="math"&&h0.indexOf(y)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+y[0]+'" used in math mode',d);const z=bt[this.mode][y].group,X=cn.range(d);let ne;if(d0.hasOwnProperty(z)){const fe=z;ne={type:"atom",mode:this.mode,family:fe,loc:X,text:y}}else ne={type:z,mode:this.mode,loc:X,text:y};U=ne}else if(y.charCodeAt(0)>=128)this.settings.strict&&(ye(y.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+y[0]+'" used in math mode',d):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+y[0]+'"'+(" ("+y.charCodeAt(0)+")"),d)),U={type:"textord",mode:"text",loc:cn.range(d),text:y};else return null;if(this.consume(),S)for(let z=0;z<S[0].length;z++){const X=S[0][z];if(!K0[X])throw new i("Unknown accent ' "+X+"'",d);const ne=K0[X][this.mode]||K0[X].text;if(!ne)throw new i("Accent "+X+" unsupported in "+this.mode+" mode",d);U={type:"accent",mode:this.mode,loc:cn.range(d),label:ne,isStretchy:!1,isShifty:!0,base:U}}return U}}ku.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var q0=function(p,d){if(!(typeof p=="string"||p instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const y=new ku(p,d);delete y.gullet.macros.current["\\df@tag"];let S=y.parse();if(delete y.gullet.macros.current["\\current@color"],delete y.gullet.macros.current["\\color"],y.gullet.macros.get("\\df@tag")){if(!d.displayMode)throw new i("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:y.subparse([new pn("\\df@tag")])}]}return S};let lm=function(p,d,y){d.textContent="";const S=V0(p,y).toNode();d.appendChild(S)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),lm=function(){throw new i("KaTeX doesn't work in quirks mode.")});const u8=function(p,d){return V0(p,d).toMarkup()},l8=function(p,d){const y=new x(d);return q0(p,y)},cm=function(p,d,y){if(y.throwOnError||!(p instanceof i))throw p;const S=Ie.makeSpan(["katex-error"],[new Yr(d)]);return S.setAttribute("title",p.toString()),S.setAttribute("style","color:"+y.errorColor),S},V0=function(p,d){const y=new x(d);try{const S=q0(p,y);return EB(S,p,y)}catch(S){return cm(S,p,y)}};var c8={version:"0.16.22",render:lm,renderToString:u8,ParseError:i,SETTINGS_SCHEMA:B,__parse:l8,__renderToDomTree:V0,__renderToHTMLTree:function(p,d){const y=new x(d);try{const S=q0(p,y);return SB(S,p,y)}catch(S){return cm(S,p,y)}},__setFontMetrics:le,__defineSymbol:M,__defineFunction:Ve,__defineMacro:ae,__domTree:{Span:Yn,Anchor:On,SymbolNode:Yr,SvgNode:Nn,PathNode:Jn,LineNode:_o}},d8=c8;return n=n.default,n}()})}(rc)),rc.exports}var xL=pA.exports,ny;function vL(){return ny||(ny=1,function(t,e){(function(r,n){n(e,Y8(),D7(),yL())})(xL,function(r,n,s,i){Object.defineProperty(r,"__esModule",{value:!0});function a(v,w){for(var B in w)Object.defineProperty(v,B,{enumerable:!0,get:w[B]})}a(r,{BlockMath:()=>g,InlineMath:()=>b}),n=u(n),s=o(s),i=o(i);function o(v){return v&&v.__esModule?v:{default:v}}function A(v){if(typeof WeakMap!="function")return null;var w=new WeakMap,B=new WeakMap;return(A=function(C){return C?B:w})(v)}function u(v,w){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var B=A(w);if(B&&B.has(v))return B.get(v);var C={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in v)if(E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)){var D=x?Object.getOwnPropertyDescriptor(v,E):null;D&&(D.get||D.set)?Object.defineProperty(C,E,D):C[E]=v[E]}return C.default=v,B&&B.set(v,C),C}const l=(v,{displayMode:w})=>{const B=({children:C,errorColor:x,math:E,renderError:D})=>{const _=E??C,{html:L,error:I}=(0,n.useMemo)(()=>{try{return{html:i.default.renderToString(_,{displayMode:w,errorColor:x,throwOnError:!!D}),error:void 0}}catch(G){if(G instanceof i.default.ParseError||G instanceof TypeError)return{error:G};throw G}},[_,x,D]);return I?D?D(I):n.default.createElement(v,{html:`${I.message}`}):n.default.createElement(v,{html:L})};return B.propTypes={children:s.default.string,errorColor:s.default.string,math:s.default.string,renderError:s.default.func},B},c={html:s.default.string.isRequired},f=({html:v})=>n.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:v}});f.propTypes=c;const m=({html:v})=>n.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:v}});m.propTypes=c;const g=l(f,{displayMode:!0}),b=l(m,{displayMode:!1})})}(pA,pA.exports)),pA.exports}var sy=vL();const BL=({block:t})=>{const e=Ht(),r=()=>{try{return t.displayMode?h.jsx(sy.BlockMath,{math:t.content}):h.jsx(sy.InlineMath,{math:t.content})}catch(n){return console.error("数学公式渲染失败:",n),h.jsx(de,{component:"pre",sx:{p:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 0, 0, 0.1)":"rgba(255, 0, 0, 0.05)",borderRadius:"4px",overflowX:"auto"},children:t.content})}};return h.jsx(de,{sx:{my:1},children:h.jsx(hr,{variant:"outlined",sx:{p:2,backgroundColor:e.palette.mode==="dark"?"rgba(0, 0, 0, 0.1)":"rgba(0, 0, 0, 0.02)",display:"flex",justifyContent:"center",overflow:"auto"},children:r()})})},CL=rt.memo(BL),EL=({block:t})=>{const[e,r]=q.useState(0),[n,s]=q.useState(!1),i=Ht(),a=jf(()=>t.responses||[],[t.responses]),o=q.useMemo(()=>!a||a.length===0?null:a[e]||a[0],[a,e]),A=q.useCallback((c,f)=>{r(f)},[]),u=q.useCallback(c=>{c.stopPropagation(),o?.content&&(navigator.clipboard.writeText(o.content),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制模型回答"}))},[o]);if(!a||a.length===0)return null;const l=c=>c===qe.STREAMING||c===qe.PROCESSING?h.jsx(Dt,{label:"生成中",size:"small",color:"primary",variant:"outlined",sx:{ml:1,height:20}}):c===qe.ERROR?h.jsx(Dt,{label:"错误",size:"small",color:"error",variant:"outlined",sx:{ml:1,height:20}}):null;return t.displayStyle==="grid"?h.jsx(de,{sx:{width:"100%",mt:2},children:h.jsx(de,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:a.map((c,f)=>h.jsxs(hr,{variant:"outlined",sx:{p:2,height:"100%",position:"relative"},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,pb:1,borderBottom:`1px solid ${i.palette.divider}`},children:[h.jsxs(Se,{variant:"subtitle2",children:[c.modelId||c.modelName||`模型 ${f+1}`,l(c.status)]}),h.jsx(Ye,{size:"small",onClick:m=>{m.stopPropagation(),c.content&&(navigator.clipboard.writeText(c.content),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制模型回答"}))},color:n?"success":"default",children:h.jsx($n,{size:16})})]}),h.jsx(Ws,{content:c.content||"",allowHtml:!1})]},f))})}):t.displayStyle==="vertical"?h.jsx(de,{sx:{width:"100%",mt:2},children:a.map((c,f)=>h.jsxs(hr,{variant:"outlined",sx:{p:2,mb:2,position:"relative"},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,pb:1,borderBottom:`1px solid ${i.palette.divider}`},children:[h.jsxs(Se,{variant:"subtitle2",children:[c.modelId||c.modelName||`模型 ${f+1}`,l(c.status)]}),h.jsx(Ye,{size:"small",onClick:m=>{m.stopPropagation(),c.content&&(navigator.clipboard.writeText(c.content),s(!0),setTimeout(()=>s(!1),2e3),zr.emit("ui:copy_success",{content:"已复制模型回答"}))},color:n?"success":"default",children:h.jsx($n,{size:16})})]}),h.jsx(Ws,{content:c.content||"",allowHtml:!1})]},f))}):h.jsxs(SL,{elevation:0,sx:{mb:2,border:`1px solid ${i.palette.divider}`,borderRadius:"8px",overflow:"hidden"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",p:1.5,borderBottom:`1px solid ${i.palette.divider}`},children:[h.jsx(l7,{color:i.palette.info.main,style:{marginRight:8}}),h.jsxs(Se,{variant:"subtitle2",sx:{flexGrow:1},children:["多模型对比",a.length>0&&h.jsxs(Se,{component:"span",variant:"caption",sx:{ml:1,color:"text.secondary"},children:["(",a.length," 个模型)"]})]}),h.jsx(Ye,{size:"small",onClick:u,color:n?"success":"default",disabled:!o?.content,children:h.jsx($n,{size:16})})]}),h.jsx(GA,{value:e,onChange:A,variant:"scrollable",scrollButtons:"auto",sx:{minHeight:"40px","& .MuiTab-root":{minHeight:"40px",py:.5,px:2,fontSize:"0.85rem"}},children:a.map((c,f)=>h.jsx(Ei,{label:h.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[c.modelId||c.modelName||`模型 ${f+1}`,l(c.status)]}),sx:{textTransform:"none"}},f))}),h.jsx(St,{}),h.jsx(de,{sx:{p:2},children:o?o.status===qe.ERROR?h.jsx(Se,{color:"error",variant:"body2",children:"生成回答时出错，请重试"}):h.jsx(Ws,{content:o.content||"",allowHtml:!1}):h.jsx(Se,{color:"text.secondary",variant:"body2",children:"没有可用的回答"})}),o&&(o.modelId||o.modelName)&&h.jsx(de,{sx:{p:1.5,borderTop:`1px solid ${i.palette.divider}`,backgroundColor:i.palette.mode==="dark"?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.03)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsxs(Se,{variant:"caption",color:"text.secondary",children:["模型: ",o.modelId||o.modelName]})})]})},SL=vs(hr)(({theme:t})=>({borderRadius:t.shape.borderRadius,boxShadow:"none",transition:t.transitions.create(["background-color","box-shadow"])})),TL=rt.memo(EL),FL=({block:t})=>{const e=Ht(),r=Sr(),[n,s]=q.useState(0),i=dt(g=>g.settings.providers),a=q.useCallback(g=>{for(const b of i){const v=b.models.find(w=>w.id===g);if(v)return{name:v.name,providerName:b.name,avatar:b.avatar,color:b.color}}return{name:g,providerName:"Unknown",avatar:"",color:e.palette.primary.main}},[i,e]),o=(g,b)=>{s(b)},A=q.useCallback(async(g,b,v)=>{try{const w=`${g}-${v}`,B={...t,selectedModelId:w,selectedContent:b,isSelectionPending:!1};r(Or({id:t.id,changes:B})),await ZE(t.messageId,w,b),console.log(`[ModelComparisonBlock] 用户选择了模型 ${g} (索引 ${v}) 的回答`)}catch(w){console.error("[ModelComparisonBlock] 处理用户选择失败:",w)}},[t,r]),u=g=>g?g<1e3?`${g}ms`:`${(g/1e3).toFixed(1)}s`:"N/A",l=g=>g?`$${g.toFixed(4)}`:"Free",{comboResult:c}=t;if(!c||!c.modelResults||!Array.isArray(c.modelResults))return console.error(`[ModelComparisonBlock] 对比分析块数据损坏: ${t.id}`),h.jsx(Sn,{severity:"error",sx:{my:2},children:"对比分析数据损坏，请重新生成对比结果。"});const f=c.modelResults.filter(g=>g.status==="success"),m=c.modelResults.filter(g=>g.status==="error");return f.length===0?h.jsx(Sn,{severity:"error",sx:{my:2},children:"所有模型都调用失败了。请检查模型配置和网络连接。"}):h.jsxs(hr,{elevation:0,sx:{backgroundColor:e.palette.background.paper,borderRadius:"12px",overflow:"hidden",border:`1px solid ${e.palette.divider}`,my:1},children:[h.jsxs(de,{sx:{p:2,backgroundColor:e.palette.action.hover},children:[h.jsx(Se,{variant:"h6",gutterBottom:!0,children:"多模型对比分析"}),h.jsxs(de,{sx:{display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[h.jsx(Dt,{size:"small",label:`${f.length} 个模型成功`,color:"success",variant:"outlined"}),m.length>0&&h.jsx(Dt,{size:"small",label:`${m.length} 个模型失败`,color:"error",variant:"outlined"}),h.jsx(Dt,{size:"small",icon:h.jsx(l5,{}),label:u(c.stats.totalLatency),variant:"outlined"}),h.jsx(Dt,{size:"small",icon:h.jsx(rg,{}),label:l(c.stats.totalCost),variant:"outlined"})]})]}),h.jsx(de,{sx:{borderBottom:1,borderColor:"divider"},children:h.jsx(GA,{value:n,onChange:o,variant:"scrollable",scrollButtons:"auto",sx:{minHeight:48},children:f.map((g,b)=>{const v=a(g.modelId);return h.jsx(Ei,{label:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(de,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:v.color}}),h.jsx(Se,{variant:"body2",children:v.name}),t.selectedModelId===`${g.modelId}-${b}`&&h.jsx(bm,{size:16,style:{color:"#4caf50"}})]}),sx:{minHeight:48,textTransform:"none"}},`${g.modelId}-${b}`)})})}),h.jsx(de,{sx:{p:2},children:f.map((g,b)=>h.jsx(de,{sx:{display:n===b?"block":"none"},children:h.jsxs(c5,{variant:"outlined",sx:{mb:2},children:[h.jsxs(d5,{sx:{pb:1},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[h.jsx(Se,{variant:"subtitle1",color:"primary",children:a(g.modelId).name}),h.jsxs(de,{sx:{display:"flex",gap:1},children:[h.jsx(Zt,{title:"响应时间",children:h.jsx(Dt,{size:"small",icon:h.jsx(Jp,{}),label:u(g.latency),variant:"outlined"})}),g.confidence&&h.jsx(Zt,{title:"置信度",children:h.jsx(Dt,{size:"small",label:`${(g.confidence*100).toFixed(0)}%`,variant:"outlined",color:g.confidence>.8?"success":g.confidence>.6?"warning":"error"})})]})]}),g.reasoning&&h.jsxs(de,{sx:{mb:2},children:[h.jsxs(Se,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[h.jsx(Bo,{size:16,style:{marginRight:"4px",verticalAlign:"middle"}}),"推理过程"]}),h.jsx(hr,{variant:"outlined",sx:{p:1.5,backgroundColor:e.palette.action.hover,maxHeight:200,overflow:"auto"},children:h.jsx(Se,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:g.reasoning})})]}),h.jsxs(de,{sx:{mb:2},children:[h.jsx(Se,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"回答内容"}),h.jsx(Se,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:g.content})]})]}),t.isSelectionPending!==!1&&h.jsx(c7,{sx:{pt:0},children:h.jsx(ut,{variant:t.selectedModelId===`${g.modelId}-${b}`?"contained":"outlined",color:"primary",onClick:()=>A(g.modelId,g.content,b),startIcon:t.selectedModelId===`${g.modelId}-${b}`?h.jsx(bm,{}):void 0,sx:{ml:"auto"},children:t.selectedModelId===`${g.modelId}-${b}`?"已选择":"选择此答案"})})]})},`${g.modelId}-${b}`))}),m.length>0&&h.jsxs(de,{sx:{p:2,pt:0},children:[h.jsx(St,{sx:{mb:2}}),h.jsx(Se,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"失败的模型："}),m.map((g,b)=>h.jsx(Sn,{severity:"error",sx:{mb:1},icon:h.jsx(Hp,{}),children:h.jsxs(Se,{variant:"body2",children:[h.jsx("strong",{children:a(g.modelId).name}),": ",g.error]})},`error-${g.modelId}-${b}`))]}),t.isSelectionPending!==!1&&!t.selectedModelId&&h.jsx(de,{sx:{p:2,pt:0},children:h.jsx(Sn,{severity:"info",children:"请选择一个最满意的回答作为正式答案，其他回答将被清理。"})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function lu(t){return t+.5|0}const vi=(t,e,r)=>Math.max(Math.min(t,r),e);function gA(t){return vi(lu(t*2.55),0,255)}function Fi(t){return vi(lu(t*255),0,255)}function Vs(t){return vi(lu(t/2.55)/100,0,1)}function iy(t){return vi(lu(t*100),0,100)}const wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cp=[..."0123456789ABCDEF"],DL=t=>Cp[t&15],kL=t=>Cp[(t&240)>>4]+Cp[t&15],Cl=t=>(t&240)>>4===(t&15),IL=t=>Cl(t.r)&&Cl(t.g)&&Cl(t.b)&&Cl(t.a);function _L(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&wn[t[1]]*17,g:255&wn[t[2]]*17,b:255&wn[t[3]]*17,a:e===5?wn[t[4]]*17:255}:(e===7||e===9)&&(r={r:wn[t[1]]<<4|wn[t[2]],g:wn[t[3]]<<4|wn[t[4]],b:wn[t[5]]<<4|wn[t[6]],a:e===9?wn[t[7]]<<4|wn[t[8]]:255})),r}const UL=(t,e)=>t<255?e(t):"";function ML(t){var e=IL(t)?DL:kL;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UL(t.a,e):void 0}const QL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function r6(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function RL(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function OL(t,e,r){const n=r6(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function NL(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function Ug(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),o=(i+a)/2;let A,u,l;return i!==a&&(l=i-a,u=o>.5?l/(2-i-a):l/(i+a),A=NL(r,n,s,l,i),A=A*60+.5),[A|0,u||0,o]}function Mg(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Fi)}function Qg(t,e,r){return Mg(r6,t,e,r)}function LL(t,e,r){return Mg(OL,t,e,r)}function HL(t,e,r){return Mg(RL,t,e,r)}function n6(t){return(t%360+360)%360}function PL(t){const e=QL.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?gA(+e[5]):Fi(+e[5]));const s=n6(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=LL(s,i,a):e[1]==="hsv"?n=HL(s,i,a):n=Qg(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function jL(t,e){var r=Ug(t);r[0]=n6(r[0]+e),r=Qg(r),t.r=r[0],t.g=r[1],t.b=r[2]}function zL(t){if(!t)return;const e=Ug(t),r=e[0],n=iy(e[1]),s=iy(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${Vs(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const ay={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KL(){const t={},e=Object.keys(oy),r=Object.keys(ay);let n,s,i,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],s=0;s<r.length;s++)i=r[s],o=o.replace(i,ay[i]);i=parseInt(oy[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let El;function qL(t){El||(El=KL(),El.transparent=[0,0,0,0]);const e=El[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const VL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GL(t){const e=VL.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?gA(a):vi(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?gA(n):vi(n,0,255)),s=255&(e[4]?gA(s):vi(s,0,255)),i=255&(e[6]?gA(i):vi(i,0,255)),{r:n,g:s,b:i,a:r}}}function WL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,qa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $L(t,e,r){const n=qa(Vs(t.r)),s=qa(Vs(t.g)),i=qa(Vs(t.b));return{r:Fi(bf(n+r*(qa(Vs(e.r))-n))),g:Fi(bf(s+r*(qa(Vs(e.g))-s))),b:Fi(bf(i+r*(qa(Vs(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Sl(t,e,r){if(t){let n=Ug(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Qg(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function s6(t,e){return t&&Object.assign(e||{},t)}function Ay(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fi(t[3]))):(e=s6(t,{r:0,g:0,b:0,a:1}),e.a=Fi(e.a)),e}function XL(t){return t.charAt(0)==="r"?GL(t):PL(t)}class OA{constructor(e){if(e instanceof OA)return e;const r=typeof e;let n;r==="object"?n=Ay(e):r==="string"&&(n=_L(e)||qL(e)||XL(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=s6(this._rgb);return e&&(e.a=Vs(e.a)),e}set rgb(e){this._rgb=Ay(e)}rgbString(){return this._valid?WL(this._rgb):void 0}hexString(){return this._valid?ML(this._rgb):void 0}hslString(){return this._valid?zL(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,o=2*a-1,A=n.a-s.a,u=((o*A===-1?o:(o+A)/(1+o*A))+1)/2;i=1-u,n.r=255&u*n.r+i*s.r+.5,n.g=255&u*n.g+i*s.g+.5,n.b=255&u*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=$L(this._rgb,e._rgb,r)),this}clone(){return new OA(this.rgb)}alpha(e){return this._rgb.a=Fi(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=lu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Sl(this._rgb,2,e),this}darken(e){return Sl(this._rgb,2,-e),this}saturate(e){return Sl(this._rgb,1,e),this}desaturate(e){return Sl(this._rgb,1,-e),this}rotate(e){return jL(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function js(){}const YL=(()=>{let t=0;return()=>t++})();function kt(t){return t==null}function Br(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function As(t,e){return Qn(t)?t:e}function pt(t,e){return typeof t>"u"?e:t}const JL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,i6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Rt(t,e,r,n){let s,i,a;if(Br(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Ct(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function vc(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Bc(t){if(Br(t))return t.map(Bc);if(Ct(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Bc(t[r[s]]);return e}return t}function a6(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function ZL(t,e,r,n){if(!a6(t))return;const s=e[t],i=r[t];Ct(s)&&Ct(i)?NA(s,i,n):e[t]=Bc(i)}function NA(t,e,r){const n=Br(e)?e:[e],s=n.length;if(!Ct(t))return t;r=r||{};const i=r.merger||ZL;let a;for(let o=0;o<s;++o){if(a=n[o],!Ct(a))continue;const A=Object.keys(a);for(let u=0,l=A.length;u<l;++u)i(A[u],t,a,r)}return t}function FA(t,e){return NA(t,e,{merger:eH})}function eH(t,e,r){if(!a6(t))return;const n=e[t],s=r[t];Ct(n)&&Ct(s)?FA(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Bc(s))}const uy={"":t=>t,x:t=>t.x,y:t=>t.y};function tH(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function rH(t){const e=tH(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function va(t,e){return(uy[e]||(uy[e]=rH(e)))(t)}function Rg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const LA=t=>typeof t<"u",Ui=t=>typeof t=="function",ly=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function nH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ar=Math.PI,ir=2*ar,sH=ir+ar,Cc=Number.POSITIVE_INFINITY,iH=ar/180,Cr=ar/2,Yi=ar/4,cy=ar*2/3,o6=Math.log10,ws=Math.sign;function DA(t,e,r){return Math.abs(t-e)<r}function dy(t){const e=Math.round(t);t=DA(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(o6(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function aH(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function oH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function bo(t){return!oH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function AH(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function uH(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ys(t){return t*(ar/180)}function lH(t){return t*(180/ar)}function hy(t){if(!Qn(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function A6(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*ar&&(i+=ir),{angle:i,distance:s}}function Ep(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cH(t,e){return(t-e+sH)%ir-ar}function gi(t){return(t%ir+ir)%ir}function HA(t,e,r,n){const s=gi(t),i=gi(e),a=gi(r),o=gi(i-s),A=gi(a-s),u=gi(s-i),l=gi(s-a);return s===i||s===a||n&&i===a||o>A&&u<l}function Kr(t,e,r){return Math.max(e,Math.min(r,t))}function dH(t){return Kr(t,-32768,32767)}function Bi(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Og(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const ca=(t,e,r,n)=>Og(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),hH=(t,e,r)=>Og(t,r,n=>t[n][e]>=r);function fH(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const u6=["push","pop","shift","splice","unshift"];function pH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),u6.forEach(r=>{const n="_onData"+Rg(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),a}})})}function fy(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(u6.forEach(i=>{delete t[i]}),delete t._chartjs)}function l6(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const c6=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function d6(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,c6.call(window,()=>{n=!1,t.apply(e,r)}))}}function gH(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Ng=t=>t==="start"?"left":t==="end"?"right":"center",Pr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,mH=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function h6(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:A}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,l=a.axis,{min:c,max:f,minDefined:m,maxDefined:g}=a.getUserBounds();if(m){if(s=Math.min(ca(A,l,c).lo,r?n:ca(e,l,a.getPixelForValue(c)).lo),u){const b=A.slice(0,s+1).reverse().findIndex(v=>!kt(v[o.axis]));s-=Math.max(0,b)}s=Kr(s,0,n-1)}if(g){let b=Math.max(ca(A,a.axis,f,!0).hi+1,r?0:ca(e,l,a.getPixelForValue(f),!0).hi+1);if(u){const v=A.slice(b-1).findIndex(w=>!kt(w[o.axis]));b+=Math.max(0,v)}i=Kr(b,s,n)-s}else i=n-s}return{start:s,count:i}}function f6(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const Tl=t=>t===0||t===1,py=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ir/r)),gy=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ir/r)+1,kA={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Cr)+1,easeOutSine:t=>Math.sin(t*Cr),easeInOutSine:t=>-.5*(Math.cos(ar*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tl(t)?t:py(t,.075,.3),easeOutElastic:t=>Tl(t)?t:gy(t,.075,.3),easeInOutElastic(t){return Tl(t)?t:t<.5?.5*py(t*2,.1125,.45):.5+.5*gy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-kA.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?kA.easeInBounce(t*2)*.5:kA.easeOutBounce(t*2-1)*.5+.5};function Lg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function my(t){return Lg(t)?t:new OA(t)}function wf(t){return Lg(t)?t:new OA(t).saturate(.5).darken(.1).hexString()}const bH=["x","y","borderWidth","radius","tension"],wH=["color","borderColor","backgroundColor"];function yH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:wH},numbers:{type:"number",properties:bH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const by=new Map;function vH(t,e){e=e||{};const r=t+JSON.stringify(e);let n=by.get(r);return n||(n=new Intl.NumberFormat(t,e),by.set(r,n)),n}function Hg(t,e,r){return vH(e,r).format(t)}const BH={values(t){return Br(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=CH(t,r)}const a=o6(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),A={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(A,this.options.ticks.format),Hg(t,n,A)}};function CH(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var p6={formatters:BH};function EH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:p6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ba=Object.create(null),Sp=Object.create(null);function IA(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function yf(t,e,r){return typeof e=="string"?NA(IA(t,e),r):NA(IA(t,""),e)}class SH{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>wf(s.backgroundColor),this.hoverBorderColor=(n,s)=>wf(s.borderColor),this.hoverColor=(n,s)=>wf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return yf(this,e,r)}get(e){return IA(this,e)}describe(e,r){return yf(Sp,e,r)}override(e,r){return yf(Ba,e,r)}route(e,r,n,s){const i=IA(this,e),a=IA(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const A=this[o],u=a[s];return Ct(A)?Object.assign({},u,A):pt(A,u)},set(A){this[o]=A}}})}apply(e){e.forEach(r=>r(this))}}var dr=new SH({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yH,xH,EH]);function TH(t){return!t||kt(t.size)||kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wy(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Ji(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function yy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Tp(t,e,r,n){g6(t,e,r,n,null)}function g6(t,e,r,n,s){let i,a,o,A,u,l,c,f;const m=e.pointStyle,g=e.rotation,b=e.radius;let v=(g||0)*iH;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),m){default:s?t.ellipse(r,n,s/2,b,0,0,ir):t.arc(r,n,b,0,ir),t.closePath();break;case"triangle":l=s?s/2:b,t.moveTo(r+Math.sin(v)*l,n-Math.cos(v)*b),v+=cy,t.lineTo(r+Math.sin(v)*l,n-Math.cos(v)*b),v+=cy,t.lineTo(r+Math.sin(v)*l,n-Math.cos(v)*b),t.closePath();break;case"rectRounded":u=b*.516,A=b-u,a=Math.cos(v+Yi)*A,c=Math.cos(v+Yi)*(s?s/2-u:A),o=Math.sin(v+Yi)*A,f=Math.sin(v+Yi)*(s?s/2-u:A),t.arc(r-c,n-o,u,v-ar,v-Cr),t.arc(r+f,n-a,u,v-Cr,v),t.arc(r+c,n+o,u,v,v+Cr),t.arc(r-f,n+a,u,v+Cr,v+ar),t.closePath();break;case"rect":if(!g){A=Math.SQRT1_2*b,l=s?s/2:A,t.rect(r-l,n-A,2*l,2*A);break}v+=Yi;case"rectRot":c=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,o=Math.sin(v)*b,f=Math.sin(v)*(s?s/2:b),t.moveTo(r-c,n-o),t.lineTo(r+f,n-a),t.lineTo(r+c,n+o),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":v+=Yi;case"cross":c=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,o=Math.sin(v)*b,f=Math.sin(v)*(s?s/2:b),t.moveTo(r-c,n-o),t.lineTo(r+c,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":c=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,o=Math.sin(v)*b,f=Math.sin(v)*(s?s/2:b),t.moveTo(r-c,n-o),t.lineTo(r+c,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),v+=Yi,c=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,o=Math.sin(v)*b,f=Math.sin(v)*(s?s/2:b),t.moveTo(r-c,n-o),t.lineTo(r+c,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(v)*b,o=Math.sin(v)*b,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(s?s/2:b),n+Math.sin(v)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function PA(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Pg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jg(t){t.restore()}function FH(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function DH(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function kH(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function IH(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,A=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,l=s.strikethrough?(A+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,l),t.lineTo(o,l),t.stroke()}}function _H(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function jA(t,e,r,n,s,i={}){const a=Br(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let A,u;for(t.save(),t.font=s.string,kH(t,i),A=0;A<a.length;++A)u=a[A],i.backdrop&&_H(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),kt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,r,n,i.maxWidth)),t.fillText(u,r,n,i.maxWidth),IH(t,r,n,u,i),n+=Number(s.lineHeight);t.restore()}function Ec(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*ar,ar,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,ar,Cr,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Cr,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Cr,!0),t.lineTo(r+a.topLeft,n)}const UH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,MH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QH(t,e){const r=(""+t).match(UH);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const RH=t=>+t||0;function zg(t,e){const r={},n=Ct(e),s=n?Object.keys(e):e,i=Ct(t)?n?a=>pt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=RH(i(a));return r}function m6(t){return zg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function oo(t){return zg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rn(t){const e=m6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qr(t,e){t=t||{},e=e||dr.font;let r=pt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=pt(t.style,e.style);n&&!(""+n).match(MH)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:pt(t.family,e.family),lineHeight:QH(pt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:pt(t.weight,e.weight),string:""};return s.string=TH(s),s}function Fl(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function OH(t,e,r){const{min:n,max:s}=t,i=i6(e,(s-n)/2),a=(o,A)=>r&&o===0?0:o+A;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Sa(t,e){return Object.assign(Object.create(t),e)}function Kg(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=x6("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:o=>Kg([o,...t],e,i,n)};return new Proxy(a,{deleteProperty(o,A){return delete o[A],delete o._keys,delete t[0][A],!0},get(o,A){return w6(o,A,()=>qH(A,e,t,o))},getOwnPropertyDescriptor(o,A){return Reflect.getOwnPropertyDescriptor(o._scopes[0],A)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,A){return vy(o).includes(A)},ownKeys(o){return vy(o)},set(o,A,u){const l=o._storage||(o._storage=s());return o[A]=l[A]=u,delete o._keys,!0}})}function wo(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:b6(t,n),setContext:i=>wo(t,i,r,n),override:i=>wo(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return w6(i,a,()=>LH(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function b6(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Ui(r)?r:()=>r,isIndexable:Ui(n)?n:()=>n}}const NH=(t,e)=>t?t+Rg(e):e,qg=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function w6(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function LH(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let o=n[e];return Ui(o)&&a.isScriptable(e)&&(o=HH(e,o,t,r)),Br(o)&&o.length&&(o=PH(e,o,t,a.isIndexable)),qg(e,o)&&(o=wo(o,s,i&&i[e],a)),o}function HH(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let A=e(i,a||n);return o.delete(t),qg(t,A)&&(A=Vg(s._scopes,s,t,A)),A}function PH(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Ct(e[0])){const A=e,u=s._scopes.filter(l=>l!==A);e=[];for(const l of A){const c=Vg(u,s,t,l);e.push(wo(c,i,a&&a[t],o))}}return e}function y6(t,e,r){return Ui(t)?t(e,r):t}const jH=(t,e)=>t===!0?e:typeof t=="string"?va(e,t):void 0;function zH(t,e,r,n,s){for(const i of e){const a=jH(r,i);if(a){t.add(a);const o=y6(a._fallback,r,s);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function Vg(t,e,r,n){const s=e._rootScopes,i=y6(e._fallback,r,n),a=[...t,...s],o=new Set;o.add(n);let A=xy(o,a,r,i||r,n);return A===null||typeof i<"u"&&i!==r&&(A=xy(o,a,i,A,n),A===null)?!1:Kg(Array.from(o),[""],s,i,()=>KH(e,r,n))}function xy(t,e,r,n,s){for(;r;)r=zH(t,e,r,n,s);return r}function KH(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return Br(s)&&Ct(r)?r:s||{}}function qH(t,e,r,n){let s;for(const i of e)if(s=x6(NH(i,t),r),typeof s<"u")return qg(t,s)?Vg(r,n,t,s):s}function x6(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function vy(t){let e=t._keys;return e||(e=t._keys=VH(t._scopes)),e}function VH(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const GH=Number.EPSILON||1e-14,yo=(t,e)=>e<t.length&&!t[e].skip&&t[e],v6=t=>t==="x"?"y":"x";function WH(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,o=Ep(i,s),A=Ep(a,i);let u=o/(o+A),l=A/(o+A);u=isNaN(u)?0:u,l=isNaN(l)?0:l;const c=n*u,f=n*l;return{previous:{x:i.x-c*(a.x-s.x),y:i.y-c*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function $H(t,e,r){const n=t.length;let s,i,a,o,A,u=yo(t,0);for(let l=0;l<n-1;++l)if(A=u,u=yo(t,l+1),!(!A||!u)){if(DA(e[l],0,GH)){r[l]=r[l+1]=0;continue}s=r[l]/e[l],i=r[l+1]/e[l],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),r[l]=s*a*e[l],r[l+1]=i*a*e[l])}}function XH(t,e,r="x"){const n=v6(r),s=t.length;let i,a,o,A=yo(t,0);for(let u=0;u<s;++u){if(a=o,o=A,A=yo(t,u+1),!o)continue;const l=o[r],c=o[n];a&&(i=(l-a[r])/3,o[`cp1${r}`]=l-i,o[`cp1${n}`]=c-i*e[u]),A&&(i=(A[r]-l)/3,o[`cp2${r}`]=l+i,o[`cp2${n}`]=c+i*e[u])}}function YH(t,e="x"){const r=v6(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,o,A,u=yo(t,0);for(a=0;a<n;++a)if(o=A,A=u,u=yo(t,a+1),!!A){if(u){const l=u[e]-A[e];s[a]=l!==0?(u[r]-A[r])/l:0}i[a]=o?u?ws(s[a-1])!==ws(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}$H(t,s,i),XH(t,i,e)}function Dl(t,e,r){return Math.max(Math.min(t,r),e)}function JH(t,e){let r,n,s,i,a,o=PA(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=o,o=r<n-1&&PA(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=Dl(s.cp1x,e.left,e.right),s.cp1y=Dl(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Dl(s.cp2x,e.left,e.right),s.cp2y=Dl(s.cp2y,e.top,e.bottom)))}function ZH(t,e,r,n,s){let i,a,o,A;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")YH(t,s);else{let u=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],A=WH(u,o,t[Math.min(i+1,a-(n?0:1))%a],e.tension),o.cp1x=A.previous.x,o.cp1y=A.previous.y,o.cp2x=A.next.x,o.cp2y=A.next.y,u=o}e.capBezierPoints&&JH(t,r)}function Gg(){return typeof window<"u"&&typeof document<"u"}function Wg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sc(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const s0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eP(t,e){return s0(t).getPropertyValue(e)}const tP=["top","right","bottom","left"];function ga(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=tP[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const rP=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function nP(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,o,A;if(rP(s,i,t.target))o=s,A=i;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,A=n.clientY-u.top,a=!0}return{x:o,y:A,box:a}}function ta(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=s0(r),i=s.boxSizing==="border-box",a=ga(s,"padding"),o=ga(s,"border","width"),{x:A,y:u,box:l}=nP(t,r),c=a.left+(l&&o.left),f=a.top+(l&&o.top);let{width:m,height:g}=e;return i&&(m-=a.width+o.width,g-=a.height+o.height),{x:Math.round((A-c)/m*r.width/n),y:Math.round((u-f)/g*r.height/n)}}function sP(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Wg(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),o=s0(i),A=ga(o,"border","width"),u=ga(o,"padding");e=a.width-u.width-A.width,r=a.height-u.height-A.height,n=Sc(o.maxWidth,i,"clientWidth"),s=Sc(o.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Cc,maxHeight:s||Cc}}const kl=t=>Math.round(t*10)/10;function iP(t,e,r,n){const s=s0(t),i=ga(s,"margin"),a=Sc(s.maxWidth,t,"clientWidth")||Cc,o=Sc(s.maxHeight,t,"clientHeight")||Cc,A=sP(t,e,r);let{width:u,height:l}=A;if(s.boxSizing==="content-box"){const f=ga(s,"border","width"),m=ga(s,"padding");u-=m.width+f.width,l-=m.height+f.height}return u=Math.max(0,u-i.width),l=Math.max(0,n?u/n:l-i.height),u=kl(Math.min(u,a,A.maxWidth)),l=kl(Math.min(l,o,A.maxHeight)),u&&!l&&(l=kl(u/2)),(e!==void 0||r!==void 0)&&n&&A.height&&l>A.height&&(l=A.height,u=kl(Math.floor(l*n))),{width:u,height:l}}function By(t,e,r){const n=e||1,s=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const aP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Gg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Cy(t,e){const r=eP(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ra(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function oP(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function AP(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=ra(t,s,r),o=ra(s,i,r),A=ra(i,e,r),u=ra(a,o,r),l=ra(o,A,r);return ra(u,l,r)}const uP=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},lP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ao(t,e,r){return t?uP(e,r):lP()}function B6(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function C6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function E6(t){return t==="angle"?{between:HA,compare:cH,normalize:gi}:{between:Bi,compare:(e,r)=>e-r,normalize:e=>e}}function Ey({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function cP(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:o}=E6(n),A=e.length;let{start:u,end:l,loop:c}=t,f,m;if(c){for(u+=A,l+=A,f=0,m=A;f<m&&a(o(e[u%A][n]),s,i);++f)u--,l--;u%=A,l%=A}return l<u&&(l+=A),{start:u,end:l,loop:c,style:t.style}}function dP(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:o,between:A,normalize:u}=E6(n),{start:l,end:c,loop:f,style:m}=cP(t,e,r),g=[];let b=!1,v=null,w,B,C;const x=()=>A(s,C,w)&&o(s,C)!==0,E=()=>o(i,w)===0||A(i,C,w),D=()=>b||x(),_=()=>!b||E();for(let L=l,I=l;L<=c;++L)B=e[L%a],!B.skip&&(w=u(B[n]),w!==C&&(b=A(w,s,i),v===null&&D()&&(v=o(w,s)===0?L:I),v!==null&&_()&&(g.push(Ey({start:v,end:L,loop:f,count:a,style:m})),v=null),I=L,C=w));return v!==null&&g.push(Ey({start:v,end:c,loop:f,count:a,style:m})),g}function hP(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=dP(n[s],t.points,e);i.length&&r.push(...i)}return r}function fP(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function pP(t,e,r,n){const s=t.length,i=[];let a=e,o=t[e],A;for(A=e+1;A<=r;++A){const u=t[A%s];u.skip||u.stop?o.skip||(n=!1,i.push({start:e%s,end:(A-1)%s,loop:n}),e=a=u.stop?A:null):(a=A,o.skip&&(e=A)),o=u}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function gP(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=fP(r,s,i,n);if(n===!0)return Sy(t,[{start:a,end:o,loop:i}],r,e);const A=o<a?o+s:o,u=!!t._fullLoop&&a===0&&o===s-1;return Sy(t,pP(r,a,A,u),r,e)}function Sy(t,e,r,n){return!n||!n.setContext||!r?e:mP(t,e,r,n)}function mP(t,e,r,n){const s=t._chart.getContext(),i=Ty(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,A=r.length,u=[];let l=i,c=e[0].start,f=c;function m(g,b,v,w){const B=o?-1:1;if(g!==b){for(g+=A;r[g%A].skip;)g-=B;for(;r[b%A].skip;)b+=B;g%A!==b%A&&(u.push({start:g%A,end:b%A,loop:v,style:w}),l=w,c=b%A)}}for(const g of e){c=o?c:g.start;let b=r[c%A],v;for(f=c+1;f<=g.end;f++){const w=r[f%A];v=Ty(n.setContext(Sa(s,{type:"segment",p0:b,p1:w,p0DataIndex:(f-1)%A,p1DataIndex:f%A,datasetIndex:a}))),bP(v,l)&&m(c,f-1,g.loop,l),b=w,l=v}c<f-1&&m(c,f-1,g.loop,l)}return u}function Ty(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bP(t,e){if(!e)return!1;const r=[],n=function(s,i){return Lg(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Il(t,e,r){return t.options.clip?t[r]:e[r]}function wP(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Il(r,e,"left"),right:Il(r,e,"right"),top:Il(n,e,"top"),bottom:Il(n,e,"bottom")}:e}function yP(t,e){const r=e._clip;if(r.disabled)return!1;const n=wP(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=c6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,o=!1,A;for(;a>=0;--a)A=i[a],A._active?(A._total>n.duration&&(n.duration=A._total),A.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zs=new xP;const Fy="transparent",vP={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=my(t||Fy),s=n.valid&&my(e||Fy);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class BP{constructor(e,r,n,s){const i=r[n];s=Fl([e.to,s,i,e.from]);const a=Fl([e.from,i,s]);this._active=!0,this._fn=e.fn||vP[e.type||typeof a],this._easing=kA[e.easing]||kA.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Fl([e.to,r,s,e.from]),this._from=Fl([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let A;if(this._active=i!==o&&(a||r<n),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=i;return}A=r/n%2,A=a&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[s]=this._fn(i,o,A)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class S6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ct(e))return;const r=Object.keys(dr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Ct(i))return;const a={};for(const o of r)a[o]=i[o];(Br(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,s=EP(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&CP(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let A;for(A=a.length-1;A>=0;--A){const u=a[A];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,r));continue}const l=r[u];let c=i[u];const f=n.get(u);if(c)if(f&&c.active()){c.update(f,l,o);continue}else c.cancel();if(!f||!f.duration){e[u]=l;continue}i[u]=c=new BP(f,e,u,l),s.push(c)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return zs.add(this._chart,n),!0}}function CP(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function EP(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Dy(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function SP(t,e,r){if(r===!1)return!1;const n=Dy(t,r),s=Dy(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function TP(t){let e,r,n,s;return Ct(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function T6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function ky(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,o,A,u;if(e===null)return;let l=!1;for(a=0,o=s.length;a<o;++a){if(A=+s[a],A===r){if(l=!0,n.all)continue;break}u=t.values[A],Qn(u)&&(i||e===0||ws(e)===ws(u))&&(e+=u)}return!l&&!n.all?0:e}function FP(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let A,u,l;for(A=0,u=a.length;A<u;++A)l=a[A],o[A]={[s]:l,[i]:t[l]};return o}function xf(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function DP(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function kP(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function IP(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Iy(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function _y(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:o}=n,A=i.axis,u=a.axis,l=DP(i,a,n),c=e.length;let f;for(let m=0;m<c;++m){const g=e[m],{[A]:b,[u]:v}=g,w=g._stacks||(g._stacks={});f=w[u]=IP(s,l,b),f[o]=v,f._top=Iy(f,a,!0,n.type),f._bottom=Iy(f,a,!1,n.type);const B=f._visualValues||(f._visualValues={});B[o]=v}}function vf(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function _P(t,e){return Sa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function UP(t,e,r){return Sa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Jo(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Bf=t=>t==="reset"||t==="none",Uy=(t,e)=>e?t:Object.assign({},t),MP=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:T6(r,!0),values:null};class cu{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(c,f,m,g)=>c==="x"?f:c==="r"?g:m,i=r.xAxisID=pt(n.xAxisID,vf(e,"x")),a=r.yAxisID=pt(n.yAxisID,vf(e,"y")),o=r.rAxisID=pt(n.rAxisID,vf(e,"r")),A=r.indexAxis,u=r.iAxisID=s(A,i,a,o),l=r.vAxisID=s(A,a,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&fy(this._data,this),e._stacked&&Jo(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ct(r)){const s=this._cachedMeta;this._data=FP(r,s)}else if(n!==r){if(n){fy(n,this);const s=this._cachedMeta;Jo(s),s._parsed=[]}r&&Object.isExtensible(r)&&pH(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=xf(r.vScale,r),r.stack!==n.stack&&(s=!0,Jo(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(_y(this,r._parsed),r._stacked=xf(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,o=i.axis;let A=e===0&&r===s.length?!0:n._sorted,u=e>0&&n._parsed[e-1],l,c,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{Br(s[e])?f=this.parseArrayData(n,s,e,r):Ct(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const m=()=>c[o]===null||u&&c[o]<u[o];for(l=0;l<r;++l)n._parsed[l+e]=c=f[l],A&&(m()&&(A=!1),u=c);n._sorted=A}a&&_y(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,o=i.axis,A=a.axis,u=i.getLabels(),l=i===a,c=new Array(s);let f,m,g;for(f=0,m=s;f<m;++f)g=f+n,c[f]={[o]:l||i.parse(u[g],g),[A]:a.parse(r[g],g)};return c}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,o=new Array(s);let A,u,l,c;for(A=0,u=s;A<u;++A)l=A+n,c=r[l],o[A]={x:i.parse(c[0],l),y:a.parse(c[1],l)};return o}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:A="y"}=this._parsing,u=new Array(s);let l,c,f,m;for(l=0,c=s;l<c;++l)f=l+n,m=r[f],u[l]={x:i.parse(va(m,o),f),y:a.parse(va(m,A),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],o={keys:T6(s,!0),values:r._stacks[e.axis]._visualValues};return ky(o,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const o=s&&n._stacks[r.axis];s&&o&&(s.values=o,a=ky(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,o=this._getOtherScale(e),A=MP(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:c}=kP(o);let f,m;function g(){m=s[f];const b=m[o.axis];return!Qn(m[e.axis])||l>b||c<b}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,e,m,A),i));++f);if(i){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,e,m,A);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],Qn(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=TP(pt(this.options.clip,SP(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],o=this._drawStart||0,A=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,i,o,A),l=o;l<o+A;++l){const c=s[l];c.hidden||(c.active&&u?a.push(c):c.draw(e,i))}for(l=0;l<a.length;++l)a[l].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=UP(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=_P(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,o=i[a],A=this.enableOptionSharing&&LA(n);if(o)return Uy(o,A);const u=this.chart.config,l=u.datasetElementScopeKeys(this._type,e),c=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),l),m=Object.keys(dr.elements[e]),g=()=>this.getContext(n,s,r),b=u.resolveNamedOptions(f,m,g,c);return b.$shared&&(b.$shared=A,i[a]=Object.freeze(Uy(b,A))),b}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,o=i[a];if(o)return o;let A;if(s.options.animation!==!1){const l=this.chart.config,c=l.datasetAnimationScopeKeys(this._type,r),f=l.getOptionScopes(this.getDataset(),c);A=l.createResolver(f,this.getContext(e,n,r))}const u=new S6(s,A&&A.animations);return A&&A._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Bf(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){Bf(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!Bf(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,A,u]of this._syncList)this[o](A,u);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let o;const A=u=>{for(u.length+=r,o=u.length-1;o>=a;o--)u[o]=u[o-r]};for(A(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&A(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Jo(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function QP(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=l6(n.sort((s,i)=>s-i))}return t._cache.$bar}function RP(t){const e=t.iScale,r=QP(e,t.type);let n=e._length,s,i,a,o;const A=()=>{a===32767||a===-32768||(LA(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),A();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),A();return n}function OP(t,e,r,n){const s=r.barThickness;let i,a;return kt(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function NP(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const A=r.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*A;return{chunk:Math.abs(o-a)/2*A/n,ratio:r.barPercentage,start:u}}function LP(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),o=Math.max(s,i);let A=a,u=o;Math.abs(a)>Math.abs(o)&&(A=o,u=a),e[r.axis]=u,e._custom={barStart:A,barEnd:u,start:s,end:i,min:a,max:o}}function F6(t,e,r,n){return Br(t)?LP(t,e,r,n):e[r.axis]=r.parse(t,n),e}function My(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,A=[];let u,l,c,f;for(u=r,l=r+n;u<l;++u)f=e[u],c={},c[s.axis]=o||s.parse(a[u],u),A.push(F6(f,c,i,u));return A}function Cf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function HP(t,e,r){return t!==0?ws(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function PP(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function jP(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:A,top:u,bottom:l}=PP(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=u:(r._bottom||0)===n?s=l:(i[Qy(l,a,o,A)]=!0,s=u)),i[Qy(s,a,o,A)]=!0,t.borderSkipped=i}function Qy(t,e,r,n){return n?(t=zP(t,e,r),t=Ry(t,r,e)):t=Ry(t,e,r),t}function zP(t,e,r){return t===e?r:t===r?e:t}function Ry(t,e,r){return t==="start"?e:t==="end"?r:t}function KP(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class qP extends cu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,n,s){return My(e,r,n,s)}parseArrayData(e,r,n,s){return My(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:A="y"}=this._parsing,u=i.axis==="x"?o:A,l=a.axis==="x"?o:A,c=[];let f,m,g,b;for(f=n,m=n+s;f<m;++f)b=r[f],g={},g[i.axis]=i.parse(va(b,u),f),c.push(F6(va(b,l),g,a,f));return c}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,o=Cf(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,A=o.getBasePixel(),u=o.isHorizontal(),l=this._getRuler(),{sharedOptions:c,includeOptions:f}=this._getSharedOptions(r,s);for(let m=r;m<r+n;m++){const g=this.getParsed(m),b=i||kt(g[o.axis])?{base:A,head:A}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,l),w=(g._stacks||{})[o.axis],B={horizontal:u,base:b.base,enableBorderRadius:!w||Cf(g._custom)||a===w._top||a===w._bottom,x:u?b.head:v.center,y:u?v.center:b.head,height:u?v.size:Math.abs(b.size),width:u?Math.abs(b.size):v.size};f&&(B.options=c||this.resolveDataElementOptions(m,e[m].active?"active":s));const C=B.options||e[m].options;jP(B,C,w,a),KP(B,C,l.ratio),this.updateElement(e[m],m,B,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),A=o&&o[n.axis],u=l=>{const c=l._parsed.find(m=>m[n.axis]===A),f=c&&c[l.vScale.axis];if(kt(f)||isNaN(f))return!0};for(const l of s)if(!(r!==void 0&&u(l))&&((i===!1||a.indexOf(l.stack)===-1||i===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||RP(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,A=this.getParsed(e),u=A._custom,l=Cf(u);let c=A[r.axis],f=0,m=n?this.applyStack(r,A,n):c,g,b;m!==c&&(f=m-c,m=c),l&&(c=u.barStart,m=u.barEnd-u.barStart,c!==0&&ws(c)!==ws(u.barEnd)&&(f=0),f+=c);const v=!kt(i)&&!l?i:f;let w=r.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(f+m):g=w,b=g-w,Math.abs(b)<a){b=HP(b,r,o)*a,c===o&&(w-=b/2);const B=r.getPixelForDecimal(0),C=r.getPixelForDecimal(1),x=Math.min(B,C),E=Math.max(B,C);w=Math.max(Math.min(w,E),x),g=w+b,n&&!l&&(A._stacks[r.axis]._visualValues[s]=r.getValueForPixel(g)-r.getValueForPixel(w))}if(w===r.getPixelForValue(o)){const B=ws(b)*r.getLineWidthForValue(o)/2;w+=B,b-=B}return{size:b,base:w,head:g,center:g+b/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=pt(s.maxBarThickness,1/0);let o,A;if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,l=s.barThickness==="flex"?NP(e,r,s,u):OP(e,r,s,u),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=l.start+l.chunk*c+l.chunk/2,A=Math.min(a,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),A=Math.min(a,r.min*r.ratio);return{base:o-A/2,head:o+A/2,center:o,size:A}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function VP(t,e,r){let n=1,s=1,i=0,a=0;if(e<ir){const o=t,A=o+e,u=Math.cos(o),l=Math.sin(o),c=Math.cos(A),f=Math.sin(A),m=(C,x,E)=>HA(C,o,A,!0)?1:Math.max(x,x*r,E,E*r),g=(C,x,E)=>HA(C,o,A,!0)?-1:Math.min(x,x*r,E,E*r),b=m(0,u,c),v=m(Cr,l,f),w=g(ar,u,c),B=g(ar+Cr,l,f);n=(b-w)/2,s=(v-B)/2,i=-(b+w)/2,a=-(v+B)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class GP extends cu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return r.labels.map((i,a)=>{const A=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:s,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=A=>+n[A];if(Ct(n[e])){const{key:A="value"}=this._parsing;i=u=>+va(n[u],A)}let a,o;for(a=e,o=e+r;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Ys(this.options.rotation-90)}_getCircumference(){return Ys(this.options.circumference)}_getRotationExtents(){let e=ir,r=-ir;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),r=Math.max(r,i+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),A=Math.min(JL(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:b}=VP(c,l,A),v=(n.width-a)/f,w=(n.height-a)/m,B=Math.max(Math.min(v,w)/2,0),C=i6(this.options.radius,B),x=Math.max(C*A,0),E=(C-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=b*C,s.total=this.calculateTotal(),this.outerRadius=C-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/ir)}updateElements(e,r,n,s){const i=s==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,f=i&&u.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(r,s);let w=this._getRotation(),B;for(B=0;B<r;++B)w+=this._circumference(B,i);for(B=r;B<r+n;++B){const C=this._circumference(B,i),x=e[B],E={x:l+this.offsetX,y:c+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:g,innerRadius:m};v&&(E.options=b||this.resolveDataElementOptions(B,x.active?"active":s)),w+=C,this.updateElement(x,B,E,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,s;for(s=0;s<r.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?ir*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Hg(r._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let s,i,a,o,A;if(!e){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)A=o.resolveDataElementOptions(s),A.borderAlign!=="inner"&&(r=Math.max(r,A.borderWidth||0,A.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,s=e.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(pt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class WP extends cu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:o,count:A}=h6(r,s,a);this._drawStart=o,this._drawCount=A,f6(r)&&(o=0,A=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},e),this.updateElements(s,o,A,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:A,_dataset:u}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,s),f=a.axis,m=o.axis,{spanGaps:g,segment:b}=this.options,v=bo(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",B=r+n,C=e.length;let x=r>0&&this.getParsed(r-1);for(let E=0;E<C;++E){const D=e[E],_=w?D:{};if(E<r||E>=B){_.skip=!0;continue}const L=this.getParsed(E),I=kt(L[m]),G=_[f]=a.getPixelForValue(L[f],E),W=_[m]=i||I?o.getBasePixel():o.getPixelForValue(A?this.applyStack(o,L,A):L[m],E);_.skip=isNaN(G)||isNaN(W)||I,_.stop=E>0&&Math.abs(L[f]-x[f])>v,b&&(_.parsed=L,_.raw=u.data[E]),c&&(_.options=l||this.resolveDataElementOptions(E,D.active?"active":s)),w||this.updateElement(D,E,_,s),x=L}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class $P extends GP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class XP extends cu{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:i}=r,a=this.getParsed(e),o=s.getLabelForValue(a.x),A=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+A+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,s=this.chart._animationsDisabled;let{start:i,count:a}=h6(r,n,s);if(this._drawStart=i,this._drawCount=a,f6(r)&&(i=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:A}=r;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!A._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:A,_dataset:u}=this._cachedMeta,l=this.resolveDataElementOptions(r,s),c=this.getSharedOptions(l),f=this.includeOptions(s,c),m=a.axis,g=o.axis,{spanGaps:b,segment:v}=this.options,w=bo(b)?b:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||i||s==="none";let C=r>0&&this.getParsed(r-1);for(let x=r;x<r+n;++x){const E=e[x],D=this.getParsed(x),_=B?E:{},L=kt(D[g]),I=_[m]=a.getPixelForValue(D[m],x),G=_[g]=i||L?o.getBasePixel():o.getPixelForValue(A?this.applyStack(o,D,A):D[g],x);_.skip=isNaN(I)||isNaN(G)||L,_.stop=x>0&&Math.abs(D[m]-C[m])>w,v&&(_.parsed=D,_.raw=u.data[x]),f&&(_.options=c||this.resolveDataElementOptions(x,E.active?"active":s)),B||this.updateElement(E,x,_,s),C=D}this.updateSharedOptions(c,s,l)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let o=0;for(let A=r.length-1;A>=0;--A)o=Math.max(o,r[A].size(this.resolveDataElementOptions(A))/2);return o>0&&o}const n=e.dataset,s=n.options&&n.options.borderWidth||0;if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}}function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $g{static override(e){Object.assign($g.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var YP={_date:$g};function JP(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,A=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?hH:ca;if(n){if(s._sharedOptions){const l=i[0],c=typeof l.getRange=="function"&&l.getRange(e);if(c){const f=u(i,e,r-c),m=u(i,e,r+c);return{lo:f.lo,hi:m.hi}}}}else{const l=u(i,e,r);if(A){const{vScale:c}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,l.lo+1).reverse().findIndex(b=>!kt(b[c.axis]));l.lo-=Math.max(0,m);const g=f.slice(l.hi).findIndex(b=>!kt(b[c.axis]));l.hi+=Math.max(0,g)}return l}}return{lo:0,hi:i.length-1}}function i0(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,A=i.length;o<A;++o){const{index:u,data:l}=i[o],{lo:c,hi:f}=JP(i[o],e,a,s);for(let m=c;m<=f;++m){const g=l[m];g.skip||n(g,u,m)}}}function ZP(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Ef(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||i0(t,r,e,function(o,A,u){!s&&!PA(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&i.push({element:o,datasetIndex:A,index:u})},!0),i}function ej(t,e,r,n){let s=[];function i(a,o,A){const{startAngle:u,endAngle:l}=a.getProps(["startAngle","endAngle"],n),{angle:c}=A6(a,{x:e.x,y:e.y});HA(c,u,l)&&s.push({element:a,datasetIndex:o,index:A})}return i0(t,r,e,i),s}function tj(t,e,r,n,s,i){let a=[];const o=ZP(r);let A=Number.POSITIVE_INFINITY;function u(l,c,f){const m=l.inRange(e.x,e.y,s);if(n&&!m)return;const g=l.getCenterPoint(s);if(!(!!i||t.isPointInArea(g))&&!m)return;const v=o(e,g);v<A?(a=[{element:l,datasetIndex:c,index:f}],A=v):v===A&&a.push({element:l,datasetIndex:c,index:f})}return i0(t,r,e,u),a}function Sf(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?ej(t,e,r,s):tj(t,e,r,n,s,i)}function Oy(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return i0(t,r,e,(A,u,l)=>{A[a]&&A[a](e[r],s)&&(i.push({element:A,datasetIndex:u,index:l}),o=o||A.inRange(e.x,e.y,s))}),n&&!o?[]:i}var rj={modes:{index(t,e,r,n){const s=ta(e,t),i=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Ef(t,s,i,n,a):Sf(t,s,i,!1,n,a),A=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const l=o[0].index,c=u.data[l];c&&!c.skip&&A.push({element:c,datasetIndex:u.index,index:l})}),A):[]},dataset(t,e,r,n){const s=ta(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Ef(t,s,i,n,a):Sf(t,s,i,!1,n,a);if(o.length>0){const A=o[0].datasetIndex,u=t.getDatasetMeta(A).data;o=[];for(let l=0;l<u.length;++l)o.push({element:u[l],datasetIndex:A,index:l})}return o},point(t,e,r,n){const s=ta(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Ef(t,s,i,n,a)},nearest(t,e,r,n){const s=ta(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Sf(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=ta(e,t);return Oy(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=ta(e,t);return Oy(t,s,"y",r.intersect,n)}}};const D6=["left","top","right","bottom"];function Zo(t,e){return t.filter(r=>r.pos===e)}function Ny(t,e){return t.filter(r=>D6.indexOf(r.pos)===-1&&r.box.axis===e)}function eA(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function nj(t){const e=[];let r,n,s,i,a,o;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function sj(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!D6.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function ij(t,e){const r=sj(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:A}=o.box,u=r[o.stack],l=u&&o.stackWeight/u.weight;o.horizontal?(o.width=l?l*n:A&&e.availableWidth,o.height=s):(o.width=n,o.height=l?l*s:A&&e.availableHeight)}return r}function aj(t){const e=nj(t),r=eA(e.filter(u=>u.box.fullSize),!0),n=eA(Zo(e,"left"),!0),s=eA(Zo(e,"right")),i=eA(Zo(e,"top"),!0),a=eA(Zo(e,"bottom")),o=Ny(e,"x"),A=Ny(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(A).concat(a).concat(o),chartArea:Zo(e,"chartArea"),vertical:n.concat(s).concat(A),horizontal:i.concat(a).concat(o)}}function Ly(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function k6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function oj(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!Ct(s)){r.size&&(t[s]-=r.size);const c=n[r.stack]||{size:0,count:1};c.size=Math.max(c.size,r.horizontal?i.height:i.width),r.size=c.size/c.count,t[s]+=r.size}i.getPadding&&k6(a,i.getPadding());const o=Math.max(0,e.outerWidth-Ly(a,t,"left","right")),A=Math.max(0,e.outerHeight-Ly(a,t,"top","bottom")),u=o!==t.w,l=A!==t.h;return t.w=o,t.h=A,r.horizontal?{same:u,other:l}:{same:l,other:u}}function Aj(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function uj(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function mA(t,e,r,n){const s=[];let i,a,o,A,u,l;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],A=o.box,A.update(o.width||e.w,o.height||e.h,uj(o.horizontal,e));const{same:c,other:f}=oj(e,r,o,n);u|=c&&s.length,l=l||f,A.fullSize||s.push(o)}return u&&mA(s,e,r,n)||l}function _l(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function Hy(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const o of t){const A=o.box,u=n[o.stack]||{placed:0,weight:1},l=o.stackWeight/u.weight||1;if(o.horizontal){const c=e.w*l,f=u.size||A.height;LA(u.start)&&(a=u.start),A.fullSize?_l(A,s.left,a,r.outerWidth-s.right-s.left,f):_l(A,e.left+u.placed,a,c,f),u.start=a,u.placed+=c,a=A.bottom}else{const c=e.h*l,f=u.size||A.width;LA(u.start)&&(i=u.start),A.fullSize?_l(A,i,s.top,f,r.outerHeight-s.bottom-s.top):_l(A,i,e.top+u.placed,f,c),u.start=i,u.placed+=c,i=A.right}}e.x=i,e.y=a}var kn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=Rn(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),o=aj(t.boxes),A=o.vertical,u=o.horizontal;Rt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const l=A.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,c=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/l,hBoxMaxHeight:a/2}),f=Object.assign({},s);k6(f,Rn(n));const m=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),g=ij(A.concat(u),c);mA(o.fullSize,m,c,g),mA(A,m,c,g),mA(u,m,c,g)&&mA(A,m,c,g),Aj(m),Hy(o.leftAndTop,m,c,g),m.x+=m.w,m.y+=m.h,Hy(o.rightAndBottom,m,c,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Rt(o.chartArea,b=>{const v=b.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class I6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class lj extends I6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const nc="$chartjs",cj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Py=t=>t===null||t==="";function dj(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[nc]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Py(s)){const i=Cy(t,"width");i!==void 0&&(t.width=i)}if(Py(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Cy(t,"height");i!==void 0&&(t.height=i)}return t}const _6=aP?{passive:!0}:!1;function hj(t,e,r){t&&t.addEventListener(e,r,_6)}function fj(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,_6)}function pj(t,e){const r=cj[t.type]||t.type,{x:n,y:s}=ta(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Tc(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function gj(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Tc(o.addedNodes,n),a=a&&!Tc(o.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function mj(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Tc(o.removedNodes,n),a=a&&!Tc(o.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const zA=new Map;let jy=0;function U6(){const t=window.devicePixelRatio;t!==jy&&(jy=t,zA.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function bj(t,e){zA.size||window.addEventListener("resize",U6),zA.set(t,e)}function wj(t){zA.delete(t),zA.size||window.removeEventListener("resize",U6)}function yj(t,e,r){const n=t.canvas,s=n&&Wg(n);if(!s)return;const i=d6((o,A)=>{const u=s.clientWidth;r(o,A),u<s.clientWidth&&r()},window),a=new ResizeObserver(o=>{const A=o[0],u=A.contentRect.width,l=A.contentRect.height;u===0&&l===0||i(u,l)});return a.observe(s),bj(t,i),a}function Tf(t,e,r){r&&r.disconnect(),e==="resize"&&wj(t)}function xj(t,e,r){const n=t.canvas,s=d6(i=>{t.ctx!==null&&r(pj(i,t))},t);return hj(n,e,s),s}class vj extends I6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(dj(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[nc])return!1;const n=r[nc].initial;["height","width"].forEach(i=>{const a=n[i];kt(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[nc],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:gj,detach:mj,resize:yj}[r]||xj;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:Tf,detach:Tf,resize:Tf}[r]||fj)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return iP(e,r,n,s)}isAttached(e){const r=e&&Wg(e);return!!(r&&r.isConnected)}}function Bj(t){return!Gg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lj:vj}class ai{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}function Cj(t,e){const r=t.options.ticks,n=Ej(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Tj(e):[],a=i.length,o=i[0],A=i[a-1],u=[];if(a>s)return Fj(e,u,i,a/s),u;const l=Sj(i,e,s);if(a>0){let c,f;const m=a>1?Math.round((A-o)/(a-1)):null;for(Ul(e,u,l,kt(m)?0:o-m,o),c=0,f=a-1;c<f;c++)Ul(e,u,l,i[c],i[c+1]);return Ul(e,u,l,A,kt(m)?e.length:A+m),u}return Ul(e,u,l),u}function Ej(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function Sj(t,e,r){const n=Dj(t),s=e.length/r;if(!n)return Math.max(s,1);const i=aH(n);for(let a=0,o=i.length-1;a<o;a++){const A=i[a];if(A>s)return A}return Math.max(s,1)}function Tj(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Fj(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function Ul(t,e,r,n,s){const i=pt(n,0),a=Math.min(pt(s,t.length),t.length);let o=0,A,u,l;for(r=Math.ceil(r),s&&(A=s-n,r=A/Math.floor(A/r)),l=i;l<0;)o++,l=Math.round(i+o*r);for(u=Math.max(i,0);u<a;u++)u===l&&(e.push(t[u]),o++,l=Math.round(i+o*r))}function Dj(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const kj=t=>t==="left"?"right":t==="right"?"left":t,zy=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Ky=(t,e)=>Math.min(e||t,t);function qy(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function Ij(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,o=1e-6;let A=t.getPixelForTick(s),u;if(!(r&&(n===1?u=Math.max(A-i,a-A):e===0?u=(t.getPixelForTick(1)-A)/2:u=(A-t.getPixelForTick(s-1))/2,A+=s<e?u:-u,A<i-o||A>a+o)))return A}function _j(t,e){Rt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function tA(t){return t.drawTicks?t.tickLength:0}function Vy(t,e){if(!t.display)return 0;const r=qr(t.font,e),n=Rn(t.padding);return(Br(t.text)?t.text.length:1)*r.lineHeight+n.height}function Uj(t,e){return Sa(t,{scale:e,type:"scale"})}function Mj(t,e,r){return Sa(t,{tick:r,index:e,type:"tick"})}function Qj(t,e,r){let n=Ng(t);return(r&&e!=="right"||!r&&e==="right")&&(n=kj(n)),n}function Rj(t,e,r,n){const{top:s,left:i,bottom:a,right:o,chart:A}=t,{chartArea:u,scales:l}=A;let c=0,f,m,g;const b=a-s,v=o-i;if(t.isHorizontal()){if(m=Pr(n,i,o),Ct(r)){const w=Object.keys(r)[0],B=r[w];g=l[w].getPixelForValue(B)+b-e}else r==="center"?g=(u.bottom+u.top)/2+b-e:g=zy(t,r,e);f=o-i}else{if(Ct(r)){const w=Object.keys(r)[0],B=r[w];m=l[w].getPixelForValue(B)-v+e}else r==="center"?m=(u.left+u.right)/2-v+e:m=zy(t,r,e);g=Pr(n,a,s),c=r==="left"?-Cr:Cr}return{titleX:m,titleY:g,maxWidth:f,rotation:c}}class ko extends ai{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=As(e,Number.POSITIVE_INFINITY),r=As(r,Number.NEGATIVE_INFINITY),n=As(n,Number.POSITIVE_INFINITY),s=As(s,Number.NEGATIVE_INFINITY),{min:As(e,n),max:As(r,s),minDefined:Qn(e),maxDefined:Qn(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let A=0,u=o.length;A<u;++A)a=o[A].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:As(r,As(n,r)),max:As(n,As(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=OH(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=o<this.ticks.length;this._convertTicksToLabels(A?qy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Cj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=Vt(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Ky(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,o,A,u;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const l=this._getLabelSizes(),c=l.widest.width,f=l.highest.height,m=Kr(this.chart.width-c,0,this.maxWidth);o=e.offset?this.maxWidth/n:m/(n-1),c+6>o&&(o=m/(n-(e.offset?.5:1)),A=this.maxHeight-tA(e.grid)-r.padding-Vy(e.title,this.chart.options.font),u=Math.sqrt(c*c+f*f),a=lH(Math.min(Math.asin(Kr((l.highest.height+6)/o,-1,1)),Math.asin(Kr(A/u,-1,1))-Math.asin(Kr(f/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const A=Vy(s,r.options.font);if(o?(e.width=this.maxWidth,e.height=tA(i)+A):(e.height=this.maxHeight,e.width=tA(i)+A),n.display&&this.ticks.length){const{first:u,last:l,widest:c,highest:f}=this._getLabelSizes(),m=n.padding*2,g=Ys(this.labelRotation),b=Math.cos(g),v=Math.sin(g);if(o){const w=n.mirror?0:v*c.width+b*f.height;e.height=Math.min(this.maxHeight,e.height+w+m)}else{const w=n.mirror?0:b*c.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+w+m)}this._calculatePadding(u,l,v,b)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:o}=this.options,A=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const l=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;A?u?(f=s*e.width,m=n*r.height):(f=n*e.height,m=s*r.width):i==="start"?m=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=r.width/2),this.paddingLeft=Math.max((f-l+a)*this.width/(this.width-l),0),this.paddingRight=Math.max((m-c+a)*this.width/(this.width-c),0)}else{let l=r.height/2,c=e.height/2;i==="start"?(l=0,c=e.height):i==="end"&&(l=r.height,c=0),this.paddingTop=l+a,this.paddingBottom=c+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)kt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=qy(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],A=Math.floor(r/Ky(r,n));let u=0,l=0,c,f,m,g,b,v,w,B,C,x,E;for(c=0;c<r;c+=A){if(g=e[c].label,b=this._resolveTickFontOptions(c),s.font=v=b.string,w=i[v]=i[v]||{data:{},gc:[]},B=b.lineHeight,C=x=0,!kt(g)&&!Br(g))C=wy(s,w.data,w.gc,C,g),x=B;else if(Br(g))for(f=0,m=g.length;f<m;++f)E=g[f],!kt(E)&&!Br(E)&&(C=wy(s,w.data,w.gc,C,E),x+=B);a.push(C),o.push(x),u=Math.max(C,u),l=Math.max(x,l)}_j(i,r);const D=a.indexOf(u),_=o.indexOf(l),L=I=>({width:a[I]||0,height:o[I]||0});return{first:L(0),last:L(r-1),widest:L(D),highest:L(_),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return dH(this._alignToPixels?Ji(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Mj(this.getContext(),e,n))}return this.$context||(this.$context=Uj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ys(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,A=i?i.highest.height+a:0;return this.isHorizontal()?A*n>o*s?o/n:A/s:A*s<o*n?A/n:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:o}=s,A=i.offset,u=this.isHorizontal(),c=this.ticks.length+(A?1:0),f=tA(i),m=[],g=o.setContext(this.getContext()),b=g.display?g.width:0,v=b/2,w=function(J){return Ji(n,J,b)};let B,C,x,E,D,_,L,I,G,W,Q,j;if(a==="top")B=w(this.bottom),_=this.bottom-f,I=B-v,W=w(e.top)+v,j=e.bottom;else if(a==="bottom")B=w(this.top),W=e.top,j=w(e.bottom)-v,_=B+v,I=this.top+f;else if(a==="left")B=w(this.right),D=this.right-f,L=B-v,G=w(e.left)+v,Q=e.right;else if(a==="right")B=w(this.left),G=e.left,Q=w(e.right)-v,D=B+v,L=this.left+f;else if(r==="x"){if(a==="center")B=w((e.top+e.bottom)/2+.5);else if(Ct(a)){const J=Object.keys(a)[0],Y=a[J];B=w(this.chart.scales[J].getPixelForValue(Y))}W=e.top,j=e.bottom,_=B+v,I=_+f}else if(r==="y"){if(a==="center")B=w((e.left+e.right)/2);else if(Ct(a)){const J=Object.keys(a)[0],Y=a[J];B=w(this.chart.scales[J].getPixelForValue(Y))}D=B-v,L=D-f,G=e.left,Q=e.right}const T=pt(s.ticks.maxTicksLimit,c),V=Math.max(1,Math.ceil(c/T));for(C=0;C<c;C+=V){const J=this.getContext(C),Y=i.setContext(J),oe=o.setContext(J),re=Y.lineWidth,pe=Y.color,te=oe.dash||[],$=oe.dashOffset,he=Y.tickWidth,me=Y.tickColor,ye=Y.tickBorderDash||[],ce=Y.tickBorderDashOffset;x=Ij(this,C,A),x!==void 0&&(E=Ji(n,x,re),u?D=L=G=Q=E:_=I=W=j=E,m.push({tx1:D,ty1:_,tx2:L,ty2:I,x1:G,y1:W,x2:Q,y2:j,width:re,color:pe,borderDash:te,borderDashOffset:$,tickWidth:he,tickColor:me,tickBorderDash:ye,tickBorderDashOffset:ce}))}return this._ticksLength=c,this._borderValue=B,m}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:A,crossAlign:u,padding:l,mirror:c}=i,f=tA(n.grid),m=f+l,g=c?-l:m,b=-Ys(this.labelRotation),v=[];let w,B,C,x,E,D,_,L,I,G,W,Q,j="middle";if(s==="top")D=this.bottom-g,_=this._getXAxisLabelAlignment();else if(s==="bottom")D=this.top+g,_=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(f);_=V.textAlign,E=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(f);_=V.textAlign,E=V.x}else if(r==="x"){if(s==="center")D=(e.top+e.bottom)/2+m;else if(Ct(s)){const V=Object.keys(s)[0],J=s[V];D=this.chart.scales[V].getPixelForValue(J)+m}_=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")E=(e.left+e.right)/2-m;else if(Ct(s)){const V=Object.keys(s)[0],J=s[V];E=this.chart.scales[V].getPixelForValue(J)}_=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(A==="start"?j="top":A==="end"&&(j="bottom"));const T=this._getLabelSizes();for(w=0,B=o.length;w<B;++w){C=o[w],x=C.label;const V=i.setContext(this.getContext(w));L=this.getPixelForTick(w)+i.labelOffset,I=this._resolveTickFontOptions(w),G=I.lineHeight,W=Br(x)?x.length:1;const J=W/2,Y=V.color,oe=V.textStrokeColor,re=V.textStrokeWidth;let pe=_;a?(E=L,_==="inner"&&(w===B-1?pe=this.options.reverse?"left":"right":w===0?pe=this.options.reverse?"right":"left":pe="center"),s==="top"?u==="near"||b!==0?Q=-W*G+G/2:u==="center"?Q=-T.highest.height/2-J*G+G:Q=-T.highest.height+G/2:u==="near"||b!==0?Q=G/2:u==="center"?Q=T.highest.height/2-J*G:Q=T.highest.height-W*G,c&&(Q*=-1),b!==0&&!V.showLabelBackdrop&&(E+=G/2*Math.sin(b))):(D=L,Q=(1-W)*G/2);let te;if(V.showLabelBackdrop){const $=Rn(V.backdropPadding),he=T.heights[w],me=T.widths[w];let ye=Q-$.top,ce=0-$.left;switch(j){case"middle":ye-=he/2;break;case"bottom":ye-=he;break}switch(_){case"center":ce-=me/2;break;case"right":ce-=me;break;case"inner":w===B-1?ce-=me:w>0&&(ce-=me/2);break}te={left:ce,top:ye,width:me+$.width,height:he+$.height,color:V.backdropColor}}v.push({label:x,font:I,textOffset:Q,options:{rotation:b,color:Y,strokeColor:oe,strokeWidth:re,textAlign:pe,textBaseline:j,translation:[E,D],backdrop:te}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ys(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,A=a.widest.width;let u,l;return r==="left"?s?(l=this.right+i,n==="near"?u="left":n==="center"?(u="center",l+=A/2):(u="right",l+=A)):(l=this.right-o,n==="near"?u="right":n==="center"?(u="center",l-=A/2):(u="left",l=this.left)):r==="right"?s?(l=this.left+i,n==="near"?u="right":n==="center"?(u="center",l-=A/2):(u="left",l-=A)):(l=this.left+o,n==="near"?u="left":n==="center"?(u="center",l+=A/2):(u="right",l=this.right)):u="right",{textAlign:u,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(A,u,l)=>{!l.width||!l.color||(n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.setLineDash(l.borderDash||[]),n.lineDashOffset=l.borderDashOffset,n.beginPath(),n.moveTo(A.x,A.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const A=s[i];r.drawOnChartArea&&o({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),r.drawTicks&&o({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,A=this._borderValue;let u,l,c,f;this.isHorizontal()?(u=Ji(e,this.left,a)-a/2,l=Ji(e,this.right,o)+o/2,c=f=A):(c=Ji(e,this.top,a)-a/2,f=Ji(e,this.bottom,o)+o/2,u=l=A),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,c),r.lineTo(l,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Pg(n,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,A=a.font,u=a.label,l=a.textOffset;jA(n,u,0,l,A,o)}s&&jg(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=qr(n.font),a=Rn(n.padding),o=n.align;let A=i.lineHeight/2;r==="bottom"||r==="center"||Ct(r)?(A+=a.bottom,Br(n.text)&&(A+=i.lineHeight*(n.text.length-1))):A+=a.top;const{titleX:u,titleY:l,maxWidth:c,rotation:f}=Rj(this,A,r,o);jA(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:f,textAlign:Qj(o,r,s),textBaseline:"middle",translation:[u,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=pt(e.grid&&e.grid.z,-1),s=pt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ko.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const o=r[i];o[n]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return qr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ml{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;Lj(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,Oj(e,a,n),this.override&&dr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in dr[s]&&(delete dr[s][n],this.override&&delete Ba[n])}}function Oj(t,e,r){const n=NA(Object.create(null),[r?dr.get(r):{},dr.get(e),t.defaults]);dr.set(e,n),t.defaultRoutes&&Nj(e,t.defaultRoutes),t.descriptors&&dr.describe(e,t.descriptors)}function Nj(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),A=a.join(".");dr.route(i,s,A,o)})}function Lj(t){return"id"in t&&"defaults"in t}class Hj{constructor(){this.controllers=new Ml(cu,"datasets",!0),this.elements=new Ml(ai,"elements"),this.plugins=new Ml(Object,"plugins"),this.scales=new Ml(ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Rt(s,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const s=Rg(e);Vt(n["before"+s],[],n),r[e](n),Vt(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var ls=new Hj;class Pj{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,o=a[n],A=[r,s,i.options];if(Vt(o,A,a)===!1&&s.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=pt(n.options&&n.options.plugins,{}),i=jj(n);return s===!1&&!r?[]:Kj(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(o=>!a.some(A=>o.plugin.id===A.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function jj(t){const e={},r=[],n=Object.keys(ls.plugins.items);for(let i=0;i<n.length;i++)r.push(ls.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function zj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Kj(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const o of e){const A=o.id,u=zj(n[A],s);u!==null&&i.push({plugin:o,options:qj(t.config,{plugin:o,local:r[A]},u,a)})}return i}function qj(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fp(t,e){const r=dr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Vj(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Gj(t,e){return t===e?"_index_":"_value_"}function Gy(t){if(t==="x"||t==="y"||t==="r")return t}function Wj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Dp(t,...e){if(Gy(t))return t;for(const r of e){const n=r.axis||Wj(r.position)||t.length>1&&Gy(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Wy(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function $j(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Wy(t,"x",r[0])||Wy(t,"y",r[0])}return{}}function Xj(t,e){const r=Ba[t.type]||{scales:{}},n=e.scales||{},s=Fp(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Ct(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const A=Dp(a,o,$j(a,t),dr.scales[o.type]),u=Gj(A,s),l=r.scales||{};i[a]=FA(Object.create(null),[{axis:A},o,l[A],l[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,A=a.indexAxis||Fp(o,e),l=(Ba[o]||{}).scales||{};Object.keys(l).forEach(c=>{const f=Vj(c,A),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),FA(i[m],[{axis:f},n[m],l[c]])})}),Object.keys(i).forEach(a=>{const o=i[a];FA(o,[dr.scales[o.type],dr.scale])}),i}function M6(t){const e=t.options||(t.options={});e.plugins=pt(e.plugins,{}),e.scales=Xj(t,e)}function Q6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Yj(t){return t=t||{},t.data=Q6(t.data),M6(t),t}const $y=new Map,R6=new Set;function Ql(t,e){let r=$y.get(t);return r||(r=e(),$y.set(t,r),R6.add(r)),r}const rA=(t,e,r)=>{const n=va(e,r);n!==void 0&&t.add(n)};class Jj{constructor(e){this._config=Yj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Q6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),M6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ql(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Ql(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Ql(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Ql(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const A=new Set;r.forEach(l=>{e&&(A.add(e),l.forEach(c=>rA(A,e,c))),l.forEach(c=>rA(A,s,c)),l.forEach(c=>rA(A,Ba[i]||{},c)),l.forEach(c=>rA(A,dr,c)),l.forEach(c=>rA(A,Sp,c))});const u=Array.from(A);return u.length===0&&u.push(Object.create(null)),R6.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Ba[r]||{},dr.datasets[r]||{},{type:r},dr,Sp]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=Xy(this._resolverCache,e,s);let A=a;if(ez(a,r)){i.$shared=!1,n=Ui(n)?n():n;const u=this.createResolver(e,n,o);A=wo(a,n,u)}for(const u of r)i[u]=A[u];return i}createResolver(e,r,n=[""],s){const{resolver:i}=Xy(this._resolverCache,e,n);return Ct(r)?wo(i,r,void 0,s):i}}function Xy(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Kg(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(s,i)),i}const Zj=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>Ui(t[e]));function ez(t,e){const{isScriptable:r,isIndexable:n}=b6(t);for(const s of e){const i=r(s),a=n(s),o=(a||i)&&t[s];if(i&&(Ui(o)||Zj(o))||a&&Br(o))return!0}return!1}var tz="4.4.9";const rz=["top","bottom","left","right","chartArea"];function Yy(t,e){return t==="top"||t==="bottom"||rz.indexOf(t)===-1&&e==="x"}function Jy(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Zy(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Vt(r&&r.onComplete,[t],e)}function nz(t){const e=t.chart,r=e.options.animation;Vt(r&&r.onProgress,[t],e)}function O6(t){return Gg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const sc={},e3=t=>{const e=O6(t);return Object.values(sc).filter(r=>r.canvas===e).pop()};function sz(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function iz(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}let a0=class{static defaults=dr;static instances=sc;static overrides=Ba;static registry=ls;static version=tz;static getChart=e3;static register(...e){ls.add(...e),t3()}static unregister(...e){ls.remove(...e),t3()}constructor(e,r){const n=this.config=new Jj(r),s=O6(e),i=e3(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Bj(s)),this.platform.updateConfig(n);const o=this.platform.acquireContext(s,a.aspectRatio),A=o&&o.canvas,u=A&&A.height,l=A&&A.width;if(this.id=YL(),this.ctx=o,this.canvas=A,this.width=l,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gH(c=>this.update(c),a.resizeDelay||0),this._dataChanges=[],sc[this.id]=this,!o||!A){console.error("Failed to create chart: can't acquire context from the given item");return}zs.listen(this,"complete",Zy),zs.listen(this,"progress",nz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return kt(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ls}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():By(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yy(this.canvas,this.ctx),this}stop(){return zs.stop(this),this}resize(e,r){zs.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,By(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Vt(n.onResize,[this,a],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Rt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const o=r[a],A=Dp(a,o),u=A==="r",l=A==="x";return{options:o,dposition:u?"chartArea":l?"bottom":"left",dtype:u?"radialLinear":l?"category":"linear"}}))),Rt(i,a=>{const o=a.options,A=o.id,u=Dp(A,o),l=pt(o.type,a.dtype);(o.position===void 0||Yy(o.position,u)!==Yy(a.dposition))&&(o.position=a.dposition),s[A]=!0;let c=null;if(A in n&&n[A].type===l)c=n[A];else{const f=ls.getScale(l);c=new f({id:A,type:l,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(o,e)}),Rt(s,(a,o)=>{a||delete n[o]}),Rt(n,a=>{kn.configure(this,a,a.options),kn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Jy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=i.indexAxis||Fp(o,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const A=ls.getController(o),{datasetElementType:u,dataElementType:l}=dr.datasets[o];Object.assign(A,{dataElementType:ls.getElement(l),datasetElementType:u&&ls.getElement(u)}),a.controller=new A(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Rt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,l=this.data.datasets.length;u<l;u++){const{controller:c}=this.getDatasetMeta(u),f=!s&&i.indexOf(c)===-1;c.buildOrUpdateElements(f),a=Math.max(+c.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Rt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jy("z","_idx"));const{_active:o,_lastEvent:A}=this;A?this._eventHandler(A,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Rt(this.scales,e=>{kn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ly(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;sz(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!ly(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Rt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ui(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zs.has(this)?this.attached&&!zs.running(this)&&zs.start(this):(this.draw(),Zy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=yP(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Pg(r,s),e.controller.draw(),s&&jg(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return PA(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=rj.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Sa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);LA(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),zs.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yy(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete sc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Rt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(A,u)=>{r.addEventListener(this,A,u),e[A]=u},s=(A,u)=>{e[A]&&(r.removeEventListener(this,A,u),delete e[A])},i=(A,u)=>{this.canvas&&this.resize(A,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Rt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Rt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,o,A;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,A=e.length;o<A;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!vc(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(A,u)=>A.filter(l=>!u.some(c=>l.datasetIndex===c.datasetIndex&&l.index===c.index)),a=i(r,e),o=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,o=this._getActiveElements(e,s,n,a),A=nH(e),u=iz(e,this._lastEvent,n,A);n&&(this._lastEvent=null,Vt(i.onHover,[e,o,this],this),A&&Vt(i.onClick,[e,o,this],this));const l=!vc(o,s);return(l||r)&&(this._active=o,this._updateHoverStyles(o,s,r)),this._lastEvent=u,l}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function t3(){return Rt(a0.instances,t=>t._plugins.invalidate())}function az(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:A}=e;let u=s/o;t.beginPath(),t.arc(i,a,o,n-u,r+u),A>s?(u=s/A,t.arc(i,a,A,r+u,n-u,!0)):t.arc(i,a,s,r+Cr,n-Cr),t.closePath(),t.clip()}function oz(t){return zg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Az(t,e,r,n){const s=oz(t.options.borderRadius),i=(r-e)/2,a=Math.min(i,n*e/2),o=A=>{const u=(r-Math.min(i,A))*n/2;return Kr(A,0,Math.min(i,u))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Kr(s.innerStart,0,a),innerEnd:Kr(s.innerEnd,0,a)}}function Va(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Fc(t,e,r,n,s,i){const{x:a,y:o,startAngle:A,pixelMargin:u,innerRadius:l}=e,c=Math.max(e.outerRadius+n+r-u,0),f=l>0?l+n+r+u:0;let m=0;const g=s-A;if(n){const V=l>0?l-n:0,J=c>0?c-n:0,Y=(V+J)/2,oe=Y!==0?g*Y/(Y+n):g;m=(g-oe)/2}const b=Math.max(.001,g*c-r/ar)/c,v=(g-b)/2,w=A+v+m,B=s-v-m,{outerStart:C,outerEnd:x,innerStart:E,innerEnd:D}=Az(e,f,c,B-w),_=c-C,L=c-x,I=w+C/_,G=B-x/L,W=f+E,Q=f+D,j=w+E/W,T=B-D/Q;if(t.beginPath(),i){const V=(I+G)/2;if(t.arc(a,o,c,I,V),t.arc(a,o,c,V,G),x>0){const re=Va(L,G,a,o);t.arc(re.x,re.y,x,G,B+Cr)}const J=Va(Q,B,a,o);if(t.lineTo(J.x,J.y),D>0){const re=Va(Q,T,a,o);t.arc(re.x,re.y,D,B+Cr,T+Math.PI)}const Y=(B-D/f+(w+E/f))/2;if(t.arc(a,o,f,B-D/f,Y,!0),t.arc(a,o,f,Y,w+E/f,!0),E>0){const re=Va(W,j,a,o);t.arc(re.x,re.y,E,j+Math.PI,w-Cr)}const oe=Va(_,w,a,o);if(t.lineTo(oe.x,oe.y),C>0){const re=Va(_,I,a,o);t.arc(re.x,re.y,C,w-Cr,I)}}else{t.moveTo(a,o);const V=Math.cos(I)*c+a,J=Math.sin(I)*c+o;t.lineTo(V,J);const Y=Math.cos(G)*c+a,oe=Math.sin(G)*c+o;t.lineTo(Y,oe)}t.closePath()}function uz(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let A=e.endAngle;if(i){Fc(t,e,r,n,A,s);for(let u=0;u<i;++u)t.fill();isNaN(o)||(A=a+(o%ir||ir))}return Fc(t,e,r,n,A,s),t.fill(),A}function lz(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:o,options:A}=e,{borderWidth:u,borderJoinStyle:l,borderDash:c,borderDashOffset:f}=A,m=A.borderAlign==="inner";if(!u)return;t.setLineDash(c||[]),t.lineDashOffset=f,m?(t.lineWidth=u*2,t.lineJoin=l||"round"):(t.lineWidth=u,t.lineJoin=l||"bevel");let g=e.endAngle;if(i){Fc(t,e,r,n,g,s);for(let b=0;b<i;++b)t.stroke();isNaN(o)||(g=a+(o%ir||ir))}m&&az(t,e,g),i||(Fc(t,e,r,n,g,s),t.stroke())}class cz extends ai{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,n){const s=this.getProps(["x","y"],n),{angle:i,distance:a}=A6(s,{x:e,y:r}),{startAngle:o,endAngle:A,innerRadius:u,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=pt(c,A-o),g=HA(i,o,A)&&o!==A,b=m>=ir||g,v=Bi(a,u+f,l+f);return b&&v}getCenterPoint(e){const{x:r,y:n,startAngle:s,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:A,spacing:u}=this.options,l=(s+i)/2,c=(a+o+u+A)/2;return{x:r+Math.cos(l)*c,y:n+Math.sin(l)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:n}=this,s=(r.offset||0)/4,i=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>ir?Math.floor(n/ir):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*s,Math.sin(o)*s);const A=1-Math.sin(Math.min(ar,n||0)),u=s*A;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,uz(e,this,u,i,a),lz(e,this,u,i,a),e.restore()}}function N6(t,e,r=e){t.lineCap=pt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(pt(r.borderDash,e.borderDash)),t.lineDashOffset=pt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=pt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pt(r.borderWidth,e.borderWidth),t.strokeStyle=pt(r.borderColor,e.borderColor)}function dz(t,e,r){t.lineTo(r.x,r.y)}function hz(t){return t.stepped?FH:t.tension||t.cubicInterpolationMode==="monotone"?DH:dz}function L6(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:o}=e,A=Math.max(s,a),u=Math.min(i,o),l=s<a&&i<a||s>o&&i>o;return{count:n,start:A,loop:e.loop,ilen:u<A&&!l?n+u-A:u-A}}function fz(t,e,r,n){const{points:s,options:i}=e,{count:a,start:o,loop:A,ilen:u}=L6(s,r,n),l=hz(i);let{move:c=!0,reverse:f}=n||{},m,g,b;for(m=0;m<=u;++m)g=s[(o+(f?u-m:m))%a],!g.skip&&(c?(t.moveTo(g.x,g.y),c=!1):l(t,b,g,f,i.stepped),b=g);return A&&(g=s[(o+(f?u:0))%a],l(t,b,g,f,i.stepped)),!!A}function pz(t,e,r,n){const s=e.points,{count:i,start:a,ilen:o}=L6(s,r,n),{move:A=!0,reverse:u}=n||{};let l=0,c=0,f,m,g,b,v,w;const B=x=>(a+(u?o-x:x))%i,C=()=>{b!==v&&(t.lineTo(l,v),t.lineTo(l,b),t.lineTo(l,w))};for(A&&(m=s[B(0)],t.moveTo(m.x,m.y)),f=0;f<=o;++f){if(m=s[B(f)],m.skip)continue;const x=m.x,E=m.y,D=x|0;D===g?(E<b?b=E:E>v&&(v=E),l=(c*l+x)/++c):(C(),t.lineTo(x,E),g=D,c=0,b=v=E),w=E}C()}function kp(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?pz:fz}function gz(t){return t.stepped?oP:t.tension||t.cubicInterpolationMode==="monotone"?AP:ra}function mz(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),N6(t,e.options),t.stroke(s)}function bz(t,e,r,n){const{segments:s,options:i}=e,a=kp(e);for(const o of s)N6(t,i,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const wz=typeof Path2D=="function";function yz(t,e,r,n){wz&&!e.options.segment?mz(t,e,r,n):bz(t,e,r,n)}class xz extends ai{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;ZH(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gP(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=hP(this,{property:r,start:s,end:s});if(!a.length)return;const o=[],A=gz(n);let u,l;for(u=0,l=a.length;u<l;++u){const{start:c,end:f}=a[u],m=i[c],g=i[f];if(m===g){o.push(m);continue}const b=Math.abs((s-m[r])/(g[r]-m[r])),v=A(m,g,b,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return kp(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=kp(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of s)a&=i(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),yz(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function r3(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class vz extends ai{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,r){return r3(this,e,"x",r)}inYRange(e,r){return r3(this,e,"y",r)}getCenterPoint(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const n=r&&e.borderWidth||0;return(r+n)*2}draw(e,r){const n=this.options;this.skip||n.radius<.1||!PA(this,r,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Tp(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function H6(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,A,u,l,c;return t.horizontal?(c=a/2,o=Math.min(r,s),A=Math.max(r,s),u=n-c,l=n+c):(c=i/2,o=r-c,A=r+c,u=Math.min(n,s),l=Math.max(n,s)),{left:o,top:u,right:A,bottom:l}}function Ci(t,e,r,n){return t?0:Kr(e,r,n)}function Bz(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=m6(n);return{t:Ci(s.top,i.top,0,r),r:Ci(s.right,i.right,0,e),b:Ci(s.bottom,i.bottom,0,r),l:Ci(s.left,i.left,0,e)}}function Cz(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=oo(s),a=Math.min(e,r),o=t.borderSkipped,A=n||Ct(s);return{topLeft:Ci(!A||o.top||o.left,i.topLeft,0,a),topRight:Ci(!A||o.top||o.right,i.topRight,0,a),bottomLeft:Ci(!A||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Ci(!A||o.bottom||o.right,i.bottomRight,0,a)}}function Ez(t){const e=H6(t),r=e.right-e.left,n=e.bottom-e.top,s=Bz(t,r/2,n/2),i=Cz(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Ff(t,e,r,n){const s=e===null,i=r===null,o=t&&!(s&&i)&&H6(t,n);return o&&(s||Bi(e,o.left,o.right))&&(i||Bi(r,o.top,o.bottom))}function Sz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Tz(t,e){t.rect(e.x,e.y,e.w,e.h)}function Df(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Fz extends ai{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=Ez(this),o=Sz(a.radius)?Ec:Tz;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Df(a,r,i)),e.clip(),o(e,Df(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Df(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return Ff(this,e,r,n)}inXRange(e,r){return Ff(this,e,null,r)}inYRange(e,r){return Ff(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const n3=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Dz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class s3 extends ai{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=qr(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:A}=n3(n,i);let u,l;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,l=this._fitRows(a,i,o,A)+10):(l=this.maxHeight,u=this._fitCols(a,s,o,A)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,A=this.legendHitBoxes=[],u=this.lineWidths=[0],l=s+o;let c=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-l;return this.legendItems.forEach((g,b)=>{const v=n+r/2+i.measureText(g.text).width;(b===0||u[u.length-1]+v+2*o>a)&&(c+=l,u[u.length-(b>0?0:1)]=0,m+=l,f++),A[b]={left:0,top:m,row:f,width:v,height:s},u[u.length-1]+=v+o}),c}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,A=this.legendHitBoxes=[],u=this.columnSizes=[],l=a-e;let c=o,f=0,m=0,g=0,b=0;return this.legendItems.forEach((v,w)=>{const{itemWidth:B,itemHeight:C}=kz(n,r,i,v,s);w>0&&m+C+2*o>l&&(c+=f+o,u.push({width:f,height:m}),g+=f+o,b++,f=m=0),A[w]={left:g,top:m,col:b,width:B,height:C},f=Math.max(f,B),m+=C+o}),c+=f,u.push({width:f,height:m}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Ao(i,this.left,this.width);if(this.isHorizontal()){let o=0,A=Pr(n,this.left+s,this.right-this.lineWidths[o]);for(const u of r)o!==u.row&&(o=u.row,A=Pr(n,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(A),u.width),A+=u.width+s}else{let o=0,A=Pr(n,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of r)u.col!==o&&(o=u.col,A=Pr(n,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=A,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),A+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pg(e,this),this._draw(),jg(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,o=dr.color,A=Ao(e.rtl,this.left,this.width),u=qr(a.font),{padding:l}=a,c=u.size,f=c/2;let m;this.drawTitle(),s.textAlign=A.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:g,boxHeight:b,itemHeight:v}=n3(a,c),w=function(D,_,L){if(isNaN(g)||g<=0||isNaN(b)||b<0)return;s.save();const I=pt(L.lineWidth,1);if(s.fillStyle=pt(L.fillStyle,o),s.lineCap=pt(L.lineCap,"butt"),s.lineDashOffset=pt(L.lineDashOffset,0),s.lineJoin=pt(L.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=pt(L.strokeStyle,o),s.setLineDash(pt(L.lineDash,[])),a.usePointStyle){const G={radius:b*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:I},W=A.xPlus(D,g/2),Q=_+f;g6(s,G,W,Q,a.pointStyleWidth&&g)}else{const G=_+Math.max((c-b)/2,0),W=A.leftForLtr(D,g),Q=oo(L.borderRadius);s.beginPath(),Object.values(Q).some(j=>j!==0)?Ec(s,{x:W,y:G,w:g,h:b,radius:Q}):s.rect(W,G,g,b),s.fill(),I!==0&&s.stroke()}s.restore()},B=function(D,_,L){jA(s,L.text,D,_+v/2,u,{strikethrough:L.hidden,textAlign:A.textAlign(L.textAlign)})},C=this.isHorizontal(),x=this._computeTitleHeight();C?m={x:Pr(i,this.left+l,this.right-n[0]),y:this.top+l+x,line:0}:m={x:this.left+l,y:Pr(i,this.top+x+l,this.bottom-r[0].height),line:0},B6(this.ctx,e.textDirection);const E=v+l;this.legendItems.forEach((D,_)=>{s.strokeStyle=D.fontColor,s.fillStyle=D.fontColor;const L=s.measureText(D.text).width,I=A.textAlign(D.textAlign||(D.textAlign=a.textAlign)),G=g+f+L;let W=m.x,Q=m.y;A.setWidth(this.width),C?_>0&&W+G+l>this.right&&(Q=m.y+=E,m.line++,W=m.x=Pr(i,this.left+l,this.right-n[m.line])):_>0&&Q+E>this.bottom&&(W=m.x=W+r[m.line].width+l,m.line++,Q=m.y=Pr(i,this.top+x+l,this.bottom-r[m.line].height));const j=A.x(W);if(w(j,Q,D),W=mH(I,W+g+f,C?W+G:this.right,e.rtl),B(A.x(W),Q,D),C)m.x+=G+l;else if(typeof D.text!="string"){const T=u.lineHeight;m.y+=P6(D,T)+l}else m.y+=E}),C6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=qr(r.font),s=Rn(r.padding);if(!r.display)return;const i=Ao(e.rtl,this.left,this.width),a=this.ctx,o=r.position,A=n.size/2,u=s.top+A;let l,c=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),l=this.top+u,c=Pr(e.align,c,this.right-f);else{const g=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);l=u+Pr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Pr(o,c,c+f);a.textAlign=i.textAlign(Ng(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,jA(a,r.text,m,l,n)}_computeTitleHeight(){const e=this.options.title,r=qr(e.font),n=Rn(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(Bi(e,this.left,this.right)&&Bi(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Bi(e,s.left,s.left+s.width)&&Bi(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Uz(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Dz(s,n);s&&!i&&Vt(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&Vt(r.onHover,[e,n,this],this)}else n&&Vt(r.onClick,[e,n,this],this)}}function kz(t,e,r,n,s){const i=Iz(n,t,e,r),a=_z(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Iz(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function _z(t,e,r){let n=t;return typeof e.text!="string"&&(n=P6(e,r)),n}function P6(t,e){const r=t.text?t.text.length:0;return e*r}function Uz(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Mz={id:"legend",_element:s3,start(t,e,r){const n=t.legend=new s3({ctx:t.ctx,options:r,chart:t});kn.configure(t,n,r),kn.addBox(t,n)},stop(t){kn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;kn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(A=>{const u=A.controller.getStyle(r?0:void 0),l=Rn(u.borderWidth);return{text:e[A.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!A.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:A.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class j6 extends ai{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=Br(n.text)?n.text.length:1;this._padding=Rn(n.padding);const i=s*qr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:a}=this,o=a.align;let A=0,u,l,c;return this.isHorizontal()?(l=Pr(o,n,i),c=r+e,u=i-n):(a.position==="left"?(l=n+e,c=Pr(o,s,r),A=ar*-.5):(l=i-e,c=Pr(o,r,s),A=ar*.5),u=s-r),{titleX:l,titleY:c,maxWidth:u,rotation:A}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=qr(r.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:A,rotation:u}=this._drawArgs(i);jA(e,r.text,0,0,n,{color:r.color,maxWidth:A,rotation:u,textAlign:Ng(r.align),textBaseline:"middle",translation:[a,o]})}}function Qz(t,e){const r=new j6({ctx:t.ctx,options:e,chart:t});kn.configure(t,r,e),kn.addBox(t,r),t.titleBlock=r}var Rz={id:"title",_element:j6,start(t,e,r){Qz(t,r)},stop(t){const e=t.titleBlock;kn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;kn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bA={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const A=o.tooltipPosition();n.add(A.x),s+=A.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,A)=>o+A)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const A=t[i].element;if(A&&A.hasValue()){const u=A.getCenterPoint(),l=Ep(e,u);l<s&&(s=l,o=A)}}if(o){const A=o.tooltipPosition();r=A.x,n=A.y}return{x:r,y:n}}};function us(t,e){return e&&(Br(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ks(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Oz(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function i3(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,A=qr(e.bodyFont),u=qr(e.titleFont),l=qr(e.footerFont),c=i.length,f=s.length,m=n.length,g=Rn(e.padding);let b=g.height,v=0,w=n.reduce((x,E)=>x+E.before.length+E.lines.length+E.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,c&&(b+=c*u.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),w){const x=e.displayColors?Math.max(o,A.lineHeight):A.lineHeight;b+=m*x+(w-m)*A.lineHeight+(w-1)*e.bodySpacing}f&&(b+=e.footerMarginTop+f*l.lineHeight+(f-1)*e.footerSpacing);let B=0;const C=function(x){v=Math.max(v,r.measureText(x).width+B)};return r.save(),r.font=u.string,Rt(t.title,C),r.font=A.string,Rt(t.beforeBody.concat(t.afterBody),C),B=e.displayColors?a+2+e.boxPadding:0,Rt(n,x=>{Rt(x.before,C),Rt(x.lines,C),Rt(x.after,C)}),B=0,r.font=l.string,Rt(t.footer,C),r.restore(),v+=g.width,{width:v,height:b}}function Nz(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Lz(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function Hz(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:o,right:A}}=t;let u="center";return n==="center"?u=s<=(o+A)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),Lz(u,t,e,r)&&(u="center"),u}function a3(t,e,r){const n=r.yAlign||e.yAlign||Nz(t,r);return{xAlign:r.xAlign||e.xAlign||Hz(t,e,r,n),yAlign:n}}function Pz(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function jz(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function o3(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:A}=r,u=s+i,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:m}=oo(a);let g=Pz(e,o);const b=jz(e,A,u);return A==="center"?o==="left"?g+=u:o==="right"&&(g-=u):o==="left"?g-=Math.max(l,f)+s:o==="right"&&(g+=Math.max(c,m)+s),{x:Kr(g,0,n.width-e.width),y:Kr(b,0,n.height-e.height)}}function Rl(t,e,r){const n=Rn(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function A3(t){return us([],Ks(t))}function zz(t,e,r){return Sa(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function u3(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const z6={beforeTitle:js,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:js,beforeBody:js,beforeLabel:js,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return kt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:js,afterBody:js,beforeFooter:js,footer:js,afterFooter:js};function tn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?z6[e].call(r,n):s}class l3 extends ai{static positioners=bA;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new S6(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=zz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=tn(n,"beforeTitle",this,e),i=tn(n,"title",this,e),a=tn(n,"afterTitle",this,e);let o=[];return o=us(o,Ks(s)),o=us(o,Ks(i)),o=us(o,Ks(a)),o}getBeforeBody(e,r){return A3(tn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Rt(e,i=>{const a={before:[],lines:[],after:[]},o=u3(n,i);us(a.before,Ks(tn(o,"beforeLabel",this,i))),us(a.lines,tn(o,"label",this,i)),us(a.after,Ks(tn(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return A3(tn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=tn(n,"beforeFooter",this,e),i=tn(n,"footer",this,e),a=tn(n,"afterFooter",this,e);let o=[];return o=us(o,Ks(s)),o=us(o,Ks(i)),o=us(o,Ks(a)),o}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let o=[],A,u;for(A=0,u=r.length;A<u;++A)o.push(Oz(this.chart,r[A]));return e.filter&&(o=o.filter((l,c,f)=>e.filter(l,c,f,n))),e.itemSort&&(o=o.sort((l,c)=>e.itemSort(l,c,n))),Rt(o,l=>{const c=u3(e.callbacks,l);s.push(tn(c,"labelColor",this,l)),i.push(tn(c,"labelPointStyle",this,l)),a.push(tn(c,"labelTextColor",this,l))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=bA[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const A=this._size=i3(this,n),u=Object.assign({},o,A),l=a3(this.chart,n,u),c=o3(n,u,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,i={opacity:1,x:c.x,y:c.y,width:A.width,height:A.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:A,topRight:u,bottomLeft:l,bottomRight:c}=oo(o),{x:f,y:m}=e,{width:g,height:b}=r;let v,w,B,C,x,E;return i==="center"?(x=m+b/2,s==="left"?(v=f,w=v-a,C=x+a,E=x-a):(v=f+g,w=v+a,C=x-a,E=x+a),B=v):(s==="left"?w=f+Math.max(A,l)+a:s==="right"?w=f+g-Math.max(u,c)-a:w=this.caretX,i==="top"?(C=m,x=C-a,v=w-a,B=w+a):(C=m+b,x=C+a,v=w+a,B=w-a),E=C),{x1:v,x2:w,x3:B,y1:C,y2:x,y3:E}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,o,A;if(i){const u=Ao(n.rtl,this.x,this.width);for(e.x=Rl(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",a=qr(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,A=0;A<i;++A)r.fillText(s[A],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,A+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:A,boxWidth:u}=i,l=qr(i.bodyFont),c=Rl(this,"left",i),f=s.x(c),m=A<l.lineHeight?(l.lineHeight-A)/2:0,g=r.y+m;if(i.usePointStyle){const b={radius:Math.min(u,A)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=s.leftForLtr(f,u)+u/2,w=g+A/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Tp(e,b,v,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Tp(e,b,v,w)}else{e.lineWidth=Ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(f,u),v=s.leftForLtr(s.xPlus(f,1),u-2),w=oo(a.borderRadius);Object.values(w).some(B=>B!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ec(e,{x:b,y:g,w:u,h:A,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ec(e,{x:v,y:g+1,w:u-2,h:A-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,g,u,A),e.strokeRect(b,g,u,A),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,u-2,A-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:A,boxWidth:u,boxPadding:l}=n,c=qr(n.bodyFont);let f=c.lineHeight,m=0;const g=Ao(n.rtl,this.x,this.width),b=function(L){r.fillText(L,g.x(e.x+m),e.y+f/2),e.y+=f+i},v=g.textAlign(a);let w,B,C,x,E,D,_;for(r.textAlign=a,r.textBaseline="middle",r.font=c.string,e.x=Rl(this,v,n),r.fillStyle=n.bodyColor,Rt(this.beforeBody,b),m=o&&v!=="right"?a==="center"?u/2+l:u+2+l:0,x=0,D=s.length;x<D;++x){for(w=s[x],B=this.labelTextColors[x],r.fillStyle=B,Rt(w.before,b),C=w.lines,o&&C.length&&(this._drawColorBox(r,e,x,g,n),f=Math.max(c.lineHeight,A)),E=0,_=C.length;E<_;++E)b(C[E]),f=c.lineHeight;Rt(w.after,b)}m=0,f=c.lineHeight,Rt(this.afterBody,b),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,o;if(i){const A=Ao(n.rtl,this.x,this.width);for(e.x=Rl(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=A.textAlign(n.footerAlign),r.textBaseline="middle",a=qr(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<i;++o)r.fillText(s[o],A.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:o,y:A}=e,{width:u,height:l}=n,{topLeft:c,topRight:f,bottomLeft:m,bottomRight:g}=oo(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(o+c,A),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(o+u-f,A),r.quadraticCurveTo(o+u,A,o+u,A+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(o+u,A+l-g),r.quadraticCurveTo(o+u,A+l,o+u-g,A+l),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(o+m,A+l),r.quadraticCurveTo(o,A+l,o,A+l-m),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(o,A+c),r.quadraticCurveTo(o,A,o+c,A),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=bA[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=i3(this,e),A=Object.assign({},a,this._size),u=a3(r,e,A),l=o3(e,A,u,r);(s._to!==l.x||i._to!==l.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Rn(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),B6(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),C6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:o,index:A})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[A],index:A}}),i=!vc(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),o=this._positionChanged(a,e),A=r||!vc(a,i)||o;return A&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),A}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=bA[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}var Kz={id:"tooltip",_element:l3,positioners:bA,afterInit(t,e,r){r&&(t.tooltip=new l3({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qz=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Vz(t,e,r,n){const s=t.indexOf(e);if(s===-1)return qz(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const Gz=(t,e)=>t===null?null:Kr(Math.round(t),0,e);function c3(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wz extends ko{static id="category";static defaults={ticks:{callback:c3}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(kt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Vz(n,e,pt(r,e),this._addedLabels),Gz(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return c3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function $z(t,e){const r=[],{bounds:s,step:i,min:a,max:o,precision:A,count:u,maxTicks:l,maxDigits:c,includeBounds:f}=t,m=i||1,g=l-1,{min:b,max:v}=e,w=!kt(a),B=!kt(o),C=!kt(u),x=(v-b)/(c+1);let E=dy((v-b)/g/m)*m,D,_,L,I;if(E<1e-14&&!w&&!B)return[{value:b},{value:v}];I=Math.ceil(v/E)-Math.floor(b/E),I>g&&(E=dy(I*E/g/m)*m),kt(A)||(D=Math.pow(10,A),E=Math.ceil(E*D)/D),s==="ticks"?(_=Math.floor(b/E)*E,L=Math.ceil(v/E)*E):(_=b,L=v),w&&B&&i&&AH((o-a)/i,E/1e3)?(I=Math.round(Math.min((o-a)/E,l)),E=(o-a)/I,_=a,L=o):C?(_=w?a:_,L=B?o:L,I=u-1,E=(L-_)/I):(I=(L-_)/E,DA(I,Math.round(I),E/1e3)?I=Math.round(I):I=Math.ceil(I));const G=Math.max(hy(E),hy(_));D=Math.pow(10,kt(A)?G:A),_=Math.round(_*D)/D,L=Math.round(L*D)/D;let W=0;for(w&&(f&&_!==a?(r.push({value:a}),_<a&&W++,DA(Math.round((_+W*E)*D)/D,a,d3(a,x,t))&&W++):_<a&&W++);W<I;++W){const Q=Math.round((_+W*E)*D)/D;if(B&&Q>o)break;r.push({value:Q})}return B&&f&&L!==o?r.length&&DA(r[r.length-1].value,o,d3(o,x,t))?r[r.length-1].value=o:r.push({value:o}):(!B||L===o)&&r.push({value:L}),r}function d3(t,e,{horizontal:r,minRotation:n}){const s=Ys(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Xz extends ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=A=>s=r?s:A,o=A=>i=n?i:A;if(e){const A=ws(s),u=ws(i);A<0&&u<0?o(0):A>0&&u>0&&a(0)}if(s===i){let A=i===0?1:Math.abs(i*.05);o(i+A),e||a(s-A)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=$z(s,i);return e.bounds==="ticks"&&uH(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Hg(e,this.chart.options.locale,this.options.ticks.format)}}class Yz extends Xz{static id="linear";static defaults={ticks:{callback:p6.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Qn(e)?e:0,this.max=Qn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Ys(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const o0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(o0);function h3(t,e){return t-e}function f3(t,e){if(kt(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Qn(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(bo(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function p3(t,e,r,n){const s=nn.length;for(let i=nn.indexOf(t);i<s-1;++i){const a=o0[nn[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return nn[i]}return nn[s-1]}function Jz(t,e,r,n,s){for(let i=nn.length-1;i>=nn.indexOf(r);i--){const a=nn[i];if(o0[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return nn[r?nn.indexOf(r):0]}function Zz(t){for(let e=nn.indexOf(t)+1,r=nn.length;e<r;++e)if(o0[nn[e]].common)return nn[e]}function g3(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Og(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function eK(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let o,A;for(o=i;o<=a;o=+s.add(o,1,n))A=r[o],A>=0&&(e[A].major=!0);return e}function m3(t,e,r){const n=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,n.push({value:o,major:!1});return i===0||!r?n:eK(t,n,s,r)}class b3 extends ko{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new YP._date(e.adapters.date);s.init(r),FA(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:f3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function A(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(A(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&A(this.getMinMax(!1))),s=Qn(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Qn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=fH(s,i,a);return this._unit=r.unit||(n.autoSkip?p3(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Jz(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Zz(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),m3(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Kr(r,0,a),n=Kr(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||p3(i.minUnit,r,n,this._getLabelCapacity(r)),o=pt(s.ticks.stepSize,1),A=a==="week"?i.isoWeekday:!1,u=bo(A)||A===!0,l={};let c=r,f,m;if(u&&(c=+e.startOf(c,"isoWeek",A)),c=+e.startOf(c,u?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=c,m=0;f<n;f=+e.add(f,o,a),m++)g3(l,f,g);return(f===n||s.bounds==="ticks"||m===1)&&g3(l,f,g),Object.keys(l).sort(h3).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return Vt(a,[e,r,n],this);const o=i.time.displayFormats,A=this._unit,u=this._majorUnit,l=A&&o[A],c=u&&o[u],f=n[r],m=u&&c&&f&&f.major;return this._adapter.format(e,s||(m?c:l))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=Ys(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,m3(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(f3(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return l6(e.sort(h3))}}function Ol(t,e,r){let n=0,s=t.length-1,i,a,o,A;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=ca(t,"pos",e)),{pos:i,time:o}=t[n],{pos:a,time:A}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=ca(t,"time",e)),{time:i,pos:o}=t[n],{time:a,pos:A}=t[s]);const u=a-i;return u?o+(A-o)*(e-i)/u:o}class IG extends b3{static id="timeseries";static defaults=b3.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Ol(r,this.min),this._tableRange=Ol(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,o,A,u,l;for(a=0,o=e.length;a<o;++a)u=e[a],u>=r&&u<=n&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=s.length;a<o;++a)l=s[a+1],A=s[a-1],u=s[a],Math.round((l+A)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ol(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Ol(this._table,n*this._tableRange+this._minPos,!0)}}const K6="label";function w3(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tK(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function q6(t,e){t.labels=e}function V6(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K6;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function rK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K6;const r={labels:[],datasets:[]};return q6(r,t.labels),V6(r,t.datasets,e),r}function nK(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:A,plugins:u=[],fallbackContent:l,updateMode:c,...f}=t,m=q.useRef(null),g=q.useRef(null),b=()=>{m.current&&(g.current=new a0(m.current,{type:a,data:rK(o,i),options:A&&{...A},plugins:u}),w3(e,g.current))},v=()=>{w3(e,null),g.current&&(g.current.destroy(),g.current=null)};return q.useEffect(()=>{!s&&g.current&&A&&tK(g.current,A)},[s,A]),q.useEffect(()=>{!s&&g.current&&q6(g.current.config.data,o.labels)},[s,o.labels]),q.useEffect(()=>{!s&&g.current&&o.datasets&&V6(g.current.config.data,o.datasets,i)},[s,o.datasets]),q.useEffect(()=>{g.current&&(s?(v(),setTimeout(b)):g.current.update(c))},[s,A,o.labels,o.datasets,c]),q.useEffect(()=>{g.current&&(v(),setTimeout(b))},[a]),q.useEffect(()=>(b(),()=>v()),[]),rt.createElement("canvas",{ref:m,role:"img",height:r,width:n,...f},l)}const sK=q.forwardRef(nK);function A0(t,e){return a0.register(e),q.forwardRef((r,n)=>rt.createElement(sK,{...r,ref:n,type:t}))}const iK=A0("line",WP),aK=A0("bar",qP),oK=A0("pie",$P),AK=A0("scatter",XP);a0.register(Wz,Yz,vz,xz,Fz,cz,Rz,Kz,Mz);const uK=({block:t})=>{const e=Ht();if(!t.data)return null;const r=()=>{try{switch(t.chartType){case"bar":return h.jsx(aK,{data:t.data,options:t.options||{}});case"line":return h.jsx(iK,{data:t.data,options:t.options||{}});case"pie":return h.jsx(oK,{data:t.data,options:t.options||{}});case"scatter":return h.jsx(AK,{data:t.data,options:t.options||{}});default:return h.jsxs(Se,{variant:"body2",color:"error",children:["不支持的图表类型: ",t.chartType]})}}catch(n){return console.error("图表渲染失败:",n),h.jsxs(Se,{variant:"body2",color:"error",children:["图表渲染失败: ",n.message]})}};return h.jsx(de,{sx:{my:2},children:h.jsx(hr,{variant:"outlined",sx:{p:2,backgroundColor:e.palette.mode==="dark"?"rgba(0, 0, 0, 0.1)":"rgba(0, 0, 0, 0.02)",width:"100%",height:"300px",display:"flex",flexDirection:"column"},children:r()})})},lK=rt.memo(uK),cK=({scale:t,onZoomIn:e,onZoomOut:r,onReset:n,canZoomIn:s,canZoomOut:i})=>h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,padding:"4px 8px",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:1,border:"1px solid rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ye,{size:"small",onClick:r,disabled:!i,children:h.jsx(Se,{sx:{fontSize:"16px"},children:"-"})}),h.jsxs(Se,{variant:"caption",sx:{minWidth:"45px",textAlign:"center"},children:[Math.round(t*100),"%"]}),h.jsx(Ye,{size:"small",onClick:e,disabled:!s,children:h.jsx(Se,{sx:{fontSize:"16px"},children:"+"})}),h.jsx(Ye,{size:"small",onClick:n,children:h.jsx(Se,{sx:{fontSize:"12px"},children:"重置"})})]}),y3=({file:t,compact:e=!1})=>e?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,padding:"4px 8px"},children:[h.jsx(Se,{variant:"body2",sx:{fontWeight:500},children:t.name}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:oc(t.size)})]}):h.jsxs(de,{sx:{padding:2,backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:1},children:[h.jsx(Se,{variant:"h6",sx:{fontWeight:500,mb:1},children:t.name}),h.jsxs(Se,{variant:"body2",color:"text.secondary",children:["大小: ",oc(t.size)]}),h.jsx(Se,{variant:"caption",sx:{fontFamily:"monospace",display:"block",mt:1},children:t.path})]}),dK=(t={})=>{const{minScale:e=.5,maxScale:r=3,initialScale:n=1,scaleStep:s=.25}=t,[i,a]=q.useState(n),o=q.useCallback(()=>{a(l=>Math.min(r,l+s))},[r,s]),A=q.useCallback(()=>{a(l=>Math.max(e,l-s))},[e,s]),u=q.useCallback(()=>{a(n)},[n]);return{scale:i,zoomIn:o,zoomOut:A,resetZoom:u,setScale:a,canZoomIn:i<r,canZoomOut:i>e}},hK=({open:t,file:e,onClose:r,onSave:n,customFileReader:s,width:i="95vw",height:a="90vh",maxWidth:o=1600,maxHeight:A="95vh"})=>{const u=Ht(),[l,c]=q.useState(""),[f,m]=q.useState(""),[g,b]=q.useState(!1),[v,w]=q.useState(null),[B,C]=q.useState(!1),[x,E]=q.useState(!1),[D,_]=q.useState(!1),[L,I]=q.useState(!1),[G,W]=q.useState(!1),[Q,j]=q.useState({fontSize:14,lineNumbers:!0,wordWrap:!1,theme:u.palette.mode==="dark"?"dark":"light",minimap:!1,folding:!0}),{scale:T,zoomIn:V,zoomOut:J,resetZoom:Y,canZoomIn:oe,canZoomOut:re}=dK({minScale:.5,maxScale:3,initialScale:1,scaleStep:.25}),pe=q.useRef(null),te=q.useCallback(ie=>{try{const Z=s7(ie),se=i7(Z);return se?[se]:[]}catch(Z){return console.warn("Failed to load language extension:",Z),[]}},[]),$=q.useMemo(()=>Dm.theme({"&":{color:"#24292e",backgroundColor:"#ffffff"},".cm-content":{caretColor:"#24292e"},".cm-focused":{outline:"1px solid #0366d6"},".cm-scroller":{fontFamily:'Monaco, Menlo, "Ubuntu Mono", Consolas, source-code-pro, monospace'},".cm-gutters":{backgroundColor:"#f6f8fa",color:"#6a737d",border:"none"},".cm-activeLineGutter":{backgroundColor:"#f1f8ff"},".cm-activeLine":{backgroundColor:"#f1f8ff"},".cm-selectionBackground":{backgroundColor:"#c8e1ff"},".cm-searchMatch":{backgroundColor:"#ffdf5d"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#ff9632"}},{dark:!1}),[]);q.useEffect(()=>{W(l!==f&&f!=="")},[l,f]),q.useEffect(()=>{if(x){const ie=setTimeout(()=>E(!1),3e3);return()=>clearTimeout(ie)}},[x]),q.useEffect(()=>{if(D){const ie=setTimeout(()=>_(!1),2e3);return()=>clearTimeout(ie)}},[D]);const he=q.useCallback(async()=>{if(e){b(!0),w(null);try{const ie=km(e.name);if(ie==="text"||ie==="code"){const se=await(s||J8).readFile({path:e.path,encoding:"utf8"});c(se.content),m(se.content)}else ie==="image"?(c(`图片文件: ${e.name}
大小: ${oc(e.size)}
路径: ${e.path}`),m("")):(c(`文件类型: ${e.extension||"未知"}
大小: ${oc(e.size)}
路径: ${e.path}

此文件类型暂不支持预览，请使用系统应用打开。`),m(""))}catch(ie){w(ie instanceof Error?ie.message:"加载文件失败")}finally{b(!1)}}},[e,s]);q.useEffect(()=>{t&&e?he():(c(""),m(""),W(!1))},[t,e,he]);const me=q.useCallback(async()=>{if(!(!n||!G)){C(!0);try{await n(l),m(l),E(!0)}catch(ie){w(ie instanceof Error?ie.message:"保存失败")}finally{C(!1)}}},[n,l,G]),ye=q.useCallback(async()=>{try{await navigator.clipboard.writeText(l),_(!0)}catch(ie){w("复制失败："+(ie instanceof Error?ie.message:"未知错误"))}},[l]),ce=q.useCallback(ie=>{j(Z=>({...Z,...ie}))},[]),H=q.useCallback(()=>{G?window.confirm("有未保存的更改，确定要关闭吗？")&&r():r()},[G,r]);if(q.useEffect(()=>{const ie=Z=>{(Z.ctrlKey||Z.metaKey)&&Z.key==="s"?(Z.preventDefault(),n&&G&&!B&&me()):(Z.ctrlKey||Z.metaKey)&&Z.key==="="?(Z.preventDefault(),oe&&V()):(Z.ctrlKey||Z.metaKey)&&Z.key==="-"?(Z.preventDefault(),re&&J()):Z.key==="Escape"&&!G&&H()};if(t)return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[t,n,G,B,me,oe,re,V,J,H]),!e)return null;const P=km(e.name),ge=A5(e.name);return h.jsxs(h.Fragment,{children:[h.jsxs(kr,{open:t,onClose:H,maxWidth:!1,fullWidth:!1,slotProps:{paper:{sx:{width:i,height:a,maxWidth:o,maxHeight:A,margin:1,display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden"}}},disableEscapeKeyDown:G,sx:{"& .MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:[h.jsxs(an,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:1,borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[h.jsx(Se,{variant:"h6",sx:{fontWeight:500},children:e.name}),G&&h.jsx(Se,{variant:"caption",color:"warning.main",sx:{fontWeight:500},children:"• 未保存"})]}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Ye,{size:"small",onClick:()=>I(!L),color:L?"primary":"default",children:h.jsx(Z8,{size:18})}),h.jsx(Ye,{size:"small",onClick:H,children:h.jsx(ri,{size:18})})]})]}),h.jsxs(Ir,{sx:{p:0,display:"flex",flexDirection:"column",flex:1,overflow:"hidden",minHeight:0},children:[h.jsx(Qi,{in:L,children:h.jsx(de,{sx:{p:2,borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},children:h.jsx(y3,{file:e})})}),ge&&h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,padding:"8px 16px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",backgroundColor:"rgba(0, 0, 0, 0.02)"},children:[n&&h.jsx(ut,{size:"small",variant:"contained",onClick:me,disabled:!G||B,startIcon:h.jsx(Pf,{size:16}),children:B?"保存中...":"保存"}),h.jsx(ut,{size:"small",onClick:ye,startIcon:h.jsx(Se,{children:"📋"}),children:"复制"}),h.jsxs(de,{sx:{marginLeft:"auto",display:"flex",gap:1},children:[h.jsx(ut,{size:"small",onClick:()=>ce({wordWrap:!Q.wordWrap}),variant:Q.wordWrap?"contained":"outlined",children:"自动换行"}),h.jsx(ut,{size:"small",onClick:()=>ce({lineNumbers:!Q.lineNumbers}),variant:Q.lineNumbers?"contained":"outlined",children:"行号"}),h.jsx(ut,{size:"small",onClick:()=>ce({theme:Q.theme==="dark"?"light":"dark"}),variant:"outlined",children:Q.theme==="dark"?"亮色":"暗色"})]})]}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",backgroundColor:"rgba(0, 0, 0, 0.01)"},children:[h.jsx(y3,{file:e,compact:!0}),h.jsx(cK,{scale:T,onZoomIn:V,onZoomOut:J,onReset:Y,canZoomIn:oe,canZoomOut:re})]}),h.jsx(de,{ref:pe,sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:Q.theme==="dark"?"#1e1e1e":"#ffffff",minHeight:0},children:g?h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,p:4},children:h.jsx(Se,{children:"加载中..."})}):v?h.jsx(de,{sx:{p:2},children:h.jsx(Sn,{severity:"error",children:v})}):h.jsx(h.Fragment,{children:P==="image"?h.jsx(de,{sx:{textAlign:"center",p:2,display:"flex",justifyContent:"center",alignItems:"center",flex:1},children:h.jsx("img",{src:`file://${e.path}`,alt:e.name,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",transform:`scale(${T})`,transformOrigin:"center",transition:"transform 0.2s ease-out"},onError:()=>w("无法加载图片")})}):(P==="text"||P==="code")&&ge?h.jsx(de,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden","& .cm-editor":{height:"100% !important",flex:1,fontSize:`${Q.fontSize*T}px !important`,minHeight:0},"& .cm-scroller":{height:"100% !important",flex:1,minHeight:0},"& .cm-content":{minHeight:"100% !important"},"& .cm-focused":{outline:"none !important"}},children:h.jsx(a7,{value:l,onChange:ie=>c(ie),theme:Q.theme==="dark"?o7:$,extensions:[...te(e.name),...Q.wordWrap?[Dm.lineWrapping]:[]],basicSetup:{lineNumbers:Q.lineNumbers,foldGutter:Q.folding,dropCursor:!1,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,highlightSelectionMatches:!0,searchKeymap:!0,syntaxHighlighting:!0},style:{height:"100%",fontSize:`${Q.fontSize*T}px`}})}):h.jsx(de,{sx:{p:2,flex:1},children:h.jsx(Se,{component:"pre",sx:{fontFamily:"monospace",fontSize:`${Q.fontSize*T}px`,whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.5,color:Q.theme==="dark"?"#cccccc":"#333333",backgroundColor:"transparent",margin:0},children:l})})})})]}),h.jsxs(on,{sx:{justifyContent:"space-between",px:3,py:2,borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:[h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:1},children:G&&h.jsx(Se,{variant:"caption",color:"warning.main",children:"有未保存的更改"})}),h.jsxs(de,{sx:{display:"flex",gap:1},children:[n&&G&&h.jsx(ut,{variant:"contained",startIcon:h.jsx(Pf,{size:16}),onClick:me,disabled:B,color:"primary",children:B?"保存中...":"保存"}),h.jsx(ut,{onClick:H,variant:"outlined",children:G?"取消":"关闭"})]})]})]}),h.jsx(Gl,{open:x,autoHideDuration:3e3,onClose:()=>E(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:h.jsx(Sn,{severity:"success",onClose:()=>E(!1),children:"文件保存成功"})}),h.jsx(Gl,{open:D,autoHideDuration:2e3,onClose:()=>_(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:h.jsx(Sn,{severity:"success",onClose:()=>_(!1),children:"内容已复制到剪贴板"})}),h.jsx(Gl,{open:!!v,autoHideDuration:6e3,onClose:()=>w(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:h.jsx(Sn,{severity:"error",onClose:()=>w(null),children:v})})]})},fK=t=>{if(!t.file)return null;const{file:e}=t,r=e.origin_name||e.name||"未知文件";return{name:r,path:`temp://${e.id}`,size:e.size||0,isDirectory:!1,type:e.type||"unknown",modifiedTime:Date.now(),extension:typeof r=="string"&&r.includes(".")?r.split(".").pop():void 0}},x3=t=>({readFile:async e=>{if(!t.file?.base64Data)throw new Error("文件没有可用的内容数据");try{let r=t.file.base64Data;r&&typeof r=="string"&&r.includes(",")&&(r=r.split(",")[1]);const n=atob(r),s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return{content:new TextDecoder("utf-8").decode(s),encoding:e.encoding}}catch(r){throw console.error("解码文件内容失败:",r),new Error("无法读取文件内容，可能不是文本文件")}}}),pK=({block:t})=>{const e=Ht(),r=ba(e.breakpoints.down("md")),[n,s]=q.useState(!1),[i,a]=q.useState(null);if(!t.file)return h.jsx(de,{sx:{p:2,border:"1px solid #e0e0e0",borderRadius:1},children:h.jsx(Se,{color:"error",children:"文件信息不可用"})});const{file:o}=t,A=()=>{const b=o.origin_name||o.name||"";return A5(b)},u=()=>{const b=fK(t);b&&(a(b),s(!0))},l=()=>{s(!1),a(null)},c=async b=>{console.log("保存文件内容:",b),alert("文件保存功能暂未实现，这是演示版本")},f=()=>{switch(o.type){case bi.IMAGE:return h.jsx(Yp,{size:24});case bi.TEXT:case bi.DOCUMENT:return h.jsx(wa,{size:24});case bi.CODE:return h.jsx(Co,{size:24});case bi.ARCHIVE:return h.jsx(u7,{size:24});default:return h.jsx(d7,{size:24})}},m=b=>{if(b===0)return"0 B";const v=1024,w=["B","KB","MB","GB"],B=Math.floor(Math.log(b)/Math.log(v));return parseFloat((b/Math.pow(v,B)).toFixed(2))+" "+w[B]},g=()=>{if(!o.base64Data){console.warn("文件没有base64数据，无法下载");return}try{const b=document.createElement("a");let v=o.base64Data;v.includes(",")&&(v=v.split(",")[1]);const w=atob(v),B=new Array(w.length);for(let D=0;D<w.length;D++)B[D]=w.charCodeAt(D);const C=new Uint8Array(B),x=new Blob([C],{type:o.mimeType||"application/octet-stream"}),E=URL.createObjectURL(x);b.href=E,b.download=o.origin_name||o.name||"下载文件",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(E)}catch(b){console.error("文件下载失败:",b)}};return h.jsxs(h.Fragment,{children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",p:2,border:`1px solid ${e.palette.divider}`,borderRadius:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)",maxWidth:"400px",gap:2,cursor:A()?"pointer":"default","&:hover":A()?{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",borderColor:e.palette.primary.main}:{}},onClick:A()?u:void 0,children:[h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:1,backgroundColor:e.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.1)",color:e.palette.primary.main},children:f()}),h.jsxs(de,{sx:{flex:1,minWidth:0},children:[h.jsx(Se,{variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.origin_name||o.name||"未知文件"}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[h.jsx(Se,{variant:"caption",color:"text.secondary",children:m(o.size||0)}),(()=>{const b=o.origin_name||o.name||"";if(!b)return null;const v=b.split("."),w=v.length>1?v.pop():"";return w&&w!==b?h.jsx(Dt,{label:w.toUpperCase(),size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}}):null})()]})]}),h.jsxs(de,{sx:{display:"flex",gap:.5},children:[A()&&h.jsx(Ye,{size:"small",onClick:b=>{b.stopPropagation(),u()},sx:{color:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.1)"}},title:"查看/编辑文件",children:h.jsx(eC,{size:16})}),o.base64Data&&h.jsx(Ye,{size:"small",onClick:b=>{b.stopPropagation(),g()},sx:{color:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.1)"}},title:"下载文件",children:h.jsx(jp,{size:16})})]})]}),r?h.jsx(A7,{open:n,file:i,onClose:l,onSave:c,customFileReader:x3(t)}):h.jsx(hK,{open:n,file:i,onClose:l,onSave:c,customFileReader:x3(t),width:"95vw",height:"90vh",maxWidth:"95vw",maxHeight:"90vh"})]})},gK=rt.memo(pK),mK=({block:t})=>t.status===qe.PROCESSING&&t.type===tt.UNKNOWN?h.jsxs(de,{sx:{display:"flex",flexDirection:"row",alignItems:"center",height:32,marginTop:"-5px",marginBottom:"5px"},children:[h.jsx(KA,{size:16,sx:{mr:1}}),h.jsx(de,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:"正在生成回复..."})]}):null,bK=rt.memo(mK),wK=({results:t,query:e})=>{const[r,n]=q.useState(!1),s=Ht();if(!t||t.length===0)return null;const i=()=>{n(!r)},a=u=>{window.open(u,"_blank","noopener,noreferrer")},o=u=>{try{return new URL(u).hostname}catch{return u}},A=(u,l=60)=>u?u.length>l?u.slice(0,l)+"...":u:"";return h.jsxs(c5,{variant:"outlined",sx:{mt:2,mb:1,overflow:"hidden",borderRadius:3,border:"1px solid",borderColor:"divider",boxShadow:"none",userSelect:"none","&:hover":{borderColor:"primary.main",boxShadow:1}},children:[h.jsx(d5,{sx:{py:1.5,px:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer","&:last-child":{pb:1.5},"&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},onClick:i,children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(ys,{size:18}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",flexGrow:1,gap:1},children:[h.jsxs(Se,{variant:"body2",fontWeight:500,component:"span",children:["找到 ",t.length," 篇参考资料"]}),e&&h.jsx(Dt,{label:e,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white",fontSize:"11px",height:20}})]}),h.jsx(Ye,{size:"small",sx:{color:"white",transform:r?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:h.jsx(Nr,{size:18})})]})}),h.jsx(Qi,{in:r,children:h.jsx(de,{sx:{bgcolor:s.palette.mode==="dark"?$s(s.palette.background.paper,.5):$s(s.palette.background.paper,.8),borderTop:"1px solid",borderTopColor:"divider"},children:h.jsx(ti,{sx:{py:1},children:t.map((u,l)=>h.jsxs(cr,{sx:{px:2,py:1,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},children:[h.jsx(Gn,{sx:{mr:2,bgcolor:$s("#3b82f6",.1),color:"primary.main",width:28,height:28,fontSize:"12px",fontWeight:600},children:l+1}),h.jsx(Ft,{primary:h.jsx(Se,{variant:"body2",fontWeight:500,sx:{color:"text.primary",lineHeight:1.4,mb:.5},children:A(u.title)}),secondary:h.jsxs(de,{children:[h.jsx(Se,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:.5},children:o(u.url)}),u.snippet&&h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.3},children:u.snippet})]})}),h.jsx(Ii,{children:h.jsx(Ye,{edge:"end",size:"small",onClick:c=>{c.stopPropagation(),a(u.url)},sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:$s("#3b82f6",.1)}},children:h.jsx(Lp,{size:16})})})]},u.id||l))})})})]})},yK=({block:t})=>!t.searchResults||t.searchResults.length===0?null:h.jsx(wK,{results:t.searchResults,query:t.query}),xK=rt.memo(yK),vK=vs(hr)(({theme:t})=>({padding:t.spacing(1.5),marginBottom:t.spacing(1),borderRadius:t.spacing(1),border:`1px solid ${t.palette.divider}`,backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",position:"relative",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.04)",borderColor:t.palette.primary.main,transform:"translateY(-1px)",boxShadow:t.shadows[3]}})),kf=vs(Dt)(({theme:t})=>({marginLeft:t.spacing(1),fontSize:"0.7rem",height:18,fontWeight:500,"& .MuiChip-label":{paddingLeft:t.spacing(.75),paddingRight:t.spacing(.75)}})),BK=vs(de)(({theme:t})=>({display:"flex",alignItems:"center",minHeight:32,marginBottom:t.spacing(.5)})),CK=vs(de)(({theme:t})=>({width:16,height:16,borderRadius:"50%",backgroundColor:t.palette.primary.main,marginRight:t.spacing(1),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",color:"white",fontWeight:"bold"})),EK=vs(de)(({theme:t})=>({marginBottom:t.spacing(1.5),padding:t.spacing(1.5),backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)",borderRadius:t.spacing(.75),border:`1px solid ${t.palette.divider}`,"&:last-child":{marginBottom:0}})),v3=vs(de)(({theme:t})=>({maxHeight:"120px",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"2px","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}},scrollbarWidth:"thin",scrollbarColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2) transparent":"rgba(0, 0, 0, 0.2) transparent"})),SK=({block:t})=>{const[e,r]=q.useState(!1),n=()=>{r(!e)},s=c=>c?`${Math.round(c*100)}%`:"匹配度未知",i=t.source||t.metadata?.fileName||"知识库",a=()=>{t.metadata?.fileId&&console.log("打开文件:",t.metadata.fileId)},o=c=>{e||r(!0),setTimeout(()=>{const f=document.getElementById(`reference-${t.id}-${c}`);f&&(f.scrollIntoView({behavior:"smooth",block:"center"}),f.style.backgroundColor="rgba(25, 118, 210, 0.1)",f.style.transition="background-color 0.3s ease",setTimeout(()=>{f.style.backgroundColor=""},2e3))},300)},A=t.metadata?.isCombined,u=t.metadata?.resultCount||1,l=t.metadata?.results||[];return h.jsxs(vK,{elevation:0,children:[h.jsxs(BK,{children:[h.jsx(CK,{children:A?u:"📚"}),h.jsx(Se,{variant:"body2",fontWeight:500,color:"text.primary",children:"知识库引用"}),!A&&t.similarity&&h.jsx(kf,{size:"small",color:t.similarity>.8?"success":"default",label:s(t.similarity)}),A&&h.jsx(kf,{size:"small",color:"primary",label:`${u}条结果`}),h.jsx(de,{flexGrow:1}),h.jsx(Ye,{size:"small",onClick:n,sx:{padding:.5,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:e?h.jsx(Bs,{fontSize:"small"}):h.jsx(Nr,{fontSize:"small"})})]}),!e&&h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem",lineHeight:1.4},children:A?`找到 ${u} 条相关内容，点击展开查看详情`:`${t.content.slice(0,120)}${t.content.length>120?"...":""}`}),h.jsx(Qi,{in:e,children:h.jsx(de,{mt:1.5,children:A?h.jsxs(de,{children:[l.map((c,f)=>h.jsxs(EK,{id:`reference-${t.id}-${c.index}`,children:[h.jsxs(de,{display:"flex",alignItems:"center",mb:1,children:[h.jsxs(de,{component:"span",onClick:()=>o(c.index),sx:{cursor:"pointer",padding:"2px 6px",borderRadius:"4px",backgroundColor:"primary.main",color:"white",fontSize:"0.75rem",fontWeight:600,marginRight:1,transition:"all 0.2s ease","&:hover":{backgroundColor:"primary.dark",transform:"scale(1.05)"}},children:["#",c.index]}),h.jsx(kf,{size:"small",color:c.similarity>.8?"success":c.similarity>.6?"warning":"default",label:s(c.similarity)})]}),h.jsx(v3,{children:h.jsx(Se,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.5,fontSize:"0.875rem",color:"text.primary"},children:c.content})})]},f)),h.jsxs(de,{mt:1.5,p:1,sx:{backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:.5,border:"1px solid rgba(0, 0, 0, 0.05)"},children:[h.jsxs(Se,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:["📁 来源: ",i]}),t.metadata?.searchQuery&&h.jsxs(Se,{variant:"caption",color:"text.secondary",display:"block",children:["🔍 查询: ",t.metadata.searchQuery]})]})]}):h.jsxs(de,{children:[h.jsx(v3,{sx:{mb:1.5},children:h.jsx(Se,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.5,fontSize:"0.875rem"},children:t.content})}),h.jsxs(de,{p:1,sx:{backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:.5,border:"1px solid rgba(0, 0, 0, 0.05)"},children:[h.jsxs(Se,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:["📁 来源: ",i]}),t.metadata?.searchQuery&&h.jsxs(Se,{variant:"caption",color:"text.secondary",display:"block",children:["🔍 查询: ",t.metadata.searchQuery]})]})]})})}),!A&&(t.metadata?.fileId||t.metadata?.fileName)&&h.jsx(Ye,{size:"small",sx:{position:"absolute",bottom:6,right:6,padding:.5,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},onClick:a,children:h.jsx(Pp,{fontSize:"small"})})]})},TK=rt.memo(SK),FK=({children:t,enableAnimation:e})=>h.jsx(q3,{in:!0,timeout:e?300:0,children:h.jsx("div",{children:t})}),DK=({blocks:t,message:e,extraPaddingLeft:r=0,extraPaddingRight:n=0})=>{const s=dt(l=>Up.selectEntities(l)),i=q.useMemo(()=>t.map(c=>s[c]).filter(Boolean),[t,s]),a=()=>i.some(c=>c.status===qe.STREAMING)?null:h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",p:1,color:"text.secondary"},children:"正在生成回复..."}),o=()=>h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",p:1,color:"text.secondary",fontStyle:"italic"},children:"正在加载内容..."}),A=q.useMemo(()=>i.length===0||e.status==="streaming"||e.status==="processing"||e.status==="success"||e.versions&&e.versions.length>0?!1:i.some(l=>l.type===tt.MAIN_TEXT&&l.status===qe.SUCCESS&&(!("content"in l)||!l.content||l.content.trim()==="")),[i,e.status,e.versions]),u=e.status.includes("ing");return h.jsx(de,{sx:{width:"100%"},children:i.length===0&&e.status==="streaming"?a():A?o():h.jsx(h.Fragment,{children:i.map(l=>{let c=null;if(l.type===tt.MAIN_TEXT&&l.status===qe.SUCCESS&&(!("content"in l)||!l.content||l.content.trim()==="")&&e.status!=="streaming"&&e.status!=="processing"&&e.status!=="success"&&(!e.versions||e.versions.length===0))return o();switch(l.type){case tt.UNKNOWN:l.status===qe.PROCESSING?c=h.jsx(bK,{block:l},l.id):l.status===qe.SUCCESS&&(c=h.jsx(ty,{block:l,role:e.role,messageId:e.id},l.id));break;case tt.MAIN_TEXT:c=h.jsx(ty,{block:l,role:e.role,messageId:e.id},l.id);break;case tt.THINKING:c=h.jsx(rC,{block:l},l.id);break;case tt.IMAGE:c=h.jsx(uL,{block:l},l.id);break;case tt.VIDEO:c=h.jsx(cL,{block:l},l.id);break;case tt.CODE:c=h.jsx(tC,{block:l},l.id);break;case tt.CITATION:c=h.jsx(fL,{block:l},l.id);break;case tt.ERROR:c=h.jsx(gL,{block:l},l.id);break;case tt.TRANSLATION:c=h.jsx(bL,{block:l},l.id);break;case tt.MATH:c=h.jsx(CL,{block:l},l.id);break;case tt.MULTI_MODEL:"subType"in l&&l.subType==="comparison"?c=h.jsx(FL,{block:l},l.id):c=h.jsx(TL,{block:l},l.id);break;case tt.CHART:c=h.jsx(lK,{block:l},l.id);break;case tt.FILE:c=h.jsx(gK,{block:l},l.id);break;case tt.TOOL:c=null;break;case tt.SEARCH_RESULTS:c=h.jsx(xK,{block:l},l.id);break;case tt.KNOWLEDGE_REFERENCE:c=h.jsx(TK,{block:l},l.id);break;default:console.warn("不支持的块类型:",l.type,l);break}return c?h.jsx(FK,{enableAnimation:u,children:h.jsx(de,{sx:{mb:1,pl:r,pr:n},children:c})},l.id):null})})})},G6=rt.memo(DK),W6={willChange:"transform",transform:"translateZ(0)",backfaceVisibility:"hidden",contain:"layout style paint",perspective:1e3},kK={...W6,willChange:"scroll-position",WebkitOverflowScrolling:"touch",scrollBehavior:"auto"},Xg={...W6,position:"relative",isolation:"isolate"},IK={...Xg,borderRadius:"8px",boxShadow:"none"},_K=t=>({scrollbarWidth:"thin",scrollbarColor:`${t?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.15)"} transparent`,"&::-webkit-scrollbar":{width:"3px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.15)",borderRadius:"2px"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:t?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.25)"}}),Nl={scrollThrottle:16,resizeThrottle:100,virtualScrollThreshold:50,overscanCount:5,batchUpdateDelay:16,maxCachedItems:100},UK=()=>{const t=navigator.hardwareConcurrency||4,e=navigator.deviceMemory||4,n=navigator.connection?.effectiveType||"4g";return t>=8&&e>=8&&n==="4g"?"high":t>=4&&e>=4?"medium":"low"},MK=()=>{switch(UK()){case"high":return{...Nl,scrollThrottle:8,virtualScrollThreshold:100,overscanCount:10};case"medium":return{...Nl,scrollThrottle:16,virtualScrollThreshold:50,overscanCount:5};case"low":return{...Nl,scrollThrottle:33,virtualScrollThreshold:20,overscanCount:3};default:return Nl}},QK=({message:t,showAvatar:e=!0,isCompact:r=!1,loading:n,modelAvatar:s,assistantAvatar:i,userAvatar:a,showUserAvatar:o,showUserName:A,showModelAvatar:u,showModelName:l,settings:c,themeColors:f,themeStyle:m,theme:g,getProviderName:b,messageIndex:v,onRegenerate:w,onDelete:B,onSwitchVersion:C,onResend:x})=>{const E=t.role==="user",D=new Date(t.createdAt).toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=c?.messageActionMode||"bubbles",L=c?.customBubbleColors||{},I=E?L.userBubbleColor||f?.userBubbleColor:L.aiBubbleColor||f?.aiBubbleColor,G=E?L.userTextColor||f?.textPrimary:L.aiTextColor||f?.textPrimary;return h.jsxs(de,{id:`message-${t.id}`,sx:{display:"flex",flexDirection:"column",marginBottom:r?2:4,marginTop:r?1:2,paddingX:1,alignItems:E?"flex-end":"flex-start",...Xg},children:[e&&(o||A||u||l)&&h.jsx(de,{sx:{display:"flex",justifyContent:E?"flex-end":"flex-start",alignItems:"center",width:"100%",marginBottom:1,flexShrink:0},children:E?h.jsxs(de,{sx:{display:"flex",alignItems:"flex-start",gap:1,flexDirection:"row-reverse"},children:[o&&(a?h.jsx(Gn,{src:a,sx:{width:24,height:24,borderRadius:"25%"}}):h.jsx(Gn,{sx:{bgcolor:f?.buttonSecondary,width:24,height:24,borderRadius:"25%"},children:h.jsx(Eo,{size:16,color:"white"})})),(A||!o)&&h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[A&&h.jsx(Se,{variant:"body2",sx:{fontSize:"0.85rem",color:g.palette.text.primary,fontWeight:600,lineHeight:1.2},children:"用户"}),h.jsx(Se,{variant:"caption",sx:{fontSize:"0.7rem",color:g.palette.text.secondary,lineHeight:1,marginTop:A?"2px":"0"},children:D})]})]}):h.jsxs(de,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[u&&(i||s?h.jsx(Gn,{src:i||s||void 0,sx:{width:24,height:24,borderRadius:"25%"}}):h.jsx(Gn,{sx:{bgcolor:"secondary.main",width:24,height:24,borderRadius:"25%",fontSize:"0.8rem",fontWeight:600},children:t.model?.name?t.model.name.charAt(0).toUpperCase():t.modelId?t.modelId.charAt(0).toUpperCase():"AI"})),(l||!u)&&h.jsxs(de,{sx:{display:"flex",flexDirection:"column"},children:[l&&h.jsx(Se,{variant:"body2",sx:{fontSize:"0.85rem",color:g.palette.text.primary,fontWeight:600,lineHeight:1.2},children:t.model?`${t.model.name}${t.model.provider?" | "+b(t.model.provider):""}`:t.modelId||"AI"}),h.jsx(Se,{variant:"caption",sx:{fontSize:"0.7rem",color:g.palette.text.secondary,lineHeight:1,marginTop:l?"2px":"0"},children:D})]})]})}),h.jsxs(de,{sx:{position:"relative",maxWidth:E?`${c?.userMessageMaxWidth||80}%`:`${c?.messageBubbleMaxWidth||100}%`,minWidth:`${c?.messageBubbleMinWidth||50}%`,width:"auto",alignSelf:E?"flex-end":"flex-start",flex:"none"},children:[h.jsx(hr,{elevation:0,"data-theme-style":m,sx:{paddingTop:1.5,paddingBottom:1.5,paddingLeft:1.5,paddingRight:_==="bubbles"?3:1.5,backgroundColor:I,color:G,width:"100%",border:"none",maxWidth:"100%",...IK,contain:"layout style paint",willChange:t.status==="streaming"?"contents":"auto",transform:"translateZ(0)"},children:n?h.jsxs(h.Fragment,{children:[h.jsx(ic,{variant:"text",width:"80%"}),h.jsx(ic,{variant:"text",width:"60%"})]}):h.jsxs(de,{sx:{width:"100%"},children:[t.blocks&&t.blocks.length>0?h.jsx(G6,{blocks:t.blocks,message:t,extraPaddingLeft:0,extraPaddingRight:0}):h.jsx(de,{sx:{lineHeight:1.6,wordBreak:"break-word"},children:t.content||""}),_==="toolbar"&&h.jsx(de,{sx:{display:"flex",justifyContent:E?"flex-end":"flex-start",alignItems:"center",mt:1,pt:1,borderTop:`1px solid ${g.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}`,opacity:.8,"&:hover":{opacity:1}},children:h.jsx(tc,{message:t,topicId:t.topicId,messageIndex:v,onRegenerate:w,onDelete:B,onSwitchVersion:C,onResend:x,renderMode:"toolbar",customTextColor:G})})]})}),_==="bubbles"&&h.jsxs(h.Fragment,{children:[!E&&c?.showMicroBubbles!==!1&&h.jsx(de,{sx:{position:"absolute",top:-22,right:0,display:"flex",flexDirection:"row",gap:"5px",zIndex:TA.MESSAGE.BUBBLE_INDICATORS,pointerEvents:"auto"},children:h.jsx(tc,{message:t,topicId:t.topicId,messageIndex:v,onRegenerate:w,onDelete:B,onSwitchVersion:C,onResend:x,renderMode:"full",customTextColor:G})}),h.jsx(de,{sx:{position:"absolute",top:5,right:5,display:"flex",flexDirection:"row",zIndex:TA.MESSAGE.BUBBLE_MENU_BUTTON,pointerEvents:"auto"},children:h.jsx(tc,{message:t,topicId:t.topicId,messageIndex:v,onRegenerate:w,onDelete:B,onSwitchVersion:C,onResend:x,renderMode:"menuOnly",customTextColor:G})})]})]})]})},RK=rt.memo(QK,(t,e)=>{if(t.message.id!==e.message.id||t.message.updatedAt!==e.message.updatedAt||t.message.status!==e.message.status||t.loading!==e.loading||t.showAvatar!==e.showAvatar||t.isCompact!==e.isCompact||t.showUserAvatar!==e.showUserAvatar||t.showUserName!==e.showUserName||t.showModelAvatar!==e.showModelAvatar||t.showModelName!==e.showModelName||t.themeStyle!==e.themeStyle||t.userAvatar!==e.userAvatar||t.assistantAvatar!==e.assistantAvatar||t.modelAvatar!==e.modelAvatar)return!1;const r=t.message.blocks,n=e.message.blocks;if(r?.length!==n?.length)return!1;if(r&&n){for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1}return!0}),OK=({message:t,loading:e,modelAvatar:r,assistantAvatar:n,userAvatar:s,showUserAvatar:i,showUserName:a,showModelAvatar:o,showModelName:A,showMessageDivider:u,theme:l,messageIndex:c,onRegenerate:f,onDelete:m,onSwitchVersion:g,onResend:b})=>{const v=t.role==="user";return h.jsxs(de,{id:`message-${t.id}`,sx:{display:"flex",flexDirection:"row",marginBottom:1.5,paddingX:2,paddingY:1.5,alignItems:"flex-start",gap:0,backgroundColor:"transparent",borderBottom:u?"1px solid":"none",borderColor:u?l.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)":"transparent",...Xg},children:[(v&&i||!v&&o)&&h.jsx(Gn,{sx:{width:24,height:24,fontSize:"0.75rem",fontWeight:600,background:v?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",flexShrink:0,marginRight:1},children:v?s?h.jsx("img",{src:s,alt:"用户头像",style:{width:"100%",height:"100%",borderRadius:"25%"}}):"👤":n||r?h.jsx("img",{src:n||r||void 0,alt:"AI头像",style:{width:"100%",height:"100%",borderRadius:"25%"}}):"🤖"}),h.jsxs(de,{sx:{flex:1,minWidth:0},children:[(v&&a||!v&&A)&&h.jsxs(de,{sx:{display:"flex",alignItems:"baseline",gap:.5,mb:.25},children:[(v&&a||!v&&A)&&h.jsx(Se,{variant:"body2",sx:{fontWeight:600,fontSize:"0.8rem",color:"text.primary"},children:v?"用户":t.model?.name||"AI"}),h.jsx(Se,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:new Date(t.createdAt).toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsxs(de,{sx:{position:"relative"},children:[e?h.jsxs(h.Fragment,{children:[h.jsx(ic,{variant:"text",width:"80%"}),h.jsx(ic,{variant:"text",width:"60%"})]}):h.jsx(de,{sx:{width:"100%"},children:t.blocks&&t.blocks.length>0?h.jsx(G6,{blocks:t.blocks,message:t,extraPaddingLeft:0,extraPaddingRight:0}):h.jsx(Se,{variant:"body2",sx:{lineHeight:1.5},children:t.content||""})}),h.jsx(de,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",mt:.5,pt:.25,opacity:.7,"&:hover":{opacity:1}},children:h.jsx(tc,{message:t,topicId:t.topicId,messageIndex:c,onRegenerate:f,onDelete:m,onSwitchVersion:g,onResend:b,renderMode:"toolbar"})})]})]})]})},NK=rt.memo(OK,(t,e)=>t.message.id===e.message.id&&t.message.updatedAt===e.message.updatedAt&&t.message.status===e.message.status&&JSON.stringify(t.message.blocks)===JSON.stringify(e.message.blocks)&&t.loading===e.loading&&t.showUserAvatar===e.showUserAvatar&&t.showUserName===e.showUserName&&t.showModelAvatar===e.showModelAvatar&&t.showModelName===e.showModelName&&t.showMessageDivider===e.showMessageDivider&&t.userAvatar===e.userAvatar&&t.assistantAvatar===e.assistantAvatar&&t.modelAvatar===e.modelAvatar),Ip=rt.memo(({message:t,showAvatar:e=!0,isCompact:r=!1,messageIndex:n,onRegenerate:s,onDelete:i,onSwitchVersion:a,onResend:o,forceUpdate:A})=>{const u=CF(t),{loading:l}=EF(t,u.blocks,A),c=rt.useMemo(()=>({message:t,showAvatar:e,isCompact:r,loading:l,modelAvatar:u.modelAvatar,assistantAvatar:u.assistantAvatar,userAvatar:u.userAvatar,showUserAvatar:u.showUserAvatar,showUserName:u.showUserName,showModelAvatar:u.showModelAvatar,showModelName:u.showModelName,showMessageDivider:u.showMessageDivider,settings:u.settings,themeColors:u.themeColors,themeStyle:u.themeStyle,theme:u.theme,getProviderName:u.getProviderName,messageIndex:n,onRegenerate:s,onDelete:i,onSwitchVersion:a,onResend:o}),[t,e,r,l,u.modelAvatar,u.assistantAvatar,u.userAvatar,u.showUserAvatar,u.showUserName,u.showModelAvatar,u.showModelName,u.showMessageDivider,u.settings,u.themeColors,u.themeStyle,u.theme,u.getProviderName,n,s,i,a,o]);return u.isBubbleStyle?h.jsx(RK,{...c}):h.jsx(NK,{...c})},(t,e)=>t.message.id===e.message.id&&t.message.updatedAt===e.message.updatedAt&&t.message.status===e.message.status&&JSON.stringify(t.message.blocks)===JSON.stringify(e.message.blocks)&&t.showAvatar===e.showAvatar&&t.isCompact===e.isCompact&&t.messageIndex===e.messageIndex&&t.forceUpdate===e.forceUpdate);Ip.displayName="MessageItem";const B3=({show:t=!0,style:e="subtle"})=>{const r=Ht();if(!t)return null;const s=(()=>{switch(e){case"prominent":return{opacity:.6,marginY:3,borderWidth:1,borderStyle:"solid"};case"normal":return{opacity:.4,marginY:2.5,borderWidth:.5,borderStyle:"solid"};case"subtle":default:return{opacity:.2,marginY:2,borderWidth:.5,borderStyle:"dashed"}}})();return h.jsx(de,{sx:{display:"flex",alignItems:"center",marginY:s.marginY,paddingX:3},children:h.jsx(St,{sx:{width:"100%",opacity:s.opacity,borderColor:r.palette.divider,borderWidth:s.borderWidth,borderStyle:s.borderStyle,"&::before, &::after":{borderColor:r.palette.divider,borderWidth:s.borderWidth,borderStyle:s.borderStyle}}})})},LK=({date:t,messages:e,expanded:r=!0,onToggleExpand:n,forceUpdate:s,startIndex:i=0,onRegenerate:a,onDelete:o,onSwitchVersion:A,onResend:u})=>{const c=Ht().palette.mode==="dark",f=dt(C=>C.settings.messageGrouping||"byDate"),[m,g]=q.useState(!0);q.useEffect(()=>{const C=()=>{try{const D=z3();g(D)}catch(D){console.error("获取消息分割线设置失败:",D)}};C();const x=D=>{D.key==="appSettings"&&C()},E=()=>{C()};return window.addEventListener("storage",x),window.addEventListener("appSettingsChanged",E),()=>{window.removeEventListener("storage",x),window.removeEventListener("appSettingsChanged",E)}},[]);const b=q.useMemo(()=>{try{const C=new Date(t);return dg(C,"yyyy年MM月dd日 EEEE",{locale:ux})}catch{return t}},[t]),[,v]=q.useState(0),w=q.useCallback(()=>{v(C=>C+1)},[]),B=s||w;return q.useEffect(()=>{if(e.some(x=>x.status==="streaming")){const x=Wn.throttle(()=>{B()},200),E=()=>{x()},D=zr.on(ps.STREAM_TEXT_DELTA,E),_=zr.on(ps.STREAM_TEXT_COMPLETE,E),L=zr.on(ps.STREAM_THINKING_DELTA,E);return()=>{D(),_(),L(),x.cancel()}}},[e,B]),f==="disabled"?h.jsx(de,{children:e.map((C,x)=>h.jsxs(rt.Fragment,{children:[h.jsx(Ip,{message:C,forceUpdate:B,messageIndex:i+x,onRegenerate:a,onDelete:o,onSwitchVersion:A,onResend:u}),wm(e,x)&&h.jsx(B3,{show:m,style:"subtle"})]},C.id))}):h.jsxs(de,{sx:{mb:3},children:[h.jsxs(HK,{onClick:n,sx:{cursor:n?"pointer":"default",backgroundColor:c?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)"},children:[h.jsx(Se,{variant:"body2",color:"text.secondary",children:b}),n&&h.jsx(Nr,{size:20,style:{transform:r?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",color:"#757575"}})]}),r&&h.jsx(de,{children:e.map((C,x)=>h.jsxs(rt.Fragment,{children:[h.jsx(Ip,{message:C,forceUpdate:B,messageIndex:i+x,onRegenerate:a,onDelete:o,onSwitchVersion:A,onResend:u}),wm(e,x)&&h.jsx(B3,{show:m,style:"subtle"})]},C.id))})]})},HK=vs(hr)(({theme:t})=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,2),marginBottom:t.spacing(1),borderRadius:t.shape.borderRadius,boxShadow:"none"})),PK=rt.memo(LK),$6=rt.memo(({topic:t,assistant:e,onClick:r})=>{const n=Ht(),i=(()=>{let a="";return e?.systemPrompt?(a=e.systemPrompt,t?.prompt&&t.prompt.trim()&&(a=a+`

[追加] `+t.prompt)):t?.prompt&&t.prompt.trim()?a=t.prompt:a="点击此处编辑系统提示词",a})();return h.jsxs(hr,{elevation:1,onClick:r,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 16px",margin:"0 8px 16px 8px",borderRadius:"8px",cursor:"pointer",backgroundColor:n.palette.mode==="dark"?"rgba(30, 30, 30, 0.95)":$s(n.palette.background.paper,.95),border:"1px solid",borderColor:n.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",backdropFilter:"blur(8px)",userSelect:"none","&:hover":{backgroundColor:n.palette.mode==="dark"?"rgba(40, 40, 40, 0.98)":$s(n.palette.background.paper,.98),borderColor:n.palette.mode==="dark"?"rgba(255, 255, 255, 0.25)":"rgba(0, 0, 0, 0.25)"},position:"relative",zIndex:10},children:[h.jsx(Bo,{size:20,style:{marginRight:12,color:n.palette.mode==="dark"?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.6)"}}),h.jsx(de,{sx:{flex:1,overflow:"hidden"},children:h.jsx(Se,{variant:"caption",component:"div",sx:{color:n.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",fontSize:"12px",lineHeight:1.3,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:i})}),h.jsx(Mi,{size:18,style:{marginLeft:8,color:n.palette.mode==="dark"?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)"}})]})});$6.displayName="SystemPromptBubble";const X6=(t,e,r)=>{const{openDialog:n,closeDialog:s}=nC();return q.useEffect(()=>{e?n(t):s(t)},[e,n,s,t]),q.useEffect(()=>{const a=o=>{o.detail.dialogId===t&&r()};return window.addEventListener("closeDialog",a),()=>{window.removeEventListener("closeDialog",a)}},[r,t]),{handleClose:()=>{s(t),r()}}},jK=({open:t,onClose:e,topic:r,assistant:n,onSave:s})=>{const i=Ht(),a=Ic(),[o,A]=q.useState(""),[u,l]=q.useState(!1),[c,f]=q.useState(0),[m,g]=q.useState(null),[b,v]=q.useState("combined"),w="system-prompt-dialog",{handleClose:B}=X6(w,t,e),C=I=>{if(!I)return 0;const G=I.match(/\b\w+\b/g)?.length||0,W=(I.match(/[\u4e00-\u9fa5\u3040-\u309f\u30a0-\u30ff]/g)||[]).length;return Math.ceil(G*1.3+W*2)},x=()=>{switch(b){case"assistant":return"助手提示词";case"topic":return"话题提示词";case"combined":default:return n?.systemPrompt&&r?.prompt?"组合提示词（需选择具体编辑目标）":n?.systemPrompt?"助手提示词":r?.prompt?"话题提示词":"新提示词"}};q.useEffect(()=>{if(t){let I="combined";n?.systemPrompt&&!r?.prompt?I="assistant":!n?.systemPrompt&&r?.prompt?I="topic":I="combined",v(I);let G="";switch(I){case"assistant":G=n?.systemPrompt||"";break;case"topic":G=r?.prompt||"";break;case"combined":default:n?.systemPrompt?(G=n.systemPrompt,r?.prompt&&r.prompt.trim()&&(G+=`

[追加] `+r.prompt)):r?.prompt&&r.prompt.trim()?G=r.prompt:G="点击此处编辑系统提示词";break}A(G),f(C(G)),g(null)}},[t,r,n]);const E=async()=>{try{l(!0),g(null);const I=o.trim();switch(b){case"assistant":if(!n)throw new Error("没有找到助手信息");console.log("[SystemPromptDialog] 保存助手系统提示词:",{assistantId:n.id,assistantName:n.name,systemPrompt:I.substring(0,50)+(I.length>50?"...":"")});const G={...n,systemPrompt:I};await De.saveAssistant(G),console.log("[SystemPromptDialog] 已保存助手系统提示词到数据库"),window.dispatchEvent(new CustomEvent("assistantUpdated",{detail:{assistant:G}})),console.log("[SystemPromptDialog] 已派发助手更新事件");break;case"topic":await D(I);break;case"combined":default:if(n?.systemPrompt&&!r?.prompt){const W={...n,systemPrompt:I};await De.saveAssistant(W),window.dispatchEvent(new CustomEvent("assistantUpdated",{detail:{assistant:W}}))}else await D(I);break}B()}catch(I){console.error("[SystemPromptDialog] 保存系统提示词失败:",I),g(I instanceof Error?I.message:"保存系统提示词失败")}finally{l(!1)}},D=async I=>{if(!r&&n){console.log("[SystemPromptDialog] 没有当前话题，尝试创建新话题");const G=await Xt.createNewTopic();if(G){console.log("[SystemPromptDialog] 成功创建新话题:",G.id),G.prompt=I,await Xt.saveTopic(G),console.log("[SystemPromptDialog] 已保存话题提示词");return}else throw new Error("创建话题失败")}if(r){console.log("[SystemPromptDialog] 更新现有话题的系统提示词");const G={...r,prompt:I};await Xt.saveTopic(G),console.log("[SystemPromptDialog] 已保存话题提示词到数据库"),n&&(a(V3({assistantId:n.id,topic:G})),console.log("[SystemPromptDialog] 已通过Redux更新话题状态")),s&&(console.log("[SystemPromptDialog] 调用onSave回调，通知父组件更新"),s(G))}},_=I=>{const G=I.target.value;A(G),f(C(G))},L=I=>{v(I);let G="";switch(I){case"assistant":G=n?.systemPrompt||"";break;case"topic":G=r?.prompt||"";break;case"combined":default:n?.systemPrompt?(G=n.systemPrompt,r?.prompt&&r.prompt.trim()&&(G+=`

[追加] `+r.prompt)):r?.prompt&&r.prompt.trim()?G=r.prompt:G="点击此处编辑系统提示词";break}A(G),f(C(G))};return h.jsxs(kr,{open:t,onClose:e,fullWidth:!0,maxWidth:"md",sx:{"& .MuiDialog-paper":{borderRadius:"12px",margin:"16px",minHeight:"600px",width:"90%",maxWidth:"800px"}},children:[h.jsxs(an,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${i.palette.divider}`,pb:1},children:["系统提示词设置",h.jsx(Ye,{edge:"end",color:"inherit",onClick:e,"aria-label":"close",children:h.jsx(ri,{})})]}),h.jsxs(Ir,{sx:{pt:2,pb:0,minHeight:"500px",height:"70vh",display:"flex",flexDirection:"column"},children:[m&&h.jsx(Sn,{severity:"error",sx:{mb:2},children:m}),!r&&!u&&h.jsx(Sn,{severity:"info",sx:{mb:2},children:"保存将创建新话题并应用此系统提示词"}),h.jsxs(de,{sx:{mb:2},children:[h.jsx(Se,{variant:"subtitle2",sx:{mb:1},children:"编辑模式"}),h.jsxs(sC,{value:b,exclusive:!0,onChange:(I,G)=>G&&L(G),size:"small",sx:{mb:1,"& .MuiToggleButton-root":{fontSize:"12px",fontWeight:600,px:1.5,py:.5,minHeight:"32px","&.Mui-selected":{fontWeight:700}}},children:[h.jsxs(W0,{value:"combined",children:[h.jsx(zf,{size:14,style:{marginRight:3}}),"组合预览"]}),h.jsxs(W0,{value:"assistant",disabled:!n,children:[h.jsx(Eo,{size:14,style:{marginRight:3}}),"助手提示词"]}),h.jsxs(W0,{value:"topic",children:[h.jsx(zf,{size:14,style:{marginRight:3}}),"话题提示词"]})]}),h.jsxs(Se,{variant:"caption",color:"text.secondary",sx:{fontSize:"11px",fontWeight:500,color:i.palette.text.secondary},children:["当前编辑: ",x()]})]}),h.jsx(St,{sx:{mb:2}}),h.jsx(Er,{autoFocus:!0,multiline:!0,fullWidth:!0,variant:"outlined",placeholder:b==="combined"?"组合预览（只读）":"输入系统提示词...",value:o,onChange:_,disabled:b==="combined",rows:16,sx:{mb:0,flex:1,"& .MuiInputBase-root":{fontSize:"14px",lineHeight:1.5,height:"100%"},"& .MuiInputBase-inputMultiline":{height:"100% !important",overflow:"auto !important"}}}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:i.palette.text.secondary,fontSize:"0.75rem",mt:.5,mb:0},children:[h.jsx(Se,{variant:"caption",children:b==="combined"?"预览模式：显示最终生效的提示词":"编辑模式：修改后点击保存"}),h.jsxs(Se,{variant:"caption",children:["估计Token数量: ",c]})]})]}),h.jsxs(on,{sx:{padding:"8px 24px 16px 24px",borderTop:`1px solid ${i.palette.divider}`,mt:0},children:[h.jsx(ut,{onClick:e,color:"inherit",children:"取消"}),h.jsx(ut,{onClick:E,variant:"contained",color:"primary",disabled:u||b==="combined",children:u?"保存中...":`保存到${x()}`})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _p=function(t,e){return _p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},_p(t,e)};function zK(t,e){_p(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _A=function(){return _A=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_A.apply(this,arguments)};function KK(t,e,r,n){var s,i=!1,a=0;function o(){s&&clearTimeout(s)}function A(){o(),i=!0}typeof e!="boolean"&&(n=r,r=e,e=void 0);function u(){var l=this,c=Date.now()-a,f=arguments;if(i)return;function m(){a=Date.now(),r.apply(l,f)}function g(){s=void 0}n&&!s&&m(),o(),n===void 0&&c>t?m():e!==!0&&(s=setTimeout(n?g:m,n===void 0?t-c:t))}return u.cancel=A,u}var uo={Pixel:"Pixel",Percent:"Percent"},C3={unit:uo.Percent,value:.8};function E3(t){return typeof t=="number"?{unit:uo.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:uo.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:uo.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),C3):(console.warn("scrollThreshold should be string or number"),C3)}var qK=function(t){zK(e,t);function e(r){var n=t.call(this,r)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:typeof n.props.scrollableTarget=="string"?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},n.onStart=function(s){n.lastScrollTop||(n.dragging=!0,s instanceof MouseEvent?n.startY=s.pageY:s instanceof TouchEvent&&(n.startY=s.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(s){n.dragging&&(s instanceof MouseEvent?n.currentY=s.pageY:s instanceof TouchEvent&&(n.currentY=s.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>n.maxPullDownDistance*1.5)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(s){typeof n.props.onScroll=="function"&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(s)},0);var i=n.props.height||n._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!n.actionTriggered){var a=n.props.inverse?n.isElementAtTop(i,n.props.scrollThreshold):n.isElementAtBottom(i,n.props.scrollThreshold);a&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=i.scrollTop}},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},n.throttledOnScrollListener=KK(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(r,n){var s=r.dataLength!==n.prevDataLength;return s?_A(_A({},n),{prevDataLength:r.dataLength}):null},e.prototype.isElementAtTop=function(r,n){n===void 0&&(n=.8);var s=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=E3(n);return i.unit===uo.Pixel?r.scrollTop<=i.value+s-r.scrollHeight+1:r.scrollTop<=i.value/100+s-r.scrollHeight+1},e.prototype.isElementAtBottom=function(r,n){n===void 0&&(n=.8);var s=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=E3(n);return i.unit===uo.Pixel?r.scrollTop+s>=r.scrollHeight-i.value:r.scrollTop+s>=i.value/100*r.scrollHeight},e.prototype.render=function(){var r=this,n=_A({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return rt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},rt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(a){return r._infScroll=a},style:n},this.props.pullDownToRefresh&&rt.createElement("div",{style:{position:"relative"},ref:function(a){return r._pullDown=a}},rt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(q.Component);const Ll={BY_DATE:"byDate",BY_MODEL:"byModel",BY_HOUR:"byHour",DISABLED:"disabled"};function VK(t){const e={};return t.forEach(r=>{const n=r.createdAt?new Date(r.createdAt):new Date,s=dg(n,"yyyy-MM-dd");e[s]||(e[s]=[]),e[s].push(r)}),e}function GK(t){const e={};return t.forEach(r=>{const n=r.createdAt?new Date(r.createdAt):new Date,s=dg(n,"yyyy-MM-dd HH:00");e[s]||(e[s]=[]),e[s].push(r)}),e}function WK(t){const e={};return t.forEach(r=>{if(r.role==="user"){const s="user";e[s]||(e[s]=[]),e[s].push(r);return}const n=r.modelId||"unknown";e[n]||(e[n]=[]),e[n].push(r)}),e}function $K(t,e=Ll.BY_DATE){if(e===Ll.DISABLED){const r={};return t.forEach(n=>{r[n.id]=[n]}),r}return e===Ll.BY_MODEL?WK(t):e===Ll.BY_HOUR?GK(t):VK(t)}const XK=({enabled:t=!1,targetId:e="messageList",forceShow:r=!1})=>{const n=ms(pe=>pe.settings.showPerformanceMonitor),s=n!==void 0?n:t||r,[i,a]=q.useState(!0),[o,A]=q.useState(()=>{try{const pe=localStorage.getItem("performanceMonitorPosition");return pe?JSON.parse(pe):{x:16,y:80}}catch{return{x:16,y:80}}}),[u,l]=q.useState(!1),[c,f]=q.useState({x:0,y:0}),m=q.useRef(null),g=q.useRef(o),b=q.useRef(null),v=q.useRef(null),[w,B]=q.useState({fps:0,scrollEvents:0,renderTime:0,memoryUsage:0,scrollEventsPerSecond:0}),C=q.useRef(0),x=q.useRef(performance.now()),E=q.useRef(0),D=q.useRef(performance.now()),_=q.useCallback((pe,te)=>{l(!0),f({x:pe-o.x,y:te-o.y})},[o]),L=q.useCallback((pe,te)=>{if(!u)return;const $=pe-c.x,he=te-c.y,me=window.innerWidth-200,ye=window.innerHeight-300,ce={x:Math.max(0,Math.min($,me)),y:Math.max(0,Math.min(he,ye))};g.current=ce,v.current&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{m.current&&(m.current.style.left=`${ce.x}px`,m.current.style.top=`${ce.y}px`)})},[u,c]),I=q.useCallback(()=>{l(!1);const pe=g.current;A(pe),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{try{localStorage.setItem("performanceMonitorPosition",JSON.stringify(pe))}catch(te){console.warn("无法保存性能监控位置:",te)}},500),v.current&&(cancelAnimationFrame(v.current),v.current=null)},[]),G=q.useCallback(pe=>{pe.preventDefault(),_(pe.clientX,pe.clientY)},[_]),W=q.useCallback(pe=>{L(pe.clientX,pe.clientY)},[L]),Q=q.useCallback(()=>{I()},[I]),j=q.useCallback(pe=>{pe.preventDefault();const te=pe.touches[0];_(te.clientX,te.clientY)},[_]),T=q.useCallback(pe=>{pe.preventDefault();const te=pe.touches[0];L(te.clientX,te.clientY)},[L]),V=q.useCallback(()=>{I()},[I]);if(q.useEffect(()=>{g.current=o},[o]),q.useEffect(()=>{if(u)return document.addEventListener("mousemove",W),document.addEventListener("mouseup",Q),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",V),document.addEventListener("touchcancel",V),()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",Q),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",V),document.removeEventListener("touchcancel",V)}},[u,W,Q,T,V]),q.useEffect(()=>()=>{b.current&&clearTimeout(b.current),v.current&&cancelAnimationFrame(v.current)},[]),q.useEffect(()=>{if(!s)return;let pe;const te=()=>{C.current++;const ce=performance.now(),H=ce-x.current;if(H>=1e3){const P=Math.round(C.current*1e3/H),ge=H/C.current;B(ie=>({...ie,fps:P,renderTime:ge})),C.current=0,x.current=ce}pe=requestAnimationFrame(te)},$=()=>{E.current++;const ce=performance.now(),H=ce-D.current;if(H>=1e3){const P=Math.round(E.current*1e3/H);B(ge=>({...ge,scrollEvents:E.current,scrollEventsPerSecond:P})),E.current=0,D.current=ce}},he=()=>{if("memory"in performance){const ce=performance.memory;B(H=>({...H,memoryUsage:Math.round(ce.usedJSHeapSize/1024/1024)}))}};pe=requestAnimationFrame(te);const me=document.getElementById(e);me&&me.addEventListener("scroll",$,{passive:!0});const ye=setInterval(he,2e3);return()=>{cancelAnimationFrame(pe),clearInterval(ye),me&&me.removeEventListener("scroll",$)}},[s,e]),!s)return null;const J=pe=>pe>=55?"success":pe>=30?"warning":"error",Y=pe=>pe<=50?"success":pe<=100?"warning":"error",oe=()=>{a(!i)};if(!s)return null;const re=h.jsxs(hr,{ref:m,elevation:3,sx:{position:"fixed",left:o.x,top:o.y,zIndex:1e4,minWidth:i?{xs:180,sm:200}:{xs:120,sm:140},backgroundColor:"rgba(0, 0, 0, 0.85)",color:"white",borderRadius:2,backdropFilter:"blur(8px)",userSelect:"none",fontSize:{xs:"0.8rem",sm:"1rem"},cursor:u?"grabbing":"default",transition:u?"none":"all 0.2s ease",pointerEvents:"auto"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1,cursor:"grab","&:active":{cursor:"grabbing"},borderBottom:"1px solid rgba(255, 255, 255, 0.1)",touchAction:"none",userSelect:"none"},onMouseDown:G,onTouchStart:j,children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(f7,{size:14,style:{opacity:.7}}),h.jsx(I7,{size:16}),h.jsx(Se,{variant:"h6",sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:"性能监控"})]}),h.jsx(Ye,{size:"small",onClick:oe,sx:{color:"white",p:.5},children:i?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})]}),i&&h.jsxs(de,{sx:{p:2},children:[h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Se,{variant:"body2",children:"FPS:"}),h.jsx(Dt,{label:w.fps,size:"small",color:J(w.fps),sx:{minWidth:50}})]}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Se,{variant:"body2",title:"移动设备触摸滚动通常产生高频事件",children:"滚动/秒:"}),h.jsx(Dt,{label:w.scrollEventsPerSecond,size:"small",color:Y(w.scrollEventsPerSecond),sx:{minWidth:50}})]}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Se,{variant:"body2",children:"渲染:"}),h.jsx(Dt,{label:`${w.renderTime.toFixed(1)}ms`,size:"small",color:w.renderTime<16?"success":"warning",sx:{minWidth:50}})]}),w.memoryUsage!==void 0&&h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Se,{variant:"body2",children:"内存:"}),h.jsx(Dt,{label:`${w.memoryUsage}MB`,size:"small",color:w.memoryUsage<100?"success":"warning",sx:{minWidth:50}})]})]}),h.jsxs(Se,{variant:"caption",sx:{mt:1,display:"block",opacity:.7},children:["目标: ",e]})]})]});return iC.createPortal(re,document.body)},S3=20,T3=(t,e,r)=>{console.log(`[computeDisplayMessages] 输入 ${t.length} 条消息，从索引 ${e} 开始，显示 ${r} 条`);const n=t.length;if(n===0)return[];const s=Math.max(0,e),i=Math.min(n,e+r),a=t.slice(s,i);return console.log(`[computeDisplayMessages] 返回 ${a.length} 条消息，索引范围: ${s}-${i}`),a},YK=({messages:t,onRegenerate:e,onDelete:r,onSwitchVersion:n,onResend:s})=>{const i=q.useRef(null),a=Ht(),o=Sr(),[A,u]=q.useState(!1),[l,c]=q.useState(null),[f,m]=q.useState(!1),g=q.useCallback((R,Ae,be={})=>{const{showToUser:le=!1,canRecover:Te=!1}=be;if(console.error(`[MessageList] ${Ae} 错误:`,R),le){const _e=R?.message||"发生未知错误";c(`${Ae}: ${_e}`),Te&&(m(!0),setTimeout(()=>{c(null),m(!1)},3e3))}},[]),b=q.useCallback(()=>{c(null),m(!1)},[]),v=rt.useMemo(()=>MK(),[]);rt.useEffect(()=>{},[]);const[w,B]=q.useState([]),[C,x]=q.useState(!1),[E,D]=q.useState(!1),[_]=q.useState(v.virtualScrollThreshold),[,L]=q.useState(0),I=q.useCallback(()=>{L(R=>R+1)},[]),G=q.useRef(I);q.useEffect(()=>{G.current=I},[I]);const W=dt(R=>R.messageBlocks.entities),Q=dt(R=>R.messages.currentTopicId),[j,T]=q.useState(null),[V,J]=q.useState(null);q.useEffect(()=>{(async()=>{if(Q)try{const Ae=await ac.getTopic(Q);if(Ae&&(T(Ae),Ae.assistantId)){const be=await De.getAssistant(Ae.assistantId);be&&J(be)}}catch(Ae){g(Ae,"加载话题和助手信息",{showToUser:!0,canRecover:!0})}})()},[Q]);const Y=q.useRef(V);Y.current=V,q.useEffect(()=>{const R=Ae=>{const be=Ae.detail.assistant;Y.current&&be.id===Y.current.id&&J(be)};return window.addEventListener("assistantUpdated",R),()=>{window.removeEventListener("assistantUpdated",R)}},[]);const oe=dt(R=>R.settings.showSystemPromptBubble!==!1),re=dt(R=>R.settings.autoScrollToBottom!==!1),{containerRef:pe,handleScroll:te,scrollToBottom:$}=h7("messageList",{throttleTime:v.scrollThrottle,autoRestore:!1,onScroll:R=>{}}),he=q.useRef({isScrolling:!1,lastScrollTime:0,pendingScrolls:new Set}),me=q.useMemo(()=>({scrollToBottom:Wn.throttle((R="unknown",Ae={})=>{const{force:be=!1,behavior:le="auto"}=Ae,Te=he.current;if(!re&&!be)return;const _e=Date.now();Te.isScrolling&&_e-Te.lastScrollTime<50||(Te.isScrolling=!0,Te.lastScrollTime=_e,Te.pendingScrolls.add(R),requestAnimationFrame(()=>{try{i.current?i.current.scrollIntoView({behavior:le}):$&&$()}catch(ve){g(ve,`滚动管理器滚动失败 (来源: ${R})`,{showToUser:!1})}finally{Te.pendingScrolls.delete(R),setTimeout(()=>{Te.isScrolling=!1},100)}}))},100,{leading:!0,trailing:!0}),getScrollState:()=>he.current,cleanup:()=>{he.current.pendingScrolls.clear(),he.current.isScrolling=!1}}),[$,re]),ye=q.useRef(me);q.useEffect(()=>{ye.current=me},[me]),q.useEffect(()=>{if(!re)return;const R=Object.values(W||{}).some(be=>be?.status==="streaming"),Ae=t.some(be=>be.status==="streaming");(R||Ae)&&ye.current.scrollToBottom("streamingCheck")},[W,t,re]),q.useEffect(()=>{const R=Wn.throttle(()=>{ye.current.scrollToBottom("textDelta")},300),Ae=()=>{ye.current.scrollToBottom("eventHandler",{force:!0})},be=zr.on(ps.STREAM_TEXT_DELTA,R),le=zr.on(ps.STREAM_TEXT_COMPLETE,R),Te=zr.on(ps.STREAM_THINKING_DELTA,R),_e=zr.on(ps.UI_SCROLL_TO_BOTTOM,Ae);return()=>{be(),le(),Te(),_e(),R.cancel()}},[]);const ce=q.useMemo(()=>Wn.throttle(()=>{ye.current.scrollToBottom("messageLengthChange")},200),[]),H=q.useRef(t.length);q.useEffect(()=>{t.length>H.current&&ce(),H.current=t.length},[t.length,ce]);const P=q.useCallback(()=>{u(!0)},[]),ge=q.useCallback(()=>{u(!1)},[]),ie=q.useCallback(R=>{T(R)},[]);q.useEffect(()=>{(async()=>{const Ae=[];for(const be of t)if(be.blocks&&be.blocks.length>0){for(const le of be.blocks)if(!W[le])try{const Te=await De.getMessageBlock(le);Te&&Ae.push(Te)}catch(Te){g(Te,`加载块 ${le} 失败`,{showToUser:!1})}}Ae.length>0&&o(Dc(Ae))})()},[t,W,o]);const Z=q.useMemo(()=>(console.log(`[MessageList] 使用，直接使用 ${t.length} 条有序消息，无需去重`),t),[t]),se=q.useMemo(()=>{const R=Math.max(0,Z.length-_);return T3(Z,R,_)},[Z,_]),Ce=q.useMemo(()=>Z.length>_,[Z.length,_]);q.useEffect(()=>{B(se),x(Ce)},[se,Ce]);const O=q.useRef({hasMore:C,isLoadingMore:E,displayMessages:w,filteredMessages:Z});O.current={hasMore:C,isLoadingMore:E,displayMessages:w,filteredMessages:Z};const ue=q.useCallback(()=>{const{hasMore:R,isLoadingMore:Ae,displayMessages:be,filteredMessages:le}=O.current;!R||Ae||(D(!0),setTimeout(()=>{const Te=be.length,_e=Math.max(0,le.length-Te-S3),ve=T3(le,_e,Te+S3);B(ve),x(_e>0),D(!1)},300))},[]),N=dt(R=>R.settings.messageGrouping||"byDate"),F=q.useMemo(()=>Object.entries($K(w,N)),[w,N]),k=dt(R=>R.settings.chatBackground||{enabled:!1});return q.useEffect(()=>()=>{me.scrollToBottom.cancel(),me.cleanup(),ce.cancel(),console.log("[MessageList] 组件卸载，已清理所有节流函数")},[me,ce]),h.jsxs(de,{id:"messageList",ref:pe,sx:{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"auto",px:0,pt:0,pb:2,width:"100%",maxWidth:"100%",...kK,...k.enabled?{}:{bgcolor:a.palette.background.default},..._K(a.palette.mode==="dark")},onScroll:te,children:[l&&h.jsxs(de,{sx:{position:"sticky",top:0,zIndex:1e3,bgcolor:a.palette.error.main,color:a.palette.error.contrastText,p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:1,mb:1,mx:2},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(de,{sx:{fontSize:"16px"},children:"⚠️"}),h.jsx(de,{children:l})]}),h.jsxs(de,{sx:{display:"flex",gap:1},children:[f&&h.jsx(de,{sx:{fontSize:"12px",opacity:.8},children:"自动恢复中..."}),h.jsx(de,{sx:{cursor:"pointer",fontSize:"18px","&:hover":{opacity:.7}},onClick:b,children:"✕"})]})]}),oe&&h.jsx($6,{topic:j,assistant:V,onClick:P},`prompt-bubble-${j?.id||"no-topic"}-${V?.id||"no-assistant"}`),h.jsx(jK,{open:A,onClose:ge,topic:j,assistant:V,onSave:ie}),w.length===0?h.jsx(de,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:a.palette.text.secondary,fontStyle:"normal",fontSize:"14px"},children:"新的对话开始了，请输入您的问题"}):h.jsx(de,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:h.jsx(qK,{dataLength:w.length,next:ue,hasMore:C,loader:E?h.jsx(de,{sx:{display:"flex",justifyContent:"center",padding:"10px"},children:h.jsx(de,{sx:{width:"20px",height:"20px",border:"2px solid",borderColor:a.palette.primary.main,borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})}):null,scrollableTarget:"messageList",inverse:!0,style:{overflow:"visible",display:"flex",flexDirection:"column"},children:h.jsx(de,{sx:{display:"flex",flexDirection:"column"},children:F.map(([R,Ae],be)=>{const le=F.slice(0,be).reduce((Te,[,_e])=>Te+_e.length,0);return h.jsx(PK,{date:R,messages:Ae,expanded:!0,forceUpdate:G.current,startIndex:le,onRegenerate:e,onDelete:r,onSwitchVersion:n,onResend:s},R)})})})}),h.jsx("div",{ref:i}),h.jsx("div",{style:{height:"35px",minHeight:"35px",width:"100%"}}),h.jsx(XK,{targetId:"messageList"})]})},Y6=q.createContext(void 0),JK=({children:t,value:e})=>h.jsx(Y6.Provider,{value:e,children:t}),ZK=()=>{const t=q.useContext(Y6);if(t===void 0)throw new Error("useSidebarContext must be used within a SidebarProvider");return t};function eq(t){const e=Sr(),r=dt(A=>A.assistants.assistants),n=t&&r.find(A=>A.id===t)||null,s=q.useCallback(async(A=!1)=>{!t||!n||A&&console.log(`[useAssistant] 强制刷新助手 ${n.name} 的话题数据`)},[t,n]);q.useEffect(()=>{s()},[s]),q.useEffect(()=>{if(!t)return;const A=l=>{l&&(l.assistantId===t||!l.assistantId)&&s()},u=lr.on(hn.TOPICS_CLEARED,A);return()=>{u()}},[t,s]);const i=q.useCallback(async A=>{if(!t)return!1;A.assistantId!==t&&(console.warn(`addTopicToAssistant: Topic ${A.id} had assistantId ${A.assistantId}. Forcing to current assistant ${t}.`),A.assistantId=t);try{return await De.saveTopic(A),e(zp({assistantId:t,topic:A})),!0}catch(u){return console.error("添加话题失败:",u),!1}},[t,e]),a=q.useCallback(async A=>{if(!t)return!1;try{return await De.deleteTopic(A),e(Kp({assistantId:t,topicId:A})),!0}catch(u){return console.error("删除话题失败:",u),!1}},[t,e]),o=q.useCallback(async A=>{if(!t)return!1;A.assistantId!==t&&(console.warn(`updateAssistantTopic: Topic ${A.id} had assistantId ${A.assistantId}. Forcing to current assistant ${t}.`),A.assistantId=t);try{return await De.saveTopic(A),e(V3({assistantId:t,topic:A})),!0}catch(u){return console.error("更新话题失败:",u),!1}},[t,e]);return{assistant:n,addTopic:i,removeTopic:a,updateTopic:o,refreshTopics:s}}function tq(){const[t,e]=q.useState(0),[r,n]=q.useState(!0),s=q.useRef(!1),i=Sr(),a=q.useMemo(()=>sn([B=>B.assistants.assistants,B=>B.assistants.currentAssistant,B=>B.messages.currentTopicId],(B,C,x)=>({assistants:B,currentAssistant:C,currentTopicId:x})),[]),{assistants:o,currentAssistant:A,currentTopicId:u}=dt(a),{assistant:l,updateTopic:c,refreshTopics:f}=eq(A?.id||null),[m,g]=q.useState(null);q.useEffect(()=>{(async()=>{if(!u){g(null);return}try{if(l?.topics){const x=l.topics.find(E=>E.id===u);if(x){console.log("[useSidebarState] 从助手话题中找到话题:",x.name),g(x);return}}const C=await ac.getTopic(u);C?(console.log("[useSidebarState] 从数据库加载话题:",C.name),g(C)):console.warn("[useSidebarState] 话题不存在:",u)}catch(C){console.error("加载话题信息失败:",C)}})()},[u]),q.useEffect(()=>{if(u&&l?.topics){const B=l.topics.find(C=>C.id===u);B&&(console.log("[useSidebarState] 助手话题更新，同步currentTopic:",B.name),g(B))}},[l?.topics?.length,u]);const b=q.useCallback(B=>{i(ym(B))},[i]),v=q.useCallback(B=>{i(sA(B))},[i]),w=q.useCallback(async(B=!1)=>{if(B){console.log("[SidebarTabs] 强制重新加载助手列表...");try{const C=await G3.getUserAssistants();i(ym(C)),console.log(`[SidebarTabs] 重新加载了 ${C.length} 个助手`)}catch(C){throw console.error("[SidebarTabs] 重新加载助手列表失败:",C),C}}else console.log("[SidebarTabs] 使用预加载的助手数据")},[i]);return q.useEffect(()=>{!s.current&&o.length>0?(console.log("[SidebarTabs] 检测到预加载数据，设置为已初始化"),s.current=!0,n(!1)):s.current||console.log("[SidebarTabs] 等待AppInitializer完成数据预加载...")},[o.length]),q.useEffect(()=>{const B=lr.on(hn.SHOW_TOPIC_SIDEBAR,()=>{e(1)});return()=>{B()}},[]),{value:t,setValue:e,loading:r,userAssistants:o,setUserAssistants:b,currentAssistant:A,setCurrentAssistant:v,assistantWithTopics:l,currentTopic:m,updateAssistantTopic:c,refreshTopics:f,loadAssistants:w}}const rq="currentAssistantId";function nq({currentAssistant:t,setCurrentAssistant:e,currentTopic:r,switchToTopicTab:n}){const s=Sr(),i=dt(c=>c.assistants.assistants),a=q.useCallback(async c=>{try{await M3(rq,c)}catch(f){console.warn("[SidebarTabs] 缓存助手ID到存储失败:",f)}},[]);q.useCallback(()=>{t?.id&&a(t.id)},[t?.id,a]);const o=q.useCallback(c=>{console.log("[useAssistantManagement] 切换助手:",c.name),q.startTransition(()=>{s(sA(c)),e(c),n&&n(),c.topics&&c.topics.length>0&&s(Ge.setCurrentTopicId(c.topics[0].id))}),Promise.resolve().then(async()=>{try{if(await De.saveSetting("currentAssistant",c.id),!c.topics||c.topics.length===0){const f=await Xt.createNewTopic();if(f){await De.saveTopic(f);const m={...c,topicIds:[f.id],topics:[f]};await De.saveAssistant(m),s(xm(m))}}console.log("[useAssistantManagement] 后台保存完成:",c.id)}catch(f){console.error("后台保存助手失败:",f)}})},[s,e,r]),A=q.useCallback(async c=>{try{if(console.log("[useAssistantManagement] 开始添加助手:",c.name),c.topics&&c.topics.length>0)for(const f of c.topics)await De.saveTopic(f);await De.saveAssistant(c),await De.saveSetting("currentAssistant",c.id),s(aC(c)),s(sA(c)),e(c),console.log("[useAssistantManagement] 助手添加完成:",c.id)}catch(f){console.error("添加助手失败:",f)}},[s,e]),u=q.useCallback(async c=>{try{console.log("[useAssistantManagement] 开始更新助手:",c.name),await De.saveAssistant(c),s(xm(c)),t&&t.id===c.id&&e(c),console.log("[useAssistantManagement] 助手更新完成:",c.id)}catch(f){console.error("更新助手失败:",f)}},[s,t,e]),l=q.useCallback(async c=>{try{if(console.log("[useAssistantManagement] 开始删除助手:",c),await De.deleteAssistant(c),s(oC(c)),t&&t.id===c){const f=i.filter(m=>m.id!==c);f.length>0?(e(f[0]),s(sA(f[0]))):(e(null),s(sA(null)))}console.log("[useAssistantManagement] 助手删除完成:",c)}catch(f){console.error("删除助手失败:",f)}},[s,t,e]);return{handleSelectAssistant:o,handleAddAssistant:A,handleUpdateAssistant:u,handleDeleteAssistant:l}}function sq(){const t=Ic(),e=ms(b=>b.settings.messageStyle),r=ms(b=>b.settings.renderUserInputAsMarkdown),n=ms(b=>b.settings.autoScrollToBottom),s=ms(b=>b.settings.messageNavigation||"none"),[i,a]=q.useState({streamOutput:!0,showMessageDivider:!0,copyableCodeBlocks:!0,highPerformanceStreaming:K5(),messageStyle:e||"bubble",renderUserInputAsMarkdown:r!==void 0?r:!0,autoScrollToBottom:n!==void 0?n:!0,messageNavigation:s,contextLength:16e3,contextCount:5,mathRenderer:"KaTeX",defaultThinkingEffort:"medium"}),o=[{value:"plain",label:"简洁"},{value:"bubble",label:"气泡"}],A=[{value:"none",label:"不显示"},{value:"buttons",label:"上下按钮"}],u=[{id:"streamOutput",name:"流式输出",defaultValue:i.streamOutput,description:"实时显示AI回答，打字机效果"},{id:"highPerformanceStreaming",name:"高性能流式输出",defaultValue:i.highPerformanceStreaming,description:"启用超高性能渲染模式：虚拟化、Canvas或最小化渲染，大幅提升流式输出性能"},{id:"showMessageDivider",name:"消息分割线",defaultValue:i.showMessageDivider,description:"在消息之间显示分割线"},{id:"copyableCodeBlocks",name:"代码块可复制",defaultValue:i.copyableCodeBlocks,description:"允许复制代码块的内容"},{id:"renderUserInputAsMarkdown",name:"渲染用户输入",defaultValue:i.renderUserInputAsMarkdown,description:"是否渲染用户输入的Markdown格式（关闭后用户消息将显示为纯文本）"},{id:"autoScrollToBottom",name:"自动下滑",defaultValue:i.autoScrollToBottom,description:"新消息时自动滚动到聊天底部"},{id:"messageStyle",name:"消息样式",defaultValue:i.messageStyle,description:"选择聊天消息的显示样式",type:"select",options:o},{id:"messageNavigation",name:"对话导航",defaultValue:i.messageNavigation,description:"显示上下按钮快速跳转到上一条/下一条消息",type:"select",options:A}];return{settings:i,settingsArray:u,handleSettingChange:(b,v)=>{if(b==="messageStyle"){const w=v;t(AC(w)),a(B=>({...B,messageStyle:w}));return}if(b==="renderUserInputAsMarkdown"){const w=v;t(uC(w)),a(B=>({...B,renderUserInputAsMarkdown:w}));return}if(b==="autoScrollToBottom"){const w=v;t(lC(w)),a(B=>({...B,autoScrollToBottom:w}));return}if(b==="messageNavigation"){const w=v;t(cC({messageNavigation:w})),a(B=>({...B,messageNavigation:w}));return}a(w=>({...w,[b]:v})),b==="highPerformanceStreaming"&&d9(v)},handleContextLengthChange:b=>{a(v=>({...v,contextLength:b}))},handleContextCountChange:b=>{a(v=>({...v,contextCount:b}))},handleMathRendererChange:b=>{a(v=>({...v,mathRenderer:b}))},handleThinkingEffortChange:b=>{a(v=>({...v,defaultThinkingEffort:b}))}}}const If=rt.memo(function(e){const{children:r,value:n,index:s}=e;return h.jsx(de,{role:"tabpanel",hidden:n!==s,id:`sidebar-tabpanel-${s}`,"aria-labelledby":`sidebar-tab-${s}`,sx:{padding:"10px",display:n===s?"block":"none",transform:"translateZ(0)",overscrollBehavior:"contain"},children:r})},(t,e)=>t.value===e.value&&t.index===e.index&&t.children===e.children);function _f(t){return{id:`sidebar-tab-${t}`,"aria-controls":`sidebar-tabpanel-${t}`}}function iq({items:t,itemHeight:e,renderItem:r,overscanCount:n=3,height:s="100%",width:i="100%",onScroll:a,className:o,style:A,itemKey:u=(l,c)=>c}){const l=q.useRef(null),[c,f]=q.useState(0),[m,g]=q.useState(0),{startIndex:b,visibleItems:v,totalHeight:w,offsetY:B}=q.useMemo(()=>{const x=Math.max(0,Math.floor(c/e)-n),E=Math.min(t.length-1,Math.floor((c+m)/e)+n),D=t.slice(x,E+1),_=t.length*e,L=x*e;return{startIndex:x,visibleItems:D,totalHeight:_,offsetY:L}},[c,m,e,n,t]),C=q.useCallback(x=>{if(!x||!x.currentTarget)return;const E=x.currentTarget.scrollTop;requestAnimationFrame(()=>{f(E),a?.(x)})},[a]);return q.useEffect(()=>{if(l.current){const x=new ResizeObserver(E=>{for(const D of E)D.target===l.current&&g(D.contentRect.height)});return x.observe(l.current),g(l.current.clientHeight),()=>{l.current&&x.unobserve(l.current)}}},[]),h.jsx(de,{ref:l,className:`${o||""} hide-scrollbar`,sx:{height:s,width:i,overflow:"auto",position:"relative",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"},...A},onScroll:C,children:h.jsx(de,{sx:{height:w,position:"relative"},children:h.jsx(de,{sx:{position:"absolute",top:0,left:0,width:"100%",transform:`translate3d(0, ${B}px, 0)`,willChange:"transform"},children:v.map((x,E)=>{const D=b+E;return h.jsx(de,{sx:{height:e,boxSizing:"border-box",transform:"translateZ(0)",contain:"layout style paint"},children:r(x,D)},u(x,D))})})})})}const u0=rt.memo(iq),J6={User:Eo,Bot:Uc,Brain:Bo,Rocket:k5,Search:ys,BookOpen:Zp,Lightbulb:$3,Target:M5,Palette:Vp,Gamepad2:v5,Globe:qp,Laptop:E5,FileText:wa,BarChart:X3,Puzzle:g5,Settings:da,Wrench:Y3,TestTube:Q5,Microscope:F5,Trophy:O5,GraduationCap:ng,Briefcase:tg,TrendingUp:R5,DollarSign:rg,ShoppingCart:_5,Handshake:B5,Smartphone:eg,MessageCircle:W3,Mail:S5,Calendar:y5,Lock:mE,Key:b7,Shield:m7,Folder:h5,Clipboard:G7,Pin:ig,Magnet:wE,Heart:sg,Star:U5,Zap:Jp,Coffee:x5,Music:a5,Camera:f5,Video:p5,Headphones:C5,Code:Co,Database:_c,Server:I5,Cloud:J3,Wifi:m5,Download:jp,Upload:hC,Share:qf,Link:Pp,Edit:Mi,Trash2:ki,Plus:VA,Minus:g7,Check:p7,X:ri,ArrowRight:b5,ArrowLeft:dC,Home:u5,Menu:BE},aq={people:[{icon:Eo,name:"User"},{icon:Uc,name:"Bot"},{icon:Bo,name:"Brain"},{icon:ng,name:"GraduationCap"},{icon:tg,name:"Briefcase"}],tech:[{icon:E5,name:"Laptop"},{icon:eg,name:"Smartphone"},{icon:Co,name:"Code"},{icon:_c,name:"Database"},{icon:I5,name:"Server"},{icon:J3,name:"Cloud"},{icon:m5,name:"Wifi"}],tools:[{icon:da,name:"Settings"},{icon:Y3,name:"Wrench"},{icon:Q5,name:"TestTube"},{icon:F5,name:"Microscope"},{icon:ys,name:"Search"},{icon:Mi,name:"Edit"},{icon:g5,name:"Puzzle"}],business:[{icon:M5,name:"Target"},{icon:R5,name:"TrendingUp"},{icon:X3,name:"BarChart"},{icon:rg,name:"DollarSign"},{icon:_5,name:"ShoppingCart"},{icon:B5,name:"Handshake"},{icon:O5,name:"Trophy"}],creative:[{icon:Vp,name:"Palette"},{icon:f5,name:"Camera"},{icon:p5,name:"Video"},{icon:a5,name:"Music"},{icon:C5,name:"Headphones"},{icon:v5,name:"Gamepad2"},{icon:$3,name:"Lightbulb"}],general:[{icon:sg,name:"Heart"},{icon:U5,name:"Star"},{icon:Jp,name:"Zap"},{icon:x5,name:"Coffee"},{icon:k5,name:"Rocket"},{icon:qp,name:"Globe"},{icon:Zp,name:"BookOpen"},{icon:wa,name:"FileText"},{icon:W3,name:"MessageCircle"},{icon:S5,name:"Mail"},{icon:y5,name:"Calendar"},{icon:h5,name:"Folder"},{icon:u5,name:"Home"}]},oq=["😀","😊","🤖","👨‍💻","👩‍💻","🧠","🚀","🔍","📚","💡","🎯","🎨","🎮","🌍","💻","📝","📊","🧩","⚙️","🔧","🧪","🔬","🏆","🎓","💼","📈","💰","🛒","🤝","📱","💬","📧","📅","🔐","🔑","🛡️","📁","📋","📌","🧲"];function Aq(t){return t in J6}function uq({iconName:t,size:e=20,color:r,className:n,style:s}){const i=J6[t];return i?h.jsx(i,{size:e,color:r,className:n,style:s}):h.jsx(Uc,{size:e,color:r,className:n,style:s})}function Z6({assistant:t,isSelected:e,onSelectAssistant:r,onOpenMenu:n,onDeleteAssistant:s}){const a=Ht().palette.mode==="dark",o=dt(B=>B.assistants.assistants.find(C=>C.id===t.id)),[A,u]=q.useState(!1),l=q.useRef(null);q.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const c=q.useCallback(()=>{q.startTransition(()=>{r(t)})},[t,r]),f=q.useCallback(B=>{B.stopPropagation(),n(B,t)},[t,n]),m=q.useCallback(B=>{B.stopPropagation(),A?(s(t.id,B),u(!1),l.current&&(clearTimeout(l.current),l.current=null)):(u(!0),l.current=setTimeout(()=>{u(!1),l.current=null},3e3))},[t.id,s,A]),g=q.useMemo(()=>{const B=o||t;return B.topics?.length||B.topicIds?.length||0},[o,t]),b=q.useMemo(()=>{if(t.avatar)return null;const B=t.emoji||t.name.charAt(0);if(Aq(B)){const C=e?"white":a?"#ffffff":"#424242";return h.jsx(uq,{iconName:B,size:18,color:C})}return B},[t.avatar,t.emoji,t.name,e,a]),v=q.useMemo(()=>({width:32,height:32,fontSize:"1.2rem",bgcolor:e?"primary.main":a?"grey.700":"grey.300",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"25%"}),[e,a]),w=q.useMemo(()=>({fontWeight:e?600:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),[e]);return h.jsxs(WA,{onClick:c,selected:e,sx:{borderRadius:"8px",mb:1,"&.Mui-selected":{backgroundColor:"rgba(25, 118, 210, 0.08)"},"&.Mui-selected:hover":{backgroundColor:"rgba(25, 118, 210, 0.12)"}},children:[h.jsx(w5,{children:h.jsx(Gn,{src:t.avatar,sx:{...v,bgcolor:t.avatar?"transparent":e?"primary.main":a?"grey.700":"grey.300"},children:b})}),h.jsx(Ft,{primary:h.jsx(Se,{variant:"body2",sx:w,children:t.name}),secondary:h.jsxs(Se,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[g," 个话题"]})}),h.jsxs(de,{sx:{display:"flex"},children:[h.jsx(Ye,{size:"small",onClick:f,sx:{opacity:.6},children:h.jsx(qA,{size:16})}),h.jsx(Ye,{size:"small",onClick:m,sx:{opacity:A?1:.6,color:A?"error.main":"inherit","&:hover":{color:"error.main"},transition:"all 0.2s ease-in-out"},title:A?"再次点击确认删除":"删除助手",children:A?h.jsx(Z3,{size:16}):h.jsx(Mc,{size:16})})]})]})}const lq=q.memo(function({assistantGroups:e,userAssistants:r,assistantGroupMap:n,currentAssistant:s,onSelectAssistant:i,onOpenMenu:a,onDeleteAssistant:o}){const A=q.useMemo(()=>e.map(f=>{const m=r.filter(g=>g&&g.id&&n[g.id]===f.id);return{group:f,assistants:m,shouldVirtualize:m.length>15}}),[e,r,n]),u=q.useCallback((f,m)=>h.jsx(Z6,{assistant:f,isSelected:s?.id===f.id,onSelectAssistant:i,onOpenMenu:a,onDeleteAssistant:o}),[s?.id,i,a,o]),l=q.useCallback((f,m)=>f.id,[]),c=q.useCallback(({group:f,assistants:m,shouldVirtualize:g})=>h.jsx(cq,{group:f,assistantCount:m.length,shouldVirtualize:g,children:m.length>0?g?h.jsx(u0,{items:m,itemHeight:72,renderItem:u,itemKey:l,height:300,overscanCount:3,style:{border:"1px solid",borderColor:"divider",borderRadius:"4px",backgroundColor:"background.default"}}):h.jsx(de,{sx:{maxHeight:300,overflow:"auto"},children:m.map(b=>h.jsx(de,{sx:{mb:1},children:u(b,0)},b.id))}):h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{py:1,px:1,textAlign:"center",fontStyle:"italic",fontSize:"0.85rem"},children:"此分组暂无助手，请从未分组助手中添加"})},f.id),[u,l]);return A.length===0?h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{py:2,textAlign:"center"},children:"没有助手分组"}):h.jsx(de,{sx:{mb:2},children:A.map(c)})}),cq=q.memo(function({group:e,assistantCount:r,shouldVirtualize:n,children:s}){const i=Sr(),[a,o]=q.useState(null),[A,u]=q.useState(!1),[l,c]=q.useState(!1),[f,m]=q.useState(e.name),g=D=>{D.stopPropagation(),o(D.currentTarget)},b=()=>{o(null)},v=()=>{m(e.name),u(!0),b()},w=()=>{c(!0),b()},B=()=>{f.trim()&&f.trim()!==e.name&&i(e5({id:e.id,changes:{name:f.trim()}})),u(!1)},C=()=>{m(e.name),u(!1)},x=()=>{i(t5(e.id)),c(!1)},E=()=>{c(!1)};return h.jsxs(h.Fragment,{children:[h.jsxs(Gp,{defaultExpanded:!!e.expanded,disableGutters:!0,sx:{mb:1,boxShadow:"none",border:"1px solid",borderColor:"divider",borderRadius:"8px","&:before":{display:"none"}},children:[h.jsxs(Wp,{expandIcon:h.jsx(Nr,{size:20}),sx:{minHeight:"48px","& .MuiAccordionSummary-content":{margin:"8px 0",display:"flex",alignItems:"center",justifyContent:"space-between"}},children:[h.jsxs(Se,{variant:"body2",children:[e.name," (",r,")",n&&" 🚀"]}),h.jsx(de,{component:"div",onClick:D=>{D.stopPropagation(),g(D)},sx:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:"50%",padding:"4px",ml:1,cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:h.jsx(qA,{size:16})})]}),h.jsx($p,{sx:{p:1},children:s})]}),h.jsxs(Js,{anchorEl:a,open:!!a,onClose:b,children:[h.jsxs(Ze,{onClick:v,children:[h.jsx(Mi,{size:16,style:{marginRight:8}}),"编辑分组名称"]}),h.jsxs(Ze,{onClick:w,children:[h.jsx(ki,{size:16,style:{marginRight:8}}),"删除分组"]})]}),h.jsxs(kr,{open:A,onClose:C,maxWidth:"xs",fullWidth:!0,children:[h.jsx(an,{children:"编辑分组名称"}),h.jsx(Ir,{children:h.jsx(Er,{autoFocus:!0,margin:"dense",label:"分组名称",type:"text",fullWidth:!0,variant:"outlined",value:f,onChange:D=>m(D.target.value),onKeyDown:D=>{D.key==="Enter"?B():D.key==="Escape"&&C()}})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:C,children:"取消"}),h.jsx(ut,{onClick:B,variant:"contained",children:"保存"})]})]}),h.jsxs(kr,{open:l,onClose:E,maxWidth:"xs",fullWidth:!0,children:[h.jsx(an,{children:"确认删除"}),h.jsx(Ir,{children:h.jsxs(Se,{children:['确定要删除分组 "',e.name,'" 吗？分组内的助手将移至未分组。']})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:E,children:"取消"}),h.jsx(ut,{onClick:x,variant:"contained",color:"error",children:"删除"})]})]})]})}),In={ENABLE_THRESHOLD:{ASSISTANT_LIST:20,GROUP_ASSISTANT_LIST:15,TOPIC_LIST:30},ITEM_HEIGHT:{ASSISTANT_ITEM:72,TOPIC_ITEM:64,GROUP_HEADER:48},OVERSCAN_COUNT:{DEFAULT:2,LARGE_LIST:3,SMALL_LIST:1},CONTAINER_HEIGHT:{DEFAULT:400}};function eB(t){return t>100?In.OVERSCAN_COUNT.LARGE_LIST:t<20?In.OVERSCAN_COUNT.SMALL_LIST:In.OVERSCAN_COUNT.DEFAULT}function tB(t,e){switch(e){case"assistant":return t>In.ENABLE_THRESHOLD.ASSISTANT_LIST;case"topic":return t>In.ENABLE_THRESHOLD.TOPIC_LIST;case"group":return t>In.ENABLE_THRESHOLD.GROUP_ASSISTANT_LIST;default:return!1}}function rB(t){switch(t){case"assistant":return In.ITEM_HEIGHT.ASSISTANT_ITEM;case"topic":return In.ITEM_HEIGHT.TOPIC_ITEM;case"group":return In.ITEM_HEIGHT.GROUP_HEADER;default:return In.ITEM_HEIGHT.ASSISTANT_ITEM}}const dq=q.memo(function({assistants:e,currentAssistant:r,onSelectAssistant:n,onOpenMenu:s,onDeleteAssistant:i,title:a,height:o=In.CONTAINER_HEIGHT.DEFAULT,emptyMessage:A="暂无助手",itemHeight:u=rB("assistant")}){const l=q.useCallback((m,g)=>h.jsx(Z6,{assistant:m,isSelected:r?.id===m.id,onSelectAssistant:n,onOpenMenu:s,onDeleteAssistant:i}),[r?.id,n,s,i]),c=q.useCallback((m,g)=>m.id,[]),f=q.useMemo(()=>tB(e.length,"assistant"),[e.length]);return e.length===0?h.jsxs(de,{children:[a&&h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:1},children:a}),h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:100,color:"text.secondary",fontSize:"0.875rem"},children:A})]}):h.jsxs(de,{children:[a&&h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:1},children:a}),f?h.jsx(u0,{items:e,itemHeight:u,renderItem:l,itemKey:c,height:o,overscanCount:eB(e.length),style:{border:"1px solid",borderColor:"divider",borderRadius:"8px",backgroundColor:"background.paper"}}):h.jsx(de,{className:"hide-scrollbar",sx:{maxHeight:o,overflow:"auto",border:"1px solid",borderColor:"divider",borderRadius:"8px",backgroundColor:"background.paper",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},children:e.map(m=>h.jsx(de,{sx:{height:u},children:l(m,0)},m.id))}),h.jsxs(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",mt:1,fontSize:"0.75rem"},children:["共 ",e.length," 个助手",f&&" (已启用虚拟化)"]})]})},(t,e)=>{const r=t.assistants.length===e.assistants.length&&t.currentAssistant?.id===e.currentAssistant?.id&&t.height===e.height&&t.itemHeight===e.itemHeight&&t.title===e.title&&t.assistants.every((n,s)=>n.id===e.assistants[s]?.id&&n.name===e.assistants[s]?.name&&n.emoji===e.assistants[s]?.emoji);if(!r){const n=t.assistants.filter((s,i)=>{const a=e.assistants[i];return a&&s.emoji!==a.emoji});n.length>0&&console.log("[VirtualizedAssistantList] Emoji changes detected:",n.map(s=>s.name))}return r});function hq({assistant:t,isSelected:e,onSelect:r}){const n=()=>{r(t.id)},s=t.topics?.length||t.topicIds?.length||0;return h.jsxs(WA,{onClick:n,selected:e,sx:{borderRadius:"8px",mb:1,"&.Mui-selected":{backgroundColor:"rgba(25, 118, 210, 0.08)"},"&.Mui-selected:hover":{backgroundColor:"rgba(25, 118, 210, 0.12)"}},children:[h.jsx(w5,{children:h.jsx(Gn,{sx:{width:32,height:32,fontSize:"1rem",bgcolor:e?"primary.main":"grey.300"},children:t.emoji||t.name.charAt(0)})}),h.jsx(Ft,{primary:h.jsx(Se,{variant:"body2",sx:{fontWeight:e?600:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name}),secondary:h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:t.description||`${s} 个话题`})})]})}function nB({open:t,onClose:e,type:r,title:n="添加分组",assistantId:s}){const i=Sr(),[a,o]=q.useState(""),[A,u]=q.useState(""),l=()=>{o(""),u(""),e()},c=()=>{if(!a.trim()){u("分组名称不能为空");return}if(r==="topic"&&!s){u("创建话题分组需要指定助手");return}i(fC({name:a.trim(),type:r,assistantId:r==="topic"?s:void 0})),l()},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),c())};return h.jsxs(kr,{open:t,onClose:l,fullWidth:!0,maxWidth:"xs",children:[h.jsx(an,{children:n}),h.jsx(Ir,{children:h.jsx(Er,{autoFocus:!0,margin:"dense",label:`${r==="assistant"?"助手":"话题"}分组名称`,type:"text",fullWidth:!0,variant:"outlined",value:a,onChange:m=>o(m.target.value),onKeyDown:f,error:!!A,helperText:A})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:l,children:"取消"}),h.jsx(ut,{onClick:c,variant:"contained",disableElevation:!0,children:"确定"})]})]})}function fq({open:t,onClose:e,onSelectEmoji:r,currentEmoji:n}){const s=Ht(),i=ba(s.breakpoints.down("sm")),a=ba(s.breakpoints.down("md")),[o,A]=q.useState(n||""),[u,l]=q.useState(0),c=q.useCallback(B=>{A(B),r(B),e()},[r,e]),f=q.useCallback((B,C)=>{l(C)},[]),m=q.useMemo(()=>i?6:a?8:10,[i,a]),g=q.useMemo(()=>i?18:a?20:22,[i,a]),b=q.useMemo(()=>i?36:a?40:44,[i,a]),v=q.useCallback((B,C)=>{const x=B.icon;return h.jsx(Ye,{onClick:()=>c(B.name),sx:{width:b,height:b,border:C?"2px solid":"1px solid transparent",borderColor:C?"primary.main":"transparent",borderRadius:i?"6px":"8px",backgroundColor:C?"primary.50":"transparent","&:hover":{backgroundColor:"action.hover",borderColor:"primary.light",transform:"scale(1.05)"},"&:active":{transform:"scale(0.95)"},transition:"all 0.2s ease"},children:h.jsx(x,{size:g})},B.name)},[b,g,i,c]),w=q.useCallback((B,C)=>h.jsx(Ye,{onClick:()=>c(B),sx:{width:b,height:b,fontSize:i?"1rem":"1.2rem",border:C?"2px solid":"1px solid transparent",borderColor:C?"primary.main":"transparent",borderRadius:i?"6px":"8px",backgroundColor:C?"primary.50":"transparent","&:hover":{backgroundColor:"action.hover",borderColor:"primary.light",transform:"scale(1.05)"},"&:active":{transform:"scale(0.95)"},transition:"all 0.2s ease"},children:B},B),[b,i,c]);return h.jsxs(kr,{open:t,onClose:e,maxWidth:!1,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,sx:{"& .MuiDialog-paper":{width:i?"95vw":a?"80vw":"600px",maxWidth:i?"95vw":"600px",maxHeight:i?"90vh":"80vh",borderRadius:i?"12px":"16px"}},children:[h.jsx(an,{sx:{pb:1,textAlign:"center",borderBottom:1,borderColor:"divider"},children:h.jsxs(de,{children:[h.jsx(Se,{variant:i?"h6":"h5",component:"div",sx:{fontWeight:600,mb:.5},children:"选择助手图标"}),h.jsx(Se,{variant:"body2",color:"text.secondary",children:i?"选择图标或emoji":"选择一个现代化图标或传统emoji"})]})}),h.jsxs(Ir,{sx:{p:0},children:[h.jsxs(GA,{value:u,onChange:f,variant:i?"fullWidth":"standard",sx:{px:i?1:2,borderBottom:1,borderColor:"divider","& .MuiTab-root":{fontSize:i?"0.875rem":"1rem"}},children:[h.jsx(Ei,{label:"现代图标"}),h.jsx(Ei,{label:"传统Emoji"})]}),h.jsx(de,{sx:{p:i?1:2,maxHeight:i?"60vh":"50vh",overflow:"auto"},children:u===0?h.jsx(de,{children:Object.entries(aq).map(([B,C])=>h.jsxs(de,{sx:{mb:i?2:3},children:[h.jsx(de,{sx:{display:"flex",alignItems:"center",mb:1,position:"sticky",top:0,backgroundColor:"background.paper",zIndex:1,py:.5},children:h.jsx(Dt,{label:B==="people"?"👤 人物":B==="tech"?"💻 科技":B==="tools"?"🔧 工具":B==="business"?"💼 商务":B==="creative"?"🎨 创意":B==="general"?"⭐ 通用":B,size:"small",variant:"outlined",sx:{fontSize:i?"0.75rem":"0.875rem",fontWeight:600}})}),h.jsx(de,{sx:{display:"grid",gridTemplateColumns:`repeat(${m}, 1fr)`,gap:i?.5:1},children:C.map(x=>v(x,o===x.name))})]},B))}):h.jsxs(de,{children:[h.jsx(de,{sx:{display:"flex",alignItems:"center",mb:2,justifyContent:"center"},children:h.jsx(Dt,{label:"😊 经典表情",size:"small",variant:"outlined",sx:{fontSize:i?"0.75rem":"0.875rem",fontWeight:600}})}),h.jsx(de,{sx:{display:"grid",gridTemplateColumns:`repeat(${m}, 1fr)`,gap:i?.5:1},children:oq.map(B=>w(B,o===B))})]})})]})]})}var Uf,F3;function pq(){if(F3)return Uf;F3=1;var t=["阿","哎","安","肮","凹","八","挀","扳","邦","勹","陂","奔","伻","屄","边","灬","憋","汃","冫","癶","峬","嚓","偲","参","仓","撡","冊","嵾","曽","叉","芆","辿","伥","抄","车","抻","阷","吃","充","抽","出","欻","揣","巛","刅","吹","旾","逴","呲","匆","凑","粗","汆","崔","邨","搓","咑","呆","丹","当","刀","嘚","扥","灯","氐","甸","刁","爹","丁","丟","东","吺","厾","耑","垖","吨","多","妸","诶","奀","鞥","儿","发","帆","匚","飞","分","丰","覅","仏","紑","夫","旮","侅","甘","冈","皋","戈","给","根","刯","工","勾","估","瓜","乖","关","光","归","丨","呙","哈","咍","佄","夯","茠","诃","黒","拫","亨","噷","叿","齁","乎","花","怀","欢","巟","灰","昏","吙","丌","加","戋","江","艽","阶","巾","坕","冂","丩","凥","姢","噘","军","咔","开","刊","忼","尻","匼","肎","劥","空","抠","扝","夸","蒯","宽","匡","亏","坤","扩","垃","来","兰","啷","捞","肋","勒","崚","哩","俩","奁","良","撩","毟","拎","伶","溜","囖","龙","瞜","噜","驴","娈","掠","抡","罗","呣","妈","埋","嫚","牤","猫","么","呅","门","甿","咪","宀","喵","乜","民","名","谬","摸","哞","毪","嗯","拏","腉","囡","囔","孬","疒","娞","恁","能","妮","拈","娘","鸟","捏","囜","宁","妞","农","羺","奴","女","奻","疟","黁","挪","喔","讴","妑","拍","眅","乓","抛","呸","喷","匉","丕","囨","剽","氕","姘","乒","钋","剖","仆","七","掐","千","呛","悄","癿","亲","靑","卭","丘","区","峑","缺","夋","呥","穣","娆","惹","人","扔","日","茸","厹","邚","挼","堧","婑","瞤","捼","仨","毢","三","桒","掻","閪","森","僧","杀","筛","山","伤","弰","奢","申","升","尸","収","书","刷","衰","闩","双","脽","吮","说","厶","忪","捜","苏","狻","夊","孙","唆","他","囼","坍","汤","夲","忑","熥","剔","天","旫","帖","厅","囲","偷","凸","湍","推","吞","乇","穵","歪","弯","尣","危","昷","翁","挝","乌","夕","虲","仙","乡","灱","些","心","星","凶","休","吁","吅","削","坃","丫","恹","央","幺","倻","一","囙","应","哟","佣","优","扜","囦","曰","晕","帀","災","兂","匨","傮","则","贼","怎","増","扎","捚","沾","张","佋","蜇","贞","争","之","中","州","朱","抓","拽","专","妆","隹","宒","卓","乲","宗","邹","租","钻","厜","尊","昨","兙"],e=["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],r={曾:"ZENG",沈:"SHEN",嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬤:"MO",嬷:"MO",蹒:"PAN",蹊:"XI",丬:"PAN",霰:"XIAN",莘:"XIN",豉:"CHI",饧:"XING",筠:"JUN",长:"CHANG",帧:"ZHEN",峙:"SHI",郍:"NA",芎:"XIONG",谁:"SHUI"};return Uf={PINYINS:e,UNIHANS:t,EXCEPTIONS:r},Uf}var Mf,D3;function gq(){if(D3)return Mf;D3=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e=pq(),r="阿",n="鿿",s=1,i=2,a=3,o=null,A=void 0;function u(m){m&&(typeof m=="function"&&(m=[m]),m.forEach&&m.forEach(function(g){typeof g=="function"&&g(e)}))}function l(m){return!m&&o!==null||((typeof Intl>"u"?"undefined":t(Intl))==="object"&&Intl.Collator?(A=new Intl.Collator(["zh-Hans-CN","zh-CN"]),o=Intl.Collator.supportedLocalesOf(["zh-CN"]).length===1):o=!1),o}function c(m){var g=e.UNIHANS,b=e.PINYINS,v=e.EXCEPTIONS,w={source:m};if(m in v)return w.type=i,w.target=v[m],w;var B=-1,C=void 0;if(m.charCodeAt(0)<256)return w.type=s,w.target=m,w;if(C=A.compare(m,r),C<0)return w.type=a,w.target=m,w;if(C===0)w.type=i,B=0;else{if(C=A.compare(m,n),C>0)return w.type=a,w.target=m,w;C===0&&(w.type=i,B=g.length-1)}if(w.type=i,B<0)for(var x=0,E=g.length-1;x<=E;){B=~~((x+E)/2);var D=g[B];if(C=A.compare(m,D),C===0)break;C>0?x=B+1:E=B-1}return C<0&&B--,w.target=b[B],w.target||(w.type=a,w.target=w.source),w}function f(m){if(typeof m!="string")throw new Error("argument should be string.");if(!l())throw new Error("not support Intl or zh-CN language.");return m.split("").map(function(g){return c(g)})}return Mf={isSupported:l,parse:f,patchDict:u,genToken:c,convertToPinyin:function(g,b,v){return f(g).map(function(w){return v&&w.type===i?w.target.toLowerCase():w.target}).join(b||"")}},Mf}var Hl={exports:{}},k3;function mq(){return k3||(k3=1,function(t,e){e=t.exports=function(n){n.EXCEPTIONS={嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬷:"MO",蹊:"XI",丬:"PAN",霰:"XIAN",豉:"CHI",饧:"XING",帧:"ZHEN",芎:"XIONG",谁:"SHUI",钶:"KE"},n.UNIHANS[91]="伕",n.UNIHANS[347]="仚",n.UNIHANS[393]="诌",n.UNIHANS[39]="婤",n.UNIHANS[50]="腠",n.UNIHANS[369]="攸",n.UNIHANS[123]="乯",n.UNIHANS[171]="刕",n.UNIHANS[102]="佝",n.UNIHANS[126]="犿",n.UNIHANS[176]="列",n.UNIHANS[178]="刢",n.UNIHANS[252]="娝",n.UNIHANS[330]="偸"},e.shouldPatch=function(n){return typeof n!="function"?!1:n("伕").target==="FOU"&&n("仚").target==="XIA"&&n("诌").target==="ZHONG"&&n("婤").target==="CHONG"&&n("腠").target==="CONG"&&n("攸").target==="YONG"&&n("乯").target==="HOU"&&n("刕").target==="LENG"&&n("佝").target==="GONG"&&n("犿").target==="HUAI"&&n("列").target==="LIAO"&&n("刢").target==="LIN"&&n("钶").target==="E"}}(Hl,Hl.exports)),Hl.exports}var Qf,I3;function bq(){if(I3)return Qf;I3=1;var t=gq(),e=mq();return t.isSupported()&&e.shouldPatch(t.genToken)&&t.patchDict(e),Qf=t,Qf}var Pl=bq();function wq(t){const e=dt(i=>{try{return!i||!i.groups?(console.warn("Groups state is missing"),{groups:[],assistantGroupMap:{}}):i.groups}catch(a){return console.error("Error accessing groups state:",a),{groups:[],assistantGroupMap:{}}}}),r=q.useMemo(()=>{try{return Array.isArray(e.groups)?e.groups.filter(i=>i&&typeof i=="object"&&i.type==="assistant"&&Array.isArray(i.items)).sort((i,a)=>{const o=typeof i.order=="number"?i.order:0,A=typeof a.order=="number"?a.order:0;return o-A}):[]}catch(i){return console.error("Error processing assistant groups:",i),[]}},[e.groups]),n=q.useMemo(()=>{try{if(!Array.isArray(t))return[];const i=e.assistantGroupMap&&typeof e.assistantGroupMap=="object"?e.assistantGroupMap:{};return t.filter(a=>a&&typeof a=="object"&&a.id&&!i[a.id])}catch(i){return console.error("Error processing ungrouped assistants:",i),Array.isArray(t)?[...t]:[]}},[t,e.assistantGroupMap]),s=e.assistantGroupMap&&typeof e.assistantGroupMap=="object"?e.assistantGroupMap:{};return{assistantGroups:r,assistantGroupMap:s,ungroupedAssistants:n}}const yq=[{id:"math-assistant",name:"数学助手",description:"专业的数学助手，能够解答各种数学问题，从基础算术到高等数学",icon:rt.createElement(j7,{size:20,color:"#2196F3"}),emoji:"🔢",isSystem:!0,topicIds:[],topics:[],systemPrompt:IC,type:"assistant"},{id:"history-assistant",name:"历史顾问",description:"专业的历史顾问，对世界各地的历史事件、人物和文化有深入的了解",icon:rt.createElement(Zp,{size:20,color:"#795548"}),emoji:"📜",isSystem:!0,topicIds:[],topics:[],systemPrompt:_C,type:"assistant"},{id:"travel-assistant",name:"旅行规划助手",description:"专业的旅行规划助手，帮助规划旅行路线、推荐景点和活动",icon:rt.createElement(kE,{size:20,color:"#00BCD4"}),emoji:"✈️",isSystem:!0,topicIds:[],topics:[],systemPrompt:UC,type:"assistant"},{id:"health-assistant",name:"健康顾问",description:"健康生活顾问，提供健康饮食、锻炼计划等方面的一般性建议",icon:rt.createElement(sg,{size:20,color:"#4CAF50"}),emoji:"🩺",isSystem:!0,topicIds:[],topics:[],systemPrompt:MC,type:"assistant"},{id:"movie-assistant",name:"电影专家",description:"电影专家，可推荐电影、分析电影主题和讨论电影的文化影响",icon:rt.createElement(tE,{size:20,color:"#E91E63"}),emoji:"🎬",isSystem:!0,topicIds:[],topics:[],systemPrompt:QC,type:"assistant"},{id:"cooking-assistant",name:"美食顾问",description:"美食顾问，提供烹饪建议、食谱推荐和食物搭配指南",icon:rt.createElement(q7,{size:20,color:"#FF9800"}),emoji:"🍳",isSystem:!0,topicIds:[],topics:[],systemPrompt:RC,type:"assistant"},{id:"emotional-assistant",name:"情感支持助手",description:"提供情感支持和倾听服务的对话伙伴",icon:rt.createElement(uE,{size:20,color:"#F06292"}),emoji:"💗",isSystem:!0,topicIds:[],topics:[],systemPrompt:OC,type:"assistant"},{id:"education-assistant",name:"学习教育助手",description:"帮助理解各种学科概念和主题的教育助手",icon:rt.createElement(ng,{size:20,color:"#3F51B5"}),emoji:"🎓",isSystem:!0,topicIds:[],topics:[],systemPrompt:NC,type:"assistant"},{id:"business-assistant",name:"商业咨询助手",description:"提供创业、营销、管理和商业策略方面建议的商业助手",icon:rt.createElement(tg,{size:20,color:"#607D8B"}),emoji:"💼",isSystem:!0,topicIds:[],topics:[],systemPrompt:LC,type:"assistant"},{id:"tech-assistant",name:"科技解说助手",description:"以通俗易懂的方式解释各种科技概念、产品和趋势",icon:rt.createElement(eg,{size:20,color:"#673AB7"}),emoji:"📱",isSystem:!0,topicIds:[],topics:[],systemPrompt:HC,type:"assistant"},{id:"creative-writing-assistant",name:"创意写作助手",description:"帮助故事创作、诗歌写作和剧本开发的创意写作助手",icon:rt.createElement(TE,{size:20,color:"#9C27B0"}),emoji:"📝",isSystem:!0,topicIds:[],topics:[],systemPrompt:PC,type:"assistant"},{id:"legal-assistant",name:"法律咨询助手",description:"提供基本法律概念解释和一般性法律信息的助手",icon:rt.createElement(UE,{size:20,color:"#455A64"}),emoji:"⚖️",isSystem:!0,topicIds:[],topics:[],systemPrompt:jC,type:"assistant"}],xq=[{id:"default",name:"默认助手",description:"通用型AI助手，可以回答各种问题",icon:rt.createElement(pC,{size:20,color:"#FFD700"}),emoji:"😀",isSystem:!0,topicIds:[],topics:[],systemPrompt:zC,type:"assistant"},{id:"web-analysis",name:"网页分析助手",description:"帮助分析各种网页内容",icon:rt.createElement(Xp,{size:20,color:"#1E90FF"}),emoji:"🌐",isSystem:!0,topicIds:[],topics:[],systemPrompt:KC,type:"assistant"},{id:"code-assistant",name:"编程助手",description:"专业的编程助手，能够解答各种编程问题并提供代码示例",icon:rt.createElement(Co,{size:20,color:"#4CAF50"}),emoji:"💻",isSystem:!0,topicIds:[],topics:[],systemPrompt:qC,type:"assistant"},{id:"translate-assistant",name:"翻译助手",description:"专业的翻译助手，可以在不同语言之间进行准确的翻译",icon:rt.createElement(dE,{size:20,color:"#9C27B0"}),emoji:"🌍",isSystem:!0,topicIds:[],topics:[],systemPrompt:VC,type:"assistant"},{id:"writing-assistant",name:"写作助手",description:"专业的写作助手，可以帮助改进文章、报告和其他文本内容",icon:rt.createElement(Mi,{size:20,color:"#FF5722"}),emoji:"✍️",isSystem:!0,topicIds:[],topics:[],systemPrompt:GC,type:"assistant"}],vq=[...xq,...yq];function Bq(){return vq}function Cq(){return[]}function Eq(){const t=Bq(),e=Cq();return[...t,...e]}const _3=Eq();function Sq(t,e,r,n,s,i){const a=Sr(),[o,A]=q.useState(!1),[u,l]=q.useState(null),[c,f]=q.useState(""),[m,g]=q.useState(""),[b,v]=q.useState(!1),w=q.useMemo(()=>Wn.debounce(nt=>{g(nt)},300),[]),B=q.useMemo(()=>m?t.filter(nt=>!!(nt.name&&nt.name.toLowerCase().includes(m.toLowerCase())||nt.systemPrompt&&nt.systemPrompt.toLowerCase().includes(m.toLowerCase()))):t,[m,t]),{assistantGroups:C,assistantGroupMap:x,ungroupedAssistants:E}=wq(B),[D,_]=q.useState({message:"",open:!1,severity:"success"}),[L,I]=q.useState(null),[G,W]=q.useState(null),[Q,j]=q.useState(null),[T,V]=q.useState(null),[J,Y]=q.useState(!1),[oe,re]=q.useState(!1),[pe,te]=q.useState(""),[$,he]=q.useState(""),[me,ye]=q.useState(""),[ce,H]=q.useState(null),[P,ge]=q.useState(!1),[ie,Z]=q.useState(!1),[se,Ce]=q.useState(!1),O=(nt,Et="success")=>{_({message:nt,open:!0,severity:Et})},ue=()=>{_({...D,open:!1})},N=()=>{A(!0),l(null)},F=()=>{A(!1),l(null)},k=nt=>{l(nt)},R=nt=>{r(nt)},Ae=()=>{const nt=_3.find(Et=>Et.id===u);if(nt&&n){const Et={...nt,id:er(),isSystem:!1,topicIds:[],topics:[]};n(Et),F()}},be=()=>{Y(!0)},le=()=>{Y(!1)},Te=(nt,Et)=>{nt.stopPropagation(),I(nt.currentTarget),W(Et)},_e=()=>{I(null),W(null)},ve=()=>{G&&(V(G),j(L),I(null))},Me=()=>{j(null),V(null)},je=()=>{Me(),be()},Ke=(nt,Et)=>{Et&&Et.stopPropagation(),i&&i(nt),_e()},At=()=>{G&&(H(G),te(G.name),he(G.systemPrompt||""),ye(G.avatar||""),re(!0),_e())},It=()=>{re(!1),H(null),ye("")},Lr=async()=>{if(ce)try{const nt={...ce,name:pe,systemPrompt:$,avatar:me,emoji:me?void 0:ce.emoji};await De.saveAssistant(nt),console.log("[useAssistantTabLogic] 已保存助手到数据库"),s&&(s(nt),console.log("[useAssistantTabLogic] 已通过回调更新助手")),window.dispatchEvent(new CustomEvent("assistantUpdated",{detail:{assistant:nt}})),console.log("[useAssistantTabLogic] 已派发助手更新事件"),O("助手已更新"),console.log("[useAssistantTabLogic] 注意：系统提示词更改不会影响现有话题，只会应用于新创建的话题"),It()}catch(nt){console.error("[useAssistantTabLogic] 保存助手失败:",nt),O("保存助手失败","error")}},Ts=()=>{if(!G)return;const nt={...G,id:er(),name:`${G.name} (复制)`,topicIds:[],topics:[]};n(nt),_e()},Pt=async()=>{if(G){try{await G3.clearAssistantTopics(G.id);const nt={...G,topicIds:[],topics:[]};s&&(s(nt),console.log(`[useAssistantTabLogic] 已更新助手 ${G.name} 的Redux状态`)),e&&e.id===G.id&&console.log("[useAssistantTabLogic] 清空的是当前助手，已同步更新"),console.log(`[useAssistantTabLogic] 成功清空助手 ${G.name} 的话题`)}catch(nt){console.error("清空话题失败:",nt)}_e()}},_t=async nt=>{if(!G){console.warn("[useAssistantTabLogic] 没有选中的助手，无法更新图标");return}try{console.log("[useAssistantTabLogic] 开始更新助手图标:",{id:G.id,name:G.name,oldEmoji:G.emoji,newEmoji:nt});const Et={...G,emoji:nt,updatedAt:new Date().toISOString()};await De.saveAssistant(Et),console.log("[useAssistantTabLogic] 已保存助手图标到数据库");const bt=await De.getAssistant(G.id);console.log("[useAssistantTabLogic] 验证保存结果:",{savedEmoji:bt?.emoji,expectedEmoji:nt,isCorrect:bt?.emoji===nt}),s?(s(Et),console.log("[useAssistantTabLogic] 已通过回调更新助手图标")):console.warn("[useAssistantTabLogic] onUpdateAssistant回调不存在"),window.dispatchEvent(new CustomEvent("assistantUpdated",{detail:{assistant:Et}})),console.log("[useAssistantTabLogic] 已派发assistantUpdated事件"),du(),O("助手图标已更新")}catch(Et){console.error("[useAssistantTabLogic] 更新助手图标失败:",Et),O("更新助手图标失败")}},ze=()=>{[...t].sort((Et,bt)=>{const M=Pl.convertToPinyin(Et.name,"",!0),K=Pl.convertToPinyin(bt.name,"",!0);return M.localeCompare(K)}).forEach((Et,bt)=>{a({type:"assistants/updateAssistantOrder",payload:{assistantId:Et.id,order:bt}})}),O("助手已按拼音升序排列"),_e()},gr=()=>{[...t].sort((Et,bt)=>{const M=Pl.convertToPinyin(Et.name,"",!0);return Pl.convertToPinyin(bt.name,"",!0).localeCompare(M)}).forEach((Et,bt)=>{a({type:"assistants/updateAssistantOrder",payload:{assistantId:Et.id,order:bt}})}),O("助手已按拼音降序排列"),_e()},Ni=nt=>{T&&(a(r5({groupId:nt,itemId:T.id})),Me())},Ta=nt=>{te(nt.target.value)},Io=nt=>{he(nt.target.value)},Fa=()=>{ge(!0)},Yn=()=>{ge(!1)},On=nt=>{he(nt),ge(!1)},oi=()=>{if(!G){console.warn("[useAssistantTabLogic] 没有选中的助手，无法打开图标选择器");return}console.log("[useAssistantTabLogic] 打开图标选择器，选中的助手:",{id:G.id,name:G.name,emoji:G.emoji}),Z(!0),I(null)},du=()=>{Z(!1),W(null)},Yr=()=>{Ce(!0)},Nn=()=>{Ce(!1)},Jn=nt=>{ye(nt)},_o=()=>{ye("")},hu=q.useCallback(()=>{v(!0)},[]),c0=q.useCallback(()=>{v(!1),f(""),g(""),w.cancel()},[w]),d0=q.useCallback(nt=>{const Et=nt.target.value;f(Et),w(Et)},[w]);return{assistantDialogOpen:o,selectedAssistantId:u,assistantGroups:C,assistantGroupMap:x,ungroupedAssistants:E,filteredUserAssistants:B,notification:D,assistantMenuAnchorEl:L,selectedMenuAssistant:G,addToGroupMenuAnchorEl:Q,assistantToGroup:T,groupDialogOpen:J,editDialogOpen:oe,editAssistantName:pe,editAssistantPrompt:$,editAssistantAvatar:me,editingAssistant:ce,promptSelectorOpen:P,iconPickerOpen:ie,avatarUploaderOpen:se,searchQuery:c,debouncedSearchQuery:m,showSearch:b,showNotification:O,handleCloseNotification:ue,handleOpenAssistantDialog:N,handleCloseAssistantDialog:F,handleSelectAssistant:k,handleSelectAssistantFromList:R,handleAddAssistant:Ae,handleOpenGroupDialog:be,handleCloseGroupDialog:le,handleOpenMenu:Te,handleCloseAssistantMenu:_e,handleOpenAddToGroupMenu:ve,handleCloseAddToGroupMenu:Me,handleAddToNewGroup:je,handleDeleteAssistantAction:Ke,handleOpenEditDialog:At,handleCloseEditDialog:It,handleSaveAssistant:Lr,handleCopyAssistant:Ts,handleClearTopics:Pt,handleSelectEmoji:_t,handleSortByPinyinAsc:ze,handleSortByPinyinDesc:gr,handleAddToGroup:Ni,handleEditNameChange:Ta,handleEditPromptChange:Io,handleOpenPromptSelector:Fa,handleClosePromptSelector:Yn,handleSelectPrompt:On,handleOpenIconPicker:oi,handleCloseIconPicker:du,handleOpenAvatarUploader:Yr,handleCloseAvatarUploader:Nn,handleSaveAvatar:Jn,handleRemoveAvatar:_o,handleSearchClick:hu,handleCloseSearch:c0,handleSearchChange:d0,predefinedAssistantsData:_3}}const Tq=({open:t,onClose:e,onSelect:r})=>{const[n,s]=q.useState(""),[i,a]=q.useState(new Set(["general"])),[o,A]=q.useState(null),u=q.useMemo(()=>WC(),[]),l=q.useMemo(()=>n.trim()?$C(n):[],[n]),c=w=>{const B=new Set(i);B.has(w)?B.delete(w):B.add(w),a(B)},f=w=>{A(w)},m=()=>{o&&(r(o.content),e(),A(null),s(""))},g=()=>{e(),A(null),s("")},b=w=>h.jsx(cr,{disablePadding:!0,children:h.jsx(WA,{selected:o?.id===w.id,onClick:()=>f(w),sx:{borderRadius:1,mb:.5,border:o?.id===w.id?2:1,borderColor:o?.id===w.id?"primary.main":"divider",py:1,px:1.5,"&:hover":{borderColor:"primary.main"}},children:h.jsx(Ft,{primary:h.jsxs(Se,{sx:{fontSize:"0.85rem",fontWeight:600},children:[w.emoji," ",w.name]}),secondary:h.jsxs(de,{component:"div",children:[h.jsx(de,{component:"div",sx:{color:"text.secondary",mb:.5,fontSize:"0.75rem",lineHeight:1.2},children:w.description}),h.jsx(de,{sx:{display:"flex",flexWrap:"wrap",gap:.3},children:w.tags.map(B=>h.jsx(Dt,{label:B,size:"small",variant:"outlined",sx:{fontSize:"0.6rem",height:16,"& .MuiChip-label":{px:.4}}},B))})]})})})},w.id),v=w=>{const B=i.has(w.id);return h.jsxs(hr,{elevation:0,sx:{mb:1,borderRadius:1,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",cursor:"pointer",p:1.5,bgcolor:"rgba(0,0,0,0.02)","&:hover":{bgcolor:"action.hover"}},onClick:()=>c(w.id),children:[h.jsxs(Se,{variant:"subtitle2",sx:{flexGrow:1,fontWeight:600},children:[w.emoji," ",w.name]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{mr:1},children:w.prompts.length}),B?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})]}),h.jsxs(Qi,{in:B,children:[h.jsx(St,{}),h.jsx(de,{sx:{p:1},children:h.jsx(ti,{dense:!0,children:w.prompts.map(b)})})]})]},w.id)};return h.jsxs(kr,{open:t,onClose:g,maxWidth:"md",fullWidth:!0,slotProps:{paper:{sx:{height:"80vh"}}},children:[h.jsxs(an,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[h.jsx(Se,{variant:"h6",children:"选择智能体提示词"}),h.jsx(Ye,{onClick:g,size:"small",children:h.jsx(ri,{})})]}),h.jsxs(Ir,{sx:{p:2},children:[h.jsx(Er,{fullWidth:!0,placeholder:"搜索提示词...",value:n,onChange:w=>s(w.target.value),slotProps:{input:{startAdornment:h.jsx(ya,{position:"start",children:h.jsx(ys,{})})}},variant:"outlined",size:"small",sx:{mb:2}}),h.jsxs(de,{sx:{height:"calc(80vh - 200px)",overflowY:"auto"},children:[n.trim()&&h.jsxs(de,{sx:{mb:2},children:[h.jsxs(Se,{variant:"subtitle2",sx:{mb:1},children:["搜索结果 (",l.length,")"]}),l.length>0?h.jsx(ti,{dense:!0,children:l.map(b)}):h.jsx(Se,{color:"text.secondary",variant:"body2",children:"没有找到匹配的提示词"})]}),!n.trim()&&h.jsxs(de,{children:[h.jsx(Se,{variant:"subtitle2",sx:{mb:1},children:"提示词类别"}),u.map(v)]})]}),o&&h.jsxs(hr,{elevation:0,sx:{mt:2,p:2,border:"2px solid",borderColor:"primary.main",borderRadius:1,bgcolor:"primary.50"},children:[h.jsxs(Se,{variant:"subtitle2",sx:{mb:1},children:["已选择: ",o.emoji," ",o.name]}),h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{maxHeight:100,overflowY:"auto",fontSize:"0.85rem"},children:o.content})]})]}),h.jsxs(on,{children:[h.jsx(ut,{onClick:g,children:"取消"}),h.jsx(ut,{onClick:m,variant:"contained",disabled:!o,children:"使用此提示词"})]})]})},na={glassomorphism:t=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",border:`1px solid ${t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}`}),dialogPaper:t=>({height:"80vh",borderRadius:"16px",backgroundColor:t.palette.mode==="dark"?"rgba(18, 18, 18, 0.85)":"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",border:t.palette.mode==="dark"?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)",color:t.palette.text.primary,boxShadow:t.palette.mode==="dark"?"0 8px 32px rgba(0, 0, 0, 0.4)":"0 8px 32px rgba(0, 0, 0, 0.15)"}),dialogBackdrop:{backdropFilter:"blur(8px)",backgroundColor:"rgba(0, 0, 0, 0.2)"},inputField:t=>({"& .MuiOutlinedInput-root":{...na.glassomorphism(t),borderRadius:"8px",color:t.palette.text.primary,"& fieldset":{borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"},"&:hover fieldset":{borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"},"&.Mui-focused fieldset":{borderColor:t.palette.primary.main}},"& .MuiInputBase-input":{color:t.palette.text.primary,fontSize:"0.875rem"}}),avatarContainer:t=>({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:80,height:80,borderRadius:"50%",background:t.palette.mode==="dark"?"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)":"linear-gradient(135deg, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.02) 100%)",boxShadow:t.palette.mode==="dark"?"0 4px 16px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.2)":"0 4px 16px rgba(0,0,0,0.1), 0 0 0 1px rgba(0,0,0,0.05), inset 0 1px 0 rgba(255,255,255,0.8)"}),primaryButton:t=>({borderColor:t.palette.primary.main,color:t.palette.primary.main,fontSize:"0.75rem",textTransform:"none",backdropFilter:"blur(10px)",backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)","&:hover":{borderColor:t.palette.primary.light,backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}})},Fq=({open:t,onClose:e,onSave:r,assistantName:n,assistantPrompt:s,assistantAvatar:i,onNameChange:a,onPromptChange:o,onAvatarClick:A,onPromptSelectorClick:u})=>{const l=Ht(),[c,f]=q.useState(0),m=(g,b)=>{f(b)};return h.jsxs(kr,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,slotProps:{paper:{sx:na.dialogPaper(l)},backdrop:{sx:na.dialogBackdrop}},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",p:2,borderBottom:g=>`1px solid ${g.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,backgroundColor:"transparent"},children:[h.jsx(Ye,{onClick:e,sx:{color:g=>g.palette.text.primary,mr:2,"&:hover":{backgroundColor:g=>g.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}},children:h.jsx(i5,{size:24})}),h.jsx(Se,{variant:"h6",sx:{color:g=>g.palette.text.primary,fontWeight:600},children:"编辑助手"})]}),h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:2,backgroundColor:"transparent"},children:h.jsxs(de,{sx:na.avatarContainer(l),children:[h.jsx(Gn,{src:i,sx:{width:70,height:70,bgcolor:i?"transparent":"primary.main",fontSize:"1.5rem",color:g=>g.palette.primary.contrastText,boxShadow:g=>g.palette.mode==="dark"?"0 2px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1)":"0 2px 12px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.7)",border:g=>`2px solid ${g.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.8)"}`,background:i?"transparent":g=>g.palette.mode==="dark"?`linear-gradient(135deg, ${g.palette.primary.main} 0%, ${g.palette.primary.dark} 100%)`:`linear-gradient(135deg, ${g.palette.primary.light} 0%, ${g.palette.primary.main} 100%)`},children:!i&&(n.charAt(0)||"助")}),h.jsx(Ye,{onClick:A,sx:{position:"absolute",bottom:2,right:2,width:24,height:24,borderRadius:"50%",background:g=>`linear-gradient(135deg, ${g.palette.primary.main} 0%, ${g.palette.primary.dark} 100%)`,border:g=>`2px solid ${g.palette.mode==="dark"?"rgba(18, 18, 18, 0.85)":"rgba(255, 255, 255, 0.9)"}`,boxShadow:g=>g.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.2)":"0 2px 8px rgba(0,0,0,0.15), 0 1px 2px rgba(0,0,0,0.1)","&:hover":{transform:"scale(1.1)",boxShadow:g=>g.palette.mode==="dark"?"0 4px 12px rgba(0,0,0,0.4), 0 2px 4px rgba(0,0,0,0.3)":"0 4px 12px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.15)"},transition:"all 0.2s ease-in-out"},children:h.jsx(Eo,{size:14,color:"white"})})]})}),h.jsx(de,{sx:{display:"flex",justifyContent:"center",backgroundColor:"transparent",px:2,pb:1},children:h.jsx(GA,{value:c,onChange:m,variant:"standard",sx:{minHeight:36,"& .MuiTab-root":{color:g=>g.palette.text.secondary,fontSize:"0.875rem",fontWeight:500,textTransform:"none",minWidth:80,minHeight:36,py:1,"&.Mui-selected":{color:g=>g.palette.primary.main}},"& .MuiTabs-indicator":{backgroundColor:g=>g.palette.primary.main,height:2,borderRadius:"1px"}},children:h.jsx(Ei,{label:"提示词"})})}),h.jsx(Ir,{sx:{flex:1,backgroundColor:"transparent",p:2,pt:1,color:g=>g.palette.text.primary,overflow:"auto"},children:c===0&&h.jsxs(de,{children:[h.jsx(Se,{variant:"subtitle2",sx:{mb:.5,color:g=>g.palette.text.secondary,fontSize:"0.875rem"},children:"名称"}),h.jsx(Er,{fullWidth:!0,variant:"outlined",value:n,onChange:a,placeholder:"请输入助手名称，例如：法律咨询助手",size:"small",sx:{mb:2,...na.inputField(l)}}),h.jsx(Se,{variant:"subtitle2",sx:{mb:.5,color:g=>g.palette.text.secondary,fontSize:"0.875rem"},children:"提示词"}),h.jsxs(hr,{sx:{...na.glassomorphism(l),borderRadius:"8px",p:1.5},children:[h.jsx(Er,{multiline:!0,rows:10,fullWidth:!0,variant:"standard",value:s,onChange:o,placeholder:`请输入系统提示词，定义助手的角色和行为特征...\r
\r
示例：\r
你是一个友好、专业、乐于助人的AI助手。你会以客观、准确的态度回答用户的问题，并在不确定的情况下坦诚表明。你可以协助用户完成各种任务，提供信息，或进行有意义的对话。`,sx:{"& .MuiInput-root":{color:g=>g.palette.text.primary,fontSize:"0.875rem","&:before":{display:"none"},"&:after":{display:"none"}},"& .MuiInputBase-input":{color:g=>g.palette.text.primary,"&::placeholder":{color:g=>g.palette.text.secondary,opacity:1}}}}),h.jsx(de,{sx:{display:"flex",gap:1,mt:1.5,pt:1.5,borderTop:g=>`1px solid ${g.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:h.jsx(ut,{variant:"outlined",size:"small",startIcon:h.jsx(Xp,{size:16}),onClick:u,sx:na.primaryButton(l),children:"选择预设提示词"})})]})]})}),h.jsxs(on,{sx:{p:2,backgroundColor:"transparent",borderTop:g=>`1px solid ${g.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:[h.jsx(ut,{onClick:e,sx:{color:g=>g.palette.text.secondary,backdropFilter:"blur(10px)",backgroundColor:g=>g.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)","&:hover":{backgroundColor:g=>g.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}},children:"取消"}),h.jsx(ut,{onClick:r,variant:"contained",sx:{backgroundColor:g=>g.palette.primary.main,color:g=>g.palette.primary.contrastText,backdropFilter:"blur(10px)","&:hover":{backgroundColor:g=>g.palette.primary.dark}},children:"保存"})]})]})},Dq=rt.memo(function({userAssistants:e,currentAssistant:r,onSelectAssistant:n,onAddAssistant:s,onUpdateAssistant:i,onDeleteAssistant:a}){const{assistantDialogOpen:o,selectedAssistantId:A,assistantGroups:u,assistantGroupMap:l,ungroupedAssistants:c,filteredUserAssistants:f,notification:m,assistantMenuAnchorEl:g,selectedMenuAssistant:b,addToGroupMenuAnchorEl:v,groupDialogOpen:w,editDialogOpen:B,editAssistantName:C,editAssistantPrompt:x,editAssistantAvatar:E,promptSelectorOpen:D,iconPickerOpen:_,avatarUploaderOpen:L,searchQuery:I,showSearch:G,handleCloseNotification:W,handleOpenAssistantDialog:Q,handleCloseAssistantDialog:j,handleSelectAssistant:T,handleSelectAssistantFromList:V,handleAddAssistant:J,handleOpenGroupDialog:Y,handleCloseGroupDialog:oe,handleOpenMenu:re,handleCloseAssistantMenu:pe,handleOpenAddToGroupMenu:te,handleCloseAddToGroupMenu:$,handleAddToNewGroup:he,handleDeleteAssistantAction:me,handleOpenEditDialog:ye,handleCloseEditDialog:ce,handleSaveAssistant:H,handleCopyAssistant:P,handleClearTopics:ge,handleSelectEmoji:ie,handleSortByPinyinAsc:Z,handleSortByPinyinDesc:se,handleAddToGroup:Ce,handleEditNameChange:O,handleEditPromptChange:ue,handleOpenPromptSelector:N,handleClosePromptSelector:F,handleSelectPrompt:k,handleOpenIconPicker:R,handleCloseIconPicker:Ae,handleOpenAvatarUploader:be,handleCloseAvatarUploader:le,handleSaveAvatar:Te,handleSearchClick:_e,handleCloseSearch:ve,handleSearchChange:Me,predefinedAssistantsData:je}=Sq(e,r,n,s,i,a);return h.jsxs(de,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[h.jsx(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,minHeight:"32px"},children:G?h.jsx(Er,{fullWidth:!0,size:"small",placeholder:"搜索助手...",value:I,onChange:Me,autoFocus:!0,slotProps:{input:{startAdornment:h.jsx(ya,{position:"start",children:h.jsx(ys,{size:18})}),endAdornment:h.jsx(ya,{position:"end",children:h.jsx(Ye,{size:"small",onClick:ve,children:h.jsx(ri,{size:18})})})}}}):h.jsxs(h.Fragment,{children:[h.jsx(Se,{variant:"subtitle1",fontWeight:"medium",sx:{flexShrink:0},children:"所有助手"}),h.jsxs(de,{sx:{display:"flex",gap:.5,alignItems:"center",flexShrink:0},children:[h.jsx(Ye,{size:"small",onClick:_e,sx:{mr:.5},children:h.jsx(ys,{size:18})}),h.jsx(Zt,{title:"创建分组",children:h.jsx(ut,{variant:"outlined",size:"small",startIcon:h.jsx(Ac,{size:16}),onClick:Y,sx:{color:"text.primary",borderColor:"text.secondary",minWidth:"auto",px:1,fontSize:"0.75rem","&:hover":{borderColor:"text.primary",backgroundColor:"action.hover"}},children:"创建分组"})}),h.jsx(Zt,{title:"创建新助手",children:h.jsx(ut,{variant:"outlined",size:"small",startIcon:h.jsx(VA,{size:16}),onClick:Q,sx:{color:"text.primary",borderColor:"text.secondary",minWidth:"auto",px:1,fontSize:"0.75rem","&:hover":{borderColor:"text.primary",backgroundColor:"action.hover"}},children:"添加助手"})})]})]})}),h.jsx(lq,{assistantGroups:u||[],userAssistants:f,assistantGroupMap:l||{},currentAssistant:r,onSelectAssistant:V,onOpenMenu:re,onDeleteAssistant:me,isGroupEditMode:!1,onAddItem:Y}),h.jsx(dq,{assistants:c||[],currentAssistant:r,onSelectAssistant:V,onOpenMenu:re,onDeleteAssistant:me,title:"未分组助手",height:"calc(100vh - 400px)",emptyMessage:"暂无未分组助手",itemHeight:72}),h.jsxs(kr,{open:o,onClose:j,children:[h.jsx(an,{children:"选择助手"}),h.jsxs(Ir,{children:[h.jsx(gC,{children:"选择一个预设助手来添加到你的助手列表中"}),h.jsx(ti,{sx:{pt:1},children:je.map(Ke=>h.jsx(hq,{assistant:Ke,isSelected:A===Ke.id,onSelect:T},Ke.id))})]}),h.jsxs(on,{children:[h.jsx(ut,{onClick:j,children:"取消"}),h.jsx(ut,{onClick:J,color:"primary",children:"添加"})]})]}),h.jsx(nB,{open:w,onClose:oe,type:"assistant"}),h.jsx(Js,{anchorEl:g,open:!!g,onClose:pe,children:[h.jsxs(Ze,{onClick:te,children:[h.jsx(Ac,{size:18,style:{marginRight:8}}),"添加到分组..."]},"add-to-group"),h.jsxs(Ze,{onClick:ye,children:[h.jsx(D5,{size:18,style:{marginRight:8}}),"编辑助手"]},"edit-assistant"),h.jsxs(Ze,{onClick:R,children:[h.jsx(Yp,{size:18,style:{marginRight:8}}),"修改图标"]},"change-icon"),h.jsxs(Ze,{onClick:P,children:[h.jsx($n,{size:18,style:{marginRight:8}}),"复制助手"]},"copy-assistant"),h.jsxs(Ze,{onClick:ge,children:[h.jsx(ki,{size:18,style:{marginRight:8}}),"清空话题"]},"clear-topics"),h.jsx(St,{},"divider-1"),h.jsxs(Ze,{onClick:Z,children:[h.jsx(O7,{size:18,style:{marginRight:8}}),"按拼音升序排列"]},"sort-pinyin-asc"),h.jsxs(Ze,{onClick:se,children:[h.jsx(U7,{size:18,style:{marginRight:8}}),"按拼音降序排列"]},"sort-pinyin-desc"),h.jsx(St,{},"divider-2"),h.jsxs(Ze,{onClick:()=>{b&&me(b.id)},children:[h.jsx(Mc,{size:18,style:{marginRight:8}}),"删除助手"]},"delete-assistant")].filter(Boolean)}),h.jsx(Js,{anchorEl:v,open:!!v,onClose:$,children:[...(u||[]).map(Ke=>h.jsx(Ze,{onClick:()=>Ce(Ke.id),children:Ke.name},Ke.id)),h.jsx(Ze,{onClick:he,children:"创建新分组..."},"create-new-group")].filter(Boolean)}),h.jsx(Fq,{open:B,onClose:ce,onSave:H,assistantName:C,assistantPrompt:x,assistantAvatar:E,onNameChange:O,onPromptChange:ue,onAvatarClick:be,onPromptSelectorClick:N}),h.jsx(Tq,{open:D,onClose:F,onSelect:k,currentPrompt:x}),h.jsx(fq,{open:_,onClose:Ae,onSelectEmoji:ie,currentEmoji:b?.emoji}),h.jsx(n5,{open:L,onClose:le,onSave:Te,currentAvatar:E,title:"设置助手头像"}),h.jsx(Gl,{open:m.open,autoHideDuration:3e3,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:h.jsx(Sn,{onClose:W,severity:m.severity,children:m.message})})]})});class _G extends rt.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("AssistantTab error:",e,r)}render(){return this.state.hasError?h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",p:3},children:[h.jsx(Se,{variant:"h6",color:"error",gutterBottom:!0,children:"助手页面出现错误"}),h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{mb:2},children:this.state.error?.message||"未知错误"}),h.jsx(ut,{variant:"outlined",onClick:()=>this.setState({hasError:!1,error:void 0}),children:"重试"})]}):this.props.children}}function kq(t,e){const{groups:r,topicGroupMap:n}=dt(o=>o.groups),s=q.useMemo(()=>e?r.filter(o=>o.type==="topic"&&o.assistantId===e).sort((o,A)=>o.order-A.order):[],[r,e]),i=q.useMemo(()=>e?n[e]||{}:{},[n,e]),a=q.useMemo(()=>t.filter(A=>!i[A.id]).sort((A,u)=>{if(A.pinned&&!u.pinned)return-1;if(!A.pinned&&u.pinned)return 1;const l=new Date(A.lastMessageTime||A.updatedAt||A.createdAt||0).getTime();return new Date(u.lastMessageTime||u.updatedAt||u.createdAt||0).getTime()-l}),[t,i]);return{topicGroups:s,topicGroupMap:i,ungroupedTopics:a}}const sB=rt.memo(function({topic:e,isSelected:r,onSelectTopic:n,onOpenMenu:s,onDeleteTopic:i}){const[a,o]=q.useState(!1),A=q.useRef(null),u=q.useCallback(()=>{q.startTransition(()=>{n(e)})},[e,n]),l=w=>{w.stopPropagation(),s(w,e)},c=q.useCallback(w=>{w.stopPropagation(),a?(o(!1),A.current&&(clearTimeout(A.current),A.current=null),console.log(`[TopicItem] 确认删除话题: ${e.name} (${e.id})`),q.startTransition(()=>{i(e.id,w)})):(o(!0),console.log(`[TopicItem] 进入删除确认状态: ${e.name}`),A.current=setTimeout(()=>{o(!1),A.current=null,console.log(`[TopicItem] 删除确认状态超时重置: ${e.name}`)},1500))},[e.id,e.name,i,a]);rt.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]);const f=q.useMemo(()=>sn([w=>w,()=>e.id],(w,B)=>ha(w,B)||[]),[e.id]),m=dt(f),g=e.name||e.title||"无标题话题",b=()=>{if(!m||m.length===0)return"无消息";const w=m[m.length-1],B=ma(w);return B?B.length>30?`${B.substring(0,30)}...`:B:"无文本内容"},v=()=>{if(!e.createdAt)return"";const w=new Date(e.createdAt),C=new Date().getTime()-w.getTime(),x=Math.floor(C/(1e3*60*60*24)),E=w.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"}),D=w.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1});return x===0?`${E} ${D}`:x===1?`${E} 昨天`:x<7?`${E} ${x}天前`:`${E} ${D}`};return h.jsxs(WA,{onClick:u,selected:r,sx:{borderRadius:"8px",mb:1,contain:"layout style",transform:"translateZ(0)",willChange:"auto","&.Mui-selected":{backgroundColor:"rgba(25, 118, 210, 0.08)"},"&.Mui-selected:hover":{backgroundColor:"rgba(25, 118, 210, 0.12)"},touchAction:"manipulation",userSelect:"none"},children:[h.jsx(Ft,{primary:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Se,{variant:"body2",sx:{fontWeight:r?600:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:g}),e.pinned&&h.jsx(ig,{size:12,style:{color:"#1976d2",flexShrink:0,opacity:.8}})]}),secondary:h.jsx(Se,{variant:"caption",sx:{color:"text.secondary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},children:b()})}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[h.jsx(Se,{variant:"caption",sx:{fontSize:"11px",color:"text.secondary",lineHeight:1,whiteSpace:"nowrap",opacity:.9},children:v()}),h.jsxs("div",{style:{display:"flex",gap:"2px"},children:[h.jsx(Ye,{size:"small",onClick:l,sx:{opacity:.6,padding:"2px"},children:h.jsx(qA,{size:16})}),h.jsx(Ye,{size:"small",onClick:c,sx:{opacity:a?1:.6,padding:"2px",color:a?"error.main":"inherit","&:hover":{color:"error.main"},transition:"all 0.2s ease-in-out"},title:a?"再次点击确认删除":"删除话题",children:a?h.jsx(Z3,{size:16}):h.jsx(Mc,{size:16})})]})]})]})}),Iq=q.memo(function({topicGroups:e,topics:r,topicGroupMap:n,currentTopic:s,onSelectTopic:i,onOpenMenu:a,onDeleteTopic:o}){const A=dt(m=>m.messages.currentTopicId),u=q.useMemo(()=>e.map(m=>{const g=r.filter(b=>b&&b.id&&n[b.id]===m.id);return{group:m,topics:g,shouldVirtualize:g.length>15}}),[e,r,n]),l=q.useCallback((m,g)=>h.jsx(sB,{topic:m,isSelected:A===m.id,onSelectTopic:i,onOpenMenu:a,onDeleteTopic:o}),[A,i,a,o]),c=q.useCallback((m,g)=>m.id,[]),f=q.useCallback(({group:m,topics:g,shouldVirtualize:b})=>h.jsx(_q,{group:m,topicCount:g.length,shouldVirtualize:b,children:g.length>0?b?h.jsx(u0,{items:g,itemHeight:64,renderItem:l,itemKey:c,height:300,overscanCount:3,style:{border:"1px solid",borderColor:"divider",borderRadius:"4px",backgroundColor:"background.default"}}):h.jsx(de,{sx:{maxHeight:300,overflow:"auto"},children:g.map(v=>h.jsx(de,{sx:{mb:1},children:l(v,0)},v.id))}):h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{py:1,px:1,textAlign:"center",fontStyle:"italic",fontSize:"0.85rem"},children:"此分组暂无话题，请从未分组话题中添加"})},m.id),[l,c]);return u.length===0?h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{py:2,textAlign:"center"},children:"没有话题分组"}):h.jsx(de,{sx:{mb:2},children:u.map(f)})}),_q=q.memo(function({group:e,topicCount:r,shouldVirtualize:n,children:s}){const i=Sr(),[a,o]=q.useState(null),[A,u]=q.useState(!1),[l,c]=q.useState(!1),[f,m]=q.useState(e.name),g=D=>{D.stopPropagation(),o(D.currentTarget)},b=()=>{o(null)},v=()=>{m(e.name),u(!0),b()},w=()=>{c(!0),b()},B=()=>{f.trim()&&f.trim()!==e.name&&i(e5({id:e.id,changes:{name:f.trim()}})),u(!1)},C=()=>{m(e.name),u(!1)},x=()=>{i(t5(e.id)),c(!1)},E=()=>{c(!1)};return h.jsxs(h.Fragment,{children:[h.jsxs(Gp,{defaultExpanded:!!e.expanded,disableGutters:!0,sx:{mb:1,boxShadow:"none",border:"1px solid",borderColor:"divider",borderRadius:"8px","&:before":{display:"none"}},children:[h.jsxs(Wp,{expandIcon:h.jsx(Nr,{size:20}),sx:{minHeight:"48px","& .MuiAccordionSummary-content":{margin:"8px 0",display:"flex",alignItems:"center",justifyContent:"space-between"}},children:[h.jsxs(Se,{variant:"body2",children:[e.name," (",r,")",n&&" 🚀"]}),h.jsx(de,{component:"div",onClick:D=>{D.stopPropagation(),g(D)},sx:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:"50%",padding:"4px",ml:1,cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:h.jsx(qA,{size:16})})]}),h.jsx($p,{sx:{p:1},children:s})]}),h.jsxs(Js,{anchorEl:a,open:!!a,onClose:b,children:[h.jsxs(Ze,{onClick:v,children:[h.jsx(Mi,{size:16,style:{marginRight:8}}),"编辑分组名称"]}),h.jsxs(Ze,{onClick:w,children:[h.jsx(ki,{size:16,style:{marginRight:8}}),"删除分组"]})]}),h.jsxs(kr,{open:A,onClose:C,maxWidth:"xs",fullWidth:!0,children:[h.jsx(an,{children:"编辑分组名称"}),h.jsx(Ir,{children:h.jsx(Er,{autoFocus:!0,margin:"dense",label:"分组名称",type:"text",fullWidth:!0,variant:"outlined",value:f,onChange:D=>m(D.target.value),onKeyDown:D=>{D.key==="Enter"?B():D.key==="Escape"&&C()}})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:C,children:"取消"}),h.jsx(ut,{onClick:B,variant:"contained",children:"保存"})]})]}),h.jsxs(kr,{open:l,onClose:E,maxWidth:"xs",fullWidth:!0,children:[h.jsx(an,{children:"确认删除"}),h.jsx(Ir,{children:h.jsxs(Se,{children:['确定要删除分组 "',e.name,'" 吗？分组内的话题将移至未分组。']})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:E,children:"取消"}),h.jsx(ut,{onClick:x,variant:"contained",color:"error",children:"删除"})]})]})]})}),Uq=q.memo(function({topics:e,currentTopic:r,onSelectTopic:n,onOpenMenu:s,onDeleteTopic:i,title:a,height:o=In.CONTAINER_HEIGHT.DEFAULT,emptyMessage:A="暂无话题",itemHeight:u=rB("topic"),searchQuery:l="",getMainTextContent:c}){const f=dt(w=>w.messages.currentTopicId),m=q.useMemo(()=>l?e.filter(w=>w.name&&w.name.toLowerCase().includes(l.toLowerCase())||w.title&&w.title.toLowerCase().includes(l.toLowerCase())?!0:c?(w.messages||[]).some(B=>{const C=c(B);return C?C.toLowerCase().includes(l.toLowerCase()):!1}):!1):e,[e,l,c]),g=q.useCallback((w,B)=>h.jsx(sB,{topic:w,isSelected:f===w.id,onSelectTopic:n,onOpenMenu:s,onDeleteTopic:i}),[f,n,s,i]),b=q.useCallback((w,B)=>w.id,[]),v=q.useMemo(()=>tB(m.length,"topic"),[m.length]);return m.length===0?h.jsxs(de,{children:[a&&h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:1},children:a}),h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:100,color:"text.secondary",fontSize:"0.875rem"},children:l?`没有找到包含 "${l}" 的话题`:A})]}):h.jsxs(de,{children:[a&&h.jsx(Se,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:1},children:a}),v?h.jsx(u0,{items:m,itemHeight:u,renderItem:g,itemKey:b,height:o,overscanCount:eB(m.length),style:{border:"1px solid",borderColor:"divider",borderRadius:"8px",backgroundColor:"background.paper"}}):h.jsx(de,{className:"hide-scrollbar",sx:{maxHeight:o,overflow:"auto",border:"1px solid",borderColor:"divider",borderRadius:"8px",backgroundColor:"background.paper",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},children:m.map(w=>h.jsx(de,{sx:{height:u},children:g(w,0)},w.id))}),h.jsxs(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",textAlign:"center",mt:1,fontSize:"0.75rem"},children:["共 ",m.length," 个话题",e.length!==m.length&&` (已过滤 ${e.length-m.length} 个)`,v&&" (已启用虚拟化)"]})]})},(t,e)=>t.topics.length===e.topics.length&&t.currentTopic?.id===e.currentTopic?.id&&t.height===e.height&&t.itemHeight===e.itemHeight&&t.title===e.title&&t.searchQuery===e.searchQuery&&t.topics.every((n,s)=>n.id===e.topics[s]?.id&&n.name===e.topics[s]?.name&&n.title===e.topics[s]?.title&&n.pinned===e.topics[s]?.pinned));function Ga(t){const e=[];let r=0;const n=[{type:"bold",regex:/\*\*(.*?)\*\*/g},{type:"italic",regex:/\*(.*?)\*/g},{type:"code",regex:/`(.*?)`/g},{type:"link",regex:/\[([^\]]+)\]\(([^)]+)\)/g},{type:"strikethrough",regex:/~~(.*?)~~/g}],s=[];n.forEach(a=>{let o;for(;(o=a.regex.exec(t))!==null;)s.push({type:a.type,start:o.index,end:o.index+o[0].length,fullMatch:o[0],content:o[1],url:o[2]})}),s.sort((a,o)=>a.start-o.start);const i=[];for(const a of s)i.some(A=>a.start<A.end&&a.end>A.start)||i.push(a);i.sort((a,o)=>a.start-o.start);for(const a of i){if(a.start>r){const A=t.slice(r,a.start);A&&e.push({type:"text",text:{content:A}})}const o={};switch(a.type){case"bold":o.bold=!0,e.push({type:"text",text:{content:a.content},annotations:o});break;case"italic":o.italic=!0,e.push({type:"text",text:{content:a.content},annotations:o});break;case"code":o.code=!0,e.push({type:"text",text:{content:a.content},annotations:o});break;case"strikethrough":o.strikethrough=!0,e.push({type:"text",text:{content:a.content},annotations:o});break;case"link":a.url?e.push({type:"text",text:{content:a.content,link:{url:a.url}}}):e.push({type:"text",text:{content:a.content}});break}r=a.end}if(r<t.length){const a=t.slice(r);a&&e.push({type:"text",text:{content:a}})}return e.length===0?[{type:"text",text:{content:t}}]:e}function Mq(t){const e=[],r=t.split(`
`);let n=[],s=!1,i="",a="",o=!1,A=[],u=!1,l=[],c="bulleted";const f=()=>{if(n.length>0){const m=n.join(`
`).trim();m&&e.push({object:"block",type:"paragraph",paragraph:{rich_text:Ga(m)}}),n=[]}if(o&&A.length>0){const m=A.join(`
`).trim();m&&e.push({object:"block",type:"quote",quote:{rich_text:Ga(m)}}),A=[],o=!1}u&&l.length>0&&(l.forEach(m=>{e.push({object:"block",type:c==="numbered"?"numbered_list_item":"bulleted_list_item",[c==="numbered"?"numbered_list_item":"bulleted_list_item"]:{rich_text:Ga(m)}})}),l=[],u=!1)};for(let m=0;m<r.length;m++){const g=r[m],b=g.trim();if(b.startsWith("```")){f(),s?(s=!1,e.push({object:"block",type:"code",code:{caption:[],rich_text:[{type:"text",text:{content:i}}],language:a}}),i="",a=""):(s=!0,a=b.substring(3).trim()||"text",i="");continue}if(s){i+=(i?`
`:"")+g;continue}if(b.startsWith("# ")){f(),e.push({object:"block",type:"heading_1",heading_1:{rich_text:Ga(b.substring(2).trim())}});continue}if(b.startsWith("## ")){f(),e.push({object:"block",type:"heading_2",heading_2:{rich_text:Ga(b.substring(3).trim())}});continue}if(b.startsWith("### ")){f(),e.push({object:"block",type:"heading_3",heading_3:{rich_text:Ga(b.substring(4).trim())}});continue}if(b==="---"||b==="***"||b==="___"){f(),e.push({object:"block",type:"divider",divider:{}});continue}if(b.startsWith("> ")){f(),o=!0,A.push(b.substring(2));continue}if(o&&b.startsWith(">")){A.push(b.substring(1).trim());continue}o&&!b.startsWith(">")&&f();const v=b.match(/^[-*+]\s+(.+)$/),w=b.match(/^\d+\.\s+(.+)$/);if(v){(!u||c!=="bulleted")&&(f(),u=!0,c="bulleted"),l.push(v[1]);continue}if(w){(!u||c!=="numbered")&&(f(),u=!0,c="numbered"),l.push(w[1]);continue}if(!(u&&b==="")){if(u&&!v&&!w&&b!==""&&f(),b===""){n.length>0&&f();continue}n.push(g)}}return f(),s&&i&&e.push({object:"block",type:"code",code:{caption:[],rich_text:[{type:"text",text:{content:i}}],language:a||"text"}}),e}async function Qq(t,e=!1){try{const r=await De.getTopicMessages(t.id);if(r.length===0)return"*此话题暂无消息*";const n=r.filter(A=>A.blocks&&A.blocks.length>0).map(A=>A.id),s=n.length>0?await Promise.all(n.map(A=>De.getMessageBlocksByMessageId(A))):[],i=new Map;return n.forEach((A,u)=>{const c=(s[u]||[]).filter(f=>f.type==="main_text"||f.type==="thinking").map(f=>({id:f.id,type:f.type,content:f.content}));i.set(A,c)}),r.filter(A=>A.role!=="system").map(A=>({...A,blockObjects:i.get(A.id)||[]})).map(A=>{const u=A.blockObjects||[],l=u.filter(b=>b.type==="main_text"),c=u.filter(b=>b.type==="thinking");let m=(A.role==="user"?"## 用户":"## 助手")+`

`;if(e&&c.length>0){const b=c.map(v=>v.content).join(`

`);b.trim()&&(m+=`### 思考过程

`+b+`

### 回答

`)}const g=l.map(b=>b.content).join(`

`);return m+=g,m}).join(`

---

`)}catch(r){throw console.error("转换话题为Markdown失败:",r),r}}async function Rq(t,e,r=!1){try{if(!e.apiKey||!e.databaseId)throw new Error("Notion API密钥和数据库ID不能为空");const n=await Qq(t,r),s=Mq(n),i={};i[e.pageTitleField]={title:[{text:{content:t.name||t.title||"未命名对话"}}]},e.dateField&&t.createdAt&&(i[e.dateField]={date:{start:Mn(t.createdAt).format("YYYY-MM-DD")}});const a={parent:{database_id:e.databaseId},properties:i,children:s},o=await w7("/v1/pages",{method:"POST",apiKey:e.apiKey,body:a});console.log("话题已成功导出到Notion:",o.url),y7(`话题 "${t.name||t.title||"未命名对话"}" 已成功导出到Notion数据库`,o.url)}catch(n){throw console.error("导出到Notion失败:",n),x7(n),n}}function Oq({currentAssistant:t,currentTopic:e,onSelectTopic:r,onCreateTopic:n,onDeleteTopic:s,onUpdateTopic:i}){const a=Sr(),[o,A]=q.useState(""),[u,l]=q.useState(""),[c,f]=q.useState(!1),[m,g]=q.useState(!1),[b,v]=q.useState({main:{anchorEl:null,topic:null},addToGroup:{anchorEl:null,topic:null},moveTo:{anchorEl:null}}),[w,B]=q.useState({group:{isOpen:!1},edit:{isOpen:!1,topic:null,name:"",prompt:""},confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}}),C=q.useMemo(()=>Wn.debounce(ue=>{l(ue)},150),[]),x=dt(ue=>ue.assistants.assistants),E=dt(ue=>ue.assistants.assistants.find(N=>N.id===t?.id)),D=q.useMemo(()=>{const ue=E||t;return ue?.topics?[...ue.topics].sort((N,F)=>{if(N.pinned!==F.pinned)return N.pinned?-1:1;const k=new Date(N.lastMessageTime||N.updatedAt||N.createdAt||0).getTime();return new Date(F.lastMessageTime||F.updatedAt||F.createdAt||0).getTime()-k}):[]},[E?.topics,t?.topics]);q.useEffect(()=>{D.length>0&&!e&&(console.log("[TopicTab] 初始化自动选择话题:",D[0].name||D[0].id),q.startTransition(()=>{r(D[0])}))},[D.length,e?.id,r]);const _=q.useMemo(()=>u?D.filter(ue=>ue.name&&ue.name.toLowerCase().includes(u.toLowerCase())||ue.title&&ue.title.toLowerCase().includes(u.toLowerCase())?!0:(ue.messages||[]).some(N=>{const F=ma(N);return F?F.toLowerCase().includes(u.toLowerCase()):!1})):D,[u,D]),{topicGroups:L,topicGroupMap:I,ungroupedTopics:G}=kq(_,t?.id),W=q.useCallback(ue=>{q.startTransition(()=>{r(ue)})},[r]),Q=q.useCallback(()=>{f(!1),A(""),l(""),C.cancel()},[C]),j=q.useCallback(ue=>{const N=ue.target.value;A(N),C(N)},[C]),T=(ue,N)=>{ue.stopPropagation(),v(F=>({...F,main:{anchorEl:ue.currentTarget,topic:N}}))},V=()=>{v(ue=>({...ue,main:{anchorEl:null,topic:null}}))},J=(ue,N)=>{ue.stopPropagation(),v(F=>({...F,addToGroup:{anchorEl:ue.currentTarget,topic:N}}))},Y=()=>{v(ue=>({...ue,addToGroup:{anchorEl:null,topic:null}}))},oe=ue=>{b.addToGroup.topic&&(a(r5({groupId:ue,itemId:b.addToGroup.topic.id})),Y())},re=()=>{Y(),B(ue=>({...ue,group:{isOpen:!0}}))},pe=q.useCallback((ue,N)=>{console.log("[TopicTab] 话题删除图标被点击:",ue),q.startTransition(()=>{s(ue,N)})},[s]),te=()=>{const ue=b.main.topic;ue&&(B(N=>({...N,edit:{isOpen:!0,topic:ue,name:ue.name||ue.title||"",prompt:ue.prompt||""}})),V())},$=()=>{B(ue=>({...ue,edit:{isOpen:!1,topic:null,name:"",prompt:""}}))},he=async ue=>{g(!0);try{return await De.saveTopic(ue),i&&i(ue),lr.emit(hn.TOPIC_UPDATED,ue),!0}catch(N){return console.error("更新话题失败:",N),!1}finally{g(!1)}},me=async()=>{const ue=w.edit;if(!ue.topic)return;const N={...ue.topic,name:ue.name,prompt:ue.prompt,isNameManuallyEdited:!0,updatedAt:new Date().toISOString()};await he(N)&&$()},ye=async()=>{const ue=b.main.topic;if(!ue)return;const N={...ue,pinned:!ue.pinned,updatedAt:new Date().toISOString()};await he(N)&&V()},ce=async()=>{const ue=b.main.topic;if(ue){try{const N=await Vf.generateTopicName(ue,void 0,!0);if(N&&N!==ue.name){const F={...ue,name:N,isNameManuallyEdited:!1,updatedAt:new Date().toISOString()};await he(F)}}catch(N){console.error("自动命名话题失败:",N)}V()}},H=()=>{const ue=b.main.topic;ue&&(B(N=>({...N,confirm:{isOpen:!0,title:"清空消息",content:"确定要清空此话题的所有消息吗？此操作不可撤销。",onConfirm:async()=>{try{if(await Xt.clearTopicContent(ue.id)&&i){const k={...ue,messageIds:[],messages:[],updatedAt:new Date().toISOString()};i(k)}B(k=>({...k,confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}}))}catch(F){console.error("清空话题消息失败:",F),B(k=>({...k,confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}}))}}}})),V())},P=ue=>{ue.stopPropagation(),v(N=>({...N,moveTo:{anchorEl:ue.currentTarget}}))},ge=()=>{v(ue=>({...ue,moveTo:{anchorEl:null}}))},ie=async ue=>{const N=b.main.topic;if(!(!N||!t))try{const F={...N,assistantId:ue.id,updatedAt:new Date().toISOString()};await De.saveTopic(F),await Promise.all([vm.removeTopicFromAssistant(t.id,N.id),vm.addTopicToAssistant(ue.id,N.id)]),a(Kp({assistantId:t.id,topicId:N.id})),a(zp({assistantId:ue.id,topic:F})),lr.emit(hn.TOPIC_MOVED,{topic:F,assistantId:ue.id,type:"move"}),ge(),V()}catch(F){console.error("移动话题失败:",F)}},Z=async(ue=!1)=>{const N=b.main.topic;if(N){try{await KN(N,ue)}catch(F){console.error("导出话题Markdown失败:",F)}V()}},se=async(ue=!1)=>{const N=b.main.topic;if(N){try{await VN(N,ue)}catch(F){console.error("导出话题DOCX失败:",F)}V()}},Ce=async(ue=!1)=>{const N=b.main.topic;if(N){try{await qN(N,ue)}catch(F){console.error("复制话题Markdown失败:",F)}V()}},O=async(ue=!1)=>{const N=b.main.topic;if(!N)return;const F=He.getState().settings.notion;if(!F?.enabled){Kt.warning("请先在设置页面启用并配置Notion集成","配置提醒");return}if(!F.apiKey||!F.databaseId){Kt.warning("请先在设置页面配置Notion API密钥和数据库ID","配置提醒");return}try{await Rq(N,{apiKey:F.apiKey,databaseId:F.databaseId,pageTitleField:F.pageTitleField||"Name",dateField:F.dateField},ue)}catch(k){console.error("导出话题到Notion失败:",k)}V()};return h.jsxs(de,{sx:{height:"100%",display:"flex",flexDirection:"column",contain:"layout style paint",transform:"translateZ(0)",isolation:"isolate"},children:[h.jsx(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:c?h.jsx(Er,{fullWidth:!0,size:"small",placeholder:"搜索话题...",value:o,onChange:j,autoFocus:!0,InputProps:{startAdornment:h.jsx(ya,{position:"start",children:h.jsx(ys,{size:18})}),endAdornment:h.jsx(ya,{position:"end",children:h.jsx(Ye,{size:"small",onClick:Q,children:h.jsx(ri,{size:18})})})}}):h.jsxs(h.Fragment,{children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Se,{variant:"subtitle1",fontWeight:"medium",children:t?.name||"所有话题"}),m&&h.jsx(pE,{size:16,className:"animate-spin",style:{color:"var(--color-primary)"}})]}),h.jsxs(de,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[h.jsx(Ye,{size:"small",onClick:()=>f(!0),sx:{mr:.5},children:h.jsx(ys,{size:18})}),h.jsx(Zt,{title:"创建话题分组",children:h.jsx(Ye,{size:"small",onClick:()=>B(ue=>({...ue,group:{isOpen:!0}})),sx:{color:"text.primary",border:"1px solid",borderColor:"text.secondary",borderRadius:"6px","&:hover":{borderColor:"text.primary",backgroundColor:"action.hover"}},children:h.jsx(Ac,{size:16})})}),h.jsx(Zt,{title:"创建新话题",children:h.jsx(ut,{variant:"outlined",size:"small",startIcon:h.jsx(VA,{size:16}),onClick:n,sx:{color:"text.primary",borderColor:"text.secondary",minWidth:"auto",px:1,fontSize:"0.75rem","&:hover":{borderColor:"text.primary",backgroundColor:"action.hover"}},children:"新建话题"})})]})]})}),D.length===0&&h.jsx(de,{sx:{py:2,textAlign:"center"},children:h.jsx(Se,{variant:"body2",color:"text.secondary",children:'此助手没有话题，点击上方的"+"按钮创建一个新话题。'})}),h.jsx(Iq,{topicGroups:L,topics:_,topicGroupMap:I,currentTopic:e,onSelectTopic:W,onOpenMenu:T,onDeleteTopic:pe}),h.jsx(Uq,{topics:G,currentTopic:e,onSelectTopic:W,onOpenMenu:T,onDeleteTopic:pe,title:"未分组话题",height:"calc(100vh - 400px)",emptyMessage:"暂无未分组话题",itemHeight:64,searchQuery:u,getMainTextContent:ma}),h.jsx(nB,{open:w.group.isOpen,onClose:()=>B(ue=>({...ue,group:{isOpen:!1}})),type:"topic",assistantId:t?.id}),h.jsx(Js,{anchorEl:b.main.anchorEl,open:!!b.main.anchorEl,onClose:V,children:[h.jsxs(Ze,{onClick:ue=>{b.main.topic&&J(ue,b.main.topic),V()},children:[h.jsx(Ac,{size:18,style:{marginRight:8}}),"添加到分组..."]},"add-to-group"),h.jsxs(Ze,{onClick:te,children:[h.jsx(D5,{size:18,style:{marginRight:8}}),"编辑话题"]},"edit-topic"),h.jsxs(Ze,{onClick:ce,children:[h.jsx(Xp,{size:18,style:{marginRight:8}}),"自动命名话题"]},"auto-rename"),h.jsxs(Ze,{onClick:ye,children:[h.jsx(ig,{size:18,style:{marginRight:8}}),b.main.topic?.pinned?"取消固定":"固定话题"]},"toggle-pin"),h.jsxs(Ze,{onClick:H,children:[h.jsx(ki,{size:18,style:{marginRight:8}}),"清空消息"]},"clear-messages"),x.length>1&&t&&h.jsxs(Ze,{onClick:P,children:[h.jsx(b5,{size:18,style:{marginRight:8}}),"移动到..."]},"move-to"),h.jsx(St,{},"divider-export"),h.jsxs(Ze,{onClick:()=>Ce(!1),children:[h.jsx($n,{size:18,style:{marginRight:8}}),"复制为Markdown"]},"copy-markdown"),h.jsxs(Ze,{onClick:()=>Z(!1),children:[h.jsx(jp,{size:18,style:{marginRight:8}}),"导出为Markdown"]},"export-markdown"),h.jsxs(Ze,{onClick:()=>se(!1),children:[h.jsx(wa,{size:18,style:{marginRight:8}}),"导出为DOCX"]},"export-docx"),h.jsxs(Ze,{onClick:()=>O(!1),children:[h.jsx(_c,{size:18,style:{marginRight:8}}),"导出到Notion"]},"export-notion"),h.jsx(St,{},"divider-1"),h.jsxs(Ze,{onClick:()=>{const ue=b.main.topic;ue&&B(N=>({...N,confirm:{isOpen:!0,title:"删除话题",content:"确定要删除此话题吗？此操作不可撤销。",onConfirm:async()=>{B(k=>({...k,confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}})),console.log("[TopicTab] 菜单删除话题:",ue.id,ue.name);const F={stopPropagation:()=>{},preventDefault:()=>{},currentTarget:null,target:null};q.startTransition(()=>{s(ue.id,F)})}}})),V()},children:[h.jsx(Mc,{size:18,style:{marginRight:8}}),"删除话题"]},"delete-topic")].filter(Boolean)}),h.jsx(Js,{anchorEl:b.addToGroup.anchorEl,open:!!b.addToGroup.anchorEl,onClose:Y,children:[...L.map(ue=>h.jsx(Ze,{onClick:()=>oe(ue.id),children:ue.name},ue.id)),h.jsx(Ze,{onClick:re,children:"创建新分组..."},"create-new-group")].filter(Boolean)}),h.jsx(Js,{anchorEl:b.moveTo.anchorEl,open:!!b.moveTo.anchorEl,onClose:ge,children:x.filter(ue=>ue.id!==t?.id).map(ue=>h.jsxs(Ze,{onClick:()=>ie(ue),children:[ue.emoji&&h.jsx("span",{style:{marginRight:8},children:ue.emoji}),ue.name]},ue.id)).filter(Boolean)}),h.jsxs(kr,{open:w.edit.isOpen,onClose:$,maxWidth:"sm",fullWidth:!0,children:[h.jsx(an,{children:"编辑话题"}),h.jsxs(Ir,{children:[h.jsx(Er,{autoFocus:!0,margin:"dense",label:"话题名称",type:"text",fullWidth:!0,variant:"outlined",value:w.edit.name,onChange:ue=>B(N=>({...N,edit:{...N.edit,name:ue.target.value}})),sx:{mb:2}}),h.jsx(Er,{margin:"dense",label:"追加提示词",multiline:!0,rows:6,fullWidth:!0,variant:"outlined",value:w.edit.prompt,onChange:ue=>B(N=>({...N,edit:{...N.edit,prompt:ue.target.value}})),helperText:"此提示词将追加到助手的系统提示词之后。如果助手没有系统提示词，则单独使用此提示词。"})]}),h.jsxs(on,{children:[h.jsx(ut,{onClick:$,children:"取消"}),h.jsx(ut,{onClick:me,color:"primary",children:"保存"})]})]}),h.jsxs(kr,{open:w.confirm.isOpen,onClose:()=>B(ue=>({...ue,confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}})),children:[h.jsx(an,{children:w.confirm.title}),h.jsx(Ir,{children:h.jsx(Se,{children:w.confirm.content})}),h.jsxs(on,{children:[h.jsx(ut,{onClick:()=>B(ue=>({...ue,confirm:{isOpen:!1,title:"",content:"",onConfirm:()=>{}}})),children:"取消"}),h.jsx(ut,{onClick:w.confirm.onConfirm,variant:"contained",color:"error",children:"确认"})]})]})]})}function Nq({setting:t,onChange:e}){const r=ms(l=>l.settings.messageStyle),n=ms(l=>l.settings.autoScrollToBottom),s=rt.useCallback(()=>{try{if(t.id==="messageStyle")return r||"bubble";if(t.id==="autoScrollToBottom")return n!==void 0?n:!0;const c=mC()[t.id];return c!==void 0?c:t.defaultValue}catch(l){return console.error("加载设置失败:",l),t.defaultValue}},[t.id,t.defaultValue,r,n]),[i,a]=q.useState(()=>s());q.useEffect(()=>{const l=s();a(l)},[s]);const o=l=>{const c=l.target.checked;a(c),e(t.id,c)},A=l=>{const c=l.target.value;a(c),e(t.id,c)},u=()=>t.type==="select"&&t.options?h.jsx(Di,{size:"small",sx:{minWidth:80},children:h.jsx(UA,{value:i,onChange:A,variant:"outlined",MenuProps:{disableAutoFocus:!0,disableRestoreFocus:!0},sx:{fontSize:"0.875rem","& .MuiSelect-select":{py:.5,px:1}},children:t.options.map(l=>h.jsx(Ze,{value:l.value,children:l.label},l.value))})}):h.jsx(qn,{checked:i,onChange:o});return h.jsxs(h.Fragment,{children:[h.jsxs(cr,{sx:{px:2,py:.5,alignItems:"flex-start"},children:[h.jsx(Ft,{primary:t.name,secondary:t.description,primaryTypographyProps:{fontSize:"0.9rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2,mt:.2,wordBreak:"break-word",whiteSpace:"normal"},sx:{pr:t.type==="select"?12:8,overflow:"hidden"}}),h.jsx(Ii,{sx:{right:16,top:"50%",transform:"translateY(-50%)",zIndex:1},children:u()})]}),h.jsx(St,{sx:{opacity:.4}})]})}const Lq={touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)"}}},iB=t=>e=>{e.stopPropagation(),t()},Hq=t=>e=>{e.stopPropagation(),t(e.target.checked)},Pq={...Lq,"& .MuiSwitch-root":{touchAction:"manipulation"},"& .MuiIconButton-root":{touchAction:"manipulation"}};function l0({in:t,children:e,timeout:r=150,unmountOnExit:n=!1,sx:s,onEntered:i,onExited:a}){const[o,A]=q.useState(t||!n);return q.useEffect(()=>{if(t){if(A(!0),i){const u=setTimeout(i,r);return()=>clearTimeout(u)}}else{if(a){const u=setTimeout(a,r);return()=>clearTimeout(u)}if(n){const u=setTimeout(()=>A(!1),r);return()=>clearTimeout(u)}}},[t,r,n,i,a]),o?h.jsx(de,{sx:{clipPath:t?"inset(0 0 0 0)":"inset(0 0 100% 0)",transition:`clip-path ${r}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`,contain:"layout style paint",...s},children:e}):null}function jq({groups:t,onSettingChange:e}){const[r,n]=q.useState({general:!1,context:!1}),s=a=>{n(o=>({...o,[a]:!o[a]}))},i=a=>{const o=a.settings.length;switch(a.id){case"general":return`${o} 个基础功能设置`;case"context":return"上下文长度和消息数量";default:return`${o} 个设置项`}};return h.jsx(de,{children:t.map((a,o)=>h.jsxs(de,{children:[h.jsxs(cr,{component:"div",onClick:iB(()=>s(a.id)),sx:{px:2,py:.5,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:a.title,secondary:i(a),primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2}}),h.jsx(Ii,{children:h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:r[a.id]?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})})]}),h.jsx(l0,{in:r[a.id],timeout:150,unmountOnExit:!0,children:h.jsx(de,{sx:{pb:.5,contain:"layout style paint"},children:a.settings.map(A=>h.jsx(Nq,{setting:A,onChange:e},A.id))})}),o<t.length-1&&h.jsx(de,{sx:{height:4}})]},a.id))})}const zq=({onMCPModeChange:t,mcpMode:e="function",onToolsToggle:r,toolsEnabled:n=!0})=>{const s=Rp(),[i,a]=q.useState([]),[o,A]=q.useState([]),[u,l]=q.useState(!1),{createMCPToggleHandler:c}=ZC();q.useEffect(()=>{f()},[]);const f=()=>{const x=Kl.getServers(),E=Kl.getActiveServers();a(x),A(E)},m=async(x,E)=>{try{await Kl.toggleServer(x,E),f()}catch(D){console.error("切换服务器状态失败:",D)}},g=x=>{const E=x.target.value;t?.(E)},b=()=>{s("/settings/mcp-server")},v=c(f,r),w=x=>{switch(x){case"httpStream":return h.jsx(qp,{size:16});case"inMemory":return h.jsx(_c,{size:16});default:return h.jsx(da,{size:16})}},B=x=>{switch(x){case"httpStream":return"#9c27b0";case"inMemory":return"#ff9800";default:return"#9e9e9e"}},C=o.length>0;return h.jsxs(de,{children:[h.jsxs(cr,{component:"div",onClick:iB(()=>l(!u)),sx:{px:2,py:.75,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:"MCP 工具",secondary:C?`${o.length} 个服务器运行中 | 模式: ${e==="function"?"函数调用":"提示词注入"}`:`模式: ${e==="function"?"函数调用":"提示词注入"}`,primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2,sx:{wordBreak:"break-word",whiteSpace:"normal"}},sx:{pr:6,overflow:"hidden"}}),h.jsxs(Ii,{sx:{display:"flex",alignItems:"center",gap:1},children:[C&&h.jsx(Dt,{label:o.length,size:"small",color:"success",variant:"outlined",sx:{mr:1}}),h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:u?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})]})]}),h.jsx(l0,{in:u,timeout:150,unmountOnExit:!0,children:h.jsxs(de,{sx:{px:2,pb:2},children:[h.jsx(de,{sx:{mb:2},children:h.jsx(Gs,{sx:{display:"flex",justifyContent:"space-between",width:"100%",m:0,"& .MuiFormControlLabel-label":{flex:1,pr:2}},labelPlacement:"start",control:h.jsx(qn,{checked:n,onChange:x=>v(x.target.checked)}),label:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Se,{variant:"body2",fontWeight:600,children:"启用 MCP 工具"}),C&&h.jsx(Dt,{label:o.length,size:"small",color:"success",variant:"outlined"})]})})}),h.jsxs(h.Fragment,{children:[h.jsx(St,{sx:{mb:2}}),h.jsx(de,{sx:{mb:2,opacity:n?1:.6},children:h.jsxs(Di,{component:"fieldset",disabled:!n,children:[h.jsx(Lf,{component:"legend",sx:{fontSize:"0.875rem",fontWeight:600,mb:1},children:"工具调用模式"}),h.jsxs(Hf,{value:e,onChange:g,sx:{gap:.5},children:[h.jsx(Gs,{value:"function",control:h.jsx(sa,{size:"small"}),label:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[h.jsx(Co,{size:16}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(Se,{variant:"body2",fontWeight:500,children:"函数调用"}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-word",whiteSpace:"normal",display:"block",lineHeight:1.2},children:"模型自动调用工具（推荐）"})]})]}),sx:{m:0,p:1,borderRadius:1,border:"1px solid",borderColor:e==="function"?"primary.main":"divider",bgcolor:e==="function"?$s("#1976d2",.05):"transparent",width:"100%",display:"flex",alignItems:"flex-start","& .MuiFormControlLabel-label":{flex:1}}}),h.jsx(Gs,{value:"prompt",control:h.jsx(sa,{size:"small"}),label:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[h.jsx(Bo,{size:16}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(Se,{variant:"body2",fontWeight:500,children:"提示词注入"}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-word",whiteSpace:"normal",display:"block",lineHeight:1.2},children:"通过提示词指导 AI 使用工具"})]})]}),sx:{m:0,p:1,borderRadius:1,border:"1px solid",borderColor:e==="prompt"?"primary.main":"divider",bgcolor:e==="prompt"?$s("#1976d2",.05):"transparent",width:"100%",display:"flex",alignItems:"flex-start","& .MuiFormControlLabel-label":{flex:1}}})]})]})}),h.jsx(St,{sx:{mb:2}}),h.jsx(de,{sx:{opacity:n?1:.6},children:h.jsxs(Gp,{defaultExpanded:!0,sx:{"& .MuiAccordion-root":{boxShadow:"none","&:before":{display:"none"}},"& .MuiAccordionSummary-root":{minHeight:"auto",padding:"8px 0",touchAction:"manipulation",userSelect:"none"},"& .MuiAccordionDetails-root":{padding:0,contain:"layout style paint"}},children:[h.jsx(Wp,{expandIcon:h.jsx(Nr,{size:16}),onClick:x=>x.stopPropagation(),children:h.jsxs(Se,{variant:"subtitle2",fontWeight:600,children:["MCP 服务器 (",i.length,")"]})}),h.jsxs($p,{sx:{p:0},children:[i.length===0?h.jsxs(de,{sx:{p:2,textAlign:"center"},children:[h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"还没有配置 MCP 服务器"}),h.jsx(ut,{size:"small",variant:"outlined",onClick:b,startIcon:h.jsx(da,{size:16}),children:"添加服务器"})]}):h.jsx(ti,{dense:!0,sx:{py:0},children:i.map(x=>h.jsxs(cr,{sx:{px:1,py:.5,...Pq,alignItems:"flex-start"},children:[h.jsx(xn,{sx:{minWidth:32},children:h.jsx(Gn,{sx:{bgcolor:$s(B(x.type),.1),color:B(x.type),width:24,height:24},children:w(x.type)})}),h.jsx(Ft,{primary:h.jsx(Se,{variant:"body2",fontWeight:500,children:x.name}),secondary:x.description&&h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-word",whiteSpace:"normal",display:"block",lineHeight:1.2},children:x.description}),sx:{pr:6,overflow:"hidden"}}),h.jsx(Ii,{sx:{right:8,top:"50%",transform:"translateY(-50%)",zIndex:1},children:h.jsx(qn,{checked:x.isActive,onChange:Hq(E=>m(x.id,E)),disabled:!n})})]},x.id))}),i.length>0&&h.jsx(de,{sx:{p:1},children:h.jsx(ut,{fullWidth:!0,size:"small",variant:"text",onClick:b,startIcon:h.jsx(da,{size:16}),children:"管理服务器"})})]})]})})]})]})})]})};function Kq(){const[t,e]=q.useState("medium"),[r,n]=q.useState(!1);q.useEffect(()=>{const o=V5();e(o)},[]);const s=o=>{e(o),h9(o)},i=[{value:"light",label:"轻度节流",description:"更流畅，适合高性能设备",updateInterval:"200ms",scrollInterval:"300ms",color:"#4caf50"},{value:"medium",label:"中度节流",description:"平衡性能和流畅度（推荐）",updateInterval:"500ms",scrollInterval:"600ms",color:"#2196f3"},{value:"heavy",label:"重度节流",description:"更省性能，适合低性能设备",updateInterval:"800ms",scrollInterval:"1000ms",color:"#ff9800"},{value:"extreme",label:"极度节流",description:"最省性能，适合超长文本",updateInterval:"1200ms",scrollInterval:"1500ms",color:"#f44336"}],a=i.find(o=>o.value===t);return h.jsxs(de,{children:[h.jsxs(cr,{component:"div",onClick:()=>n(!r),sx:{px:2,py:.75,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:"性能节流强度",secondary:a?`当前: ${a.label}`:"优化流式输出性能",primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2}}),h.jsx(Ii,{children:h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:r?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})})]}),h.jsx(l0,{in:r,timeout:150,unmountOnExit:!0,children:h.jsxs(de,{sx:{px:2,pb:2,pt:1.5},children:[h.jsxs(Di,{fullWidth:!0,size:"small",sx:{mb:2},children:[h.jsx(Kf,{children:"节流强度"}),h.jsx(UA,{value:t,label:"节流强度",onChange:o=>s(o.target.value),children:i.map(o=>h.jsx(Ze,{value:o.value,children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Dt,{size:"small",label:o.label,sx:{backgroundColor:o.color,color:"white",fontSize:"0.75rem"}}),h.jsx(Se,{variant:"body2",children:o.description})]})},o.value))})]}),a&&h.jsxs(de,{sx:{py:1,px:1.5,backgroundColor:"rgba(0,0,0,0.02)",borderRadius:1,mb:1},children:[h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"当前配置："}),h.jsxs(de,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[h.jsx(Dt,{size:"small",label:`内容更新: ${a.updateInterval}`,variant:"outlined",sx:{fontSize:"0.7rem"}}),h.jsx(Dt,{size:"small",label:`滚动节流: ${a.scrollInterval}`,variant:"outlined",sx:{fontSize:"0.7rem"}})]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:a.description})]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",lineHeight:1.3},children:"💡 节流强度越高，性能越好但更新越慢。建议根据设备性能选择合适的级别。"})]})})]})}function qq({contextLength:t,contextCount:e,maxOutputTokens:r,enableMaxOutputTokens:n,mathRenderer:s,thinkingEffort:i,thinkingBudget:a,onContextLengthChange:o,onContextCountChange:A,onMaxOutputTokensChange:u,onEnableMaxOutputTokensChange:l,onMathRendererChange:c,onThinkingEffortChange:f,onThinkingBudgetChange:m}){const[g,b]=q.useState(!1);q.useEffect(()=>{const L=G=>{const W=G.detail;W&&W!==r&&u(W)},I=G=>{const W=G.detail;W!==n&&l(W)};return window.addEventListener("maxOutputTokensChanged",L),window.addEventListener("enableMaxTokensChanged",I),()=>{window.removeEventListener("maxOutputTokensChanged",L),window.removeEventListener("enableMaxTokensChanged",I)}},[r,n,u,l]);const v=(L,I)=>{o(I)},w=(L,I)=>{A(I)},B=(L,I)=>{const G=I;u(G),window.dispatchEvent(new CustomEvent("maxOutputTokensChanged",{detail:G}))},C=L=>{const I=L.target.checked;l(I),window.dispatchEvent(new CustomEvent("enableMaxTokensChanged",{detail:I}))},x=(L,I)=>{const G=I;m(G),window.dispatchEvent(new CustomEvent("thinkingBudgetChanged",{detail:G}))},E=L=>{const I=L.target.value;c(I)},D=L=>{const I=L.target.value;f(I)},_=L=>{const I=parseInt(L.target.value);!isNaN(I)&&I>=0&&I<=64e3&&o(I)};return h.jsxs(de,{children:[h.jsxs(cr,{component:"div",onClick:()=>b(!g),sx:{px:2,py:.75,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:"上下文设置",secondary:`长度: ${t===64e3?"不限":t} 字符 | 消息数: ${e===100?"最大":e} 条 | 输出: ${r} tokens`,primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2}}),h.jsx(Ii,{children:h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:g?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})})]}),h.jsx(Qi,{in:g,timeout:{enter:300,exit:200},easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},unmountOnExit:!0,children:h.jsxs(de,{sx:{px:2,pb:2},children:[h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{width:"100%",mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(de,{children:[h.jsxs(Se,{variant:"body2",fontWeight:"medium",children:["上下文长度: ",t===64e3?"不限":t," 字符"]}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:"每条消息的最大上下文长度"})]}),h.jsx(de,{sx:{width:"80px"},children:h.jsx(Er,{size:"small",type:"number",value:t,onChange:_,slotProps:{htmlInput:{min:0,max:64e3}}})})]}),h.jsx(_u,{value:t,onChange:v,min:0,max:64e3,step:1e3,marks:[{value:0,label:"0"},{value:16e3,label:"16K"},{value:32e3,label:"32K"},{value:48e3,label:"48K"},{value:64e3,label:"64K"}]})]}),h.jsx(St,{sx:{my:2}})," ",h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{width:"100%",mb:1},children:[h.jsxs(Se,{variant:"body2",fontWeight:"medium",children:["上下文消息数: ",e===100?"最大":e," 条"]}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:"每次请求包含的历史消息数量"})]}),h.jsx(_u,{value:e,onChange:w,min:0,max:100,step:1,marks:[{value:0,label:"0"},{value:25,label:"25"},{value:50,label:"50"},{value:75,label:"75"},{value:100,label:"最大"}]})]}),h.jsx(St,{sx:{my:2}})," ",h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(de,{sx:{flexGrow:1,minWidth:0},children:[" ",h.jsxs(Se,{variant:"body2",fontWeight:"medium",sx:{mb:.5},children:["最大输出Token: ",n?`${r} tokens`:"已禁用"]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:"限制AI生成回复的最大长度，关闭后API请求中不包含此参数"})]}),h.jsxs(de,{sx:{flexShrink:0},children:[" ",h.jsx(qn,{checked:n,onChange:C})]})]}),h.jsx(de,{sx:{mb:2,opacity:n?1:.5},children:h.jsx(_u,{value:Math.min(r,65536),onChange:B,disabled:!n,min:256,max:65536,step:256,marks:[{value:2048,label:"2K"},{value:8192,label:"8K"},{value:32768,label:"32K"}],sx:{"& .MuiSlider-markLabel":{fontSize:"0.65rem",whiteSpace:"nowrap"},"& .MuiSlider-mark":{height:8}}})}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{minWidth:"fit-content"},children:"精确值:"}),h.jsx(Er,{type:"text",value:r,onChange:L=>{const I=L.target.value;if(I===""||/^\d+$/.test(I)){const G=I===""?0:parseInt(I);G<=2e6&&(u(G),window.dispatchEvent(new CustomEvent("maxOutputTokensChanged",{detail:G})))}},disabled:!n,size:"small",sx:{width:120}}),h.jsx(Se,{variant:"body2",color:"text.secondary",children:"tokens"})]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",lineHeight:1.2},children:"滑块范围: 256-64K tokens，输入框支持最大2M tokens。系统会根据模型自动应用限制。"})]}),h.jsx(St,{sx:{my:2}})," ",h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{width:"100%",mb:1},children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:"思维链长度"}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:"设置AI思考过程的深度，影响回答质量和速度"})]}),h.jsxs(Di,{fullWidth:!0,size:"small",sx:{mt:1},children:[h.jsx(Kf,{id:"thinking-effort-label",children:"思维链长度"}),h.jsxs(UA,{labelId:"thinking-effort-label",id:"thinking-effort-select",value:i,label:"思维链长度",onChange:D,children:[h.jsx(Ze,{value:"off",children:"关闭思考"}),h.jsx(Ze,{value:"low",children:"低强度思考"}),h.jsx(Ze,{value:"medium",children:"中强度思考（推荐）"}),h.jsx(Ze,{value:"high",children:"高强度思考"}),h.jsx(Ze,{value:"auto",children:"自动思考"})]})]}),h.jsxs(Se,{variant:"caption",sx:{mt:1,color:"text.secondary",fontSize:"0.7rem",lineHeight:1.2,display:"block"},children:[i==="off"&&"不启用思考过程，AI将直接回答",i==="low"&&"简单思考，适合快速回答",i==="medium"&&"平衡思考深度和响应速度，适合大多数场景",i==="high"&&"深度思考，适合复杂问题分析",i==="auto"&&"根据问题复杂度自动调整思考深度"]})]}),h.jsx(St,{sx:{my:2}})," ",h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{mb:2},children:[h.jsxs(Se,{variant:"body2",fontWeight:"medium",sx:{mb:.5},children:["思考预算: ",a," tokens"]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"设置Gemini 2.5 Pro模型的思考预算，范围128-32768 tokens"})]}),h.jsx(de,{sx:{mb:2},children:h.jsx(_u,{value:a,onChange:x,min:128,max:32768,step:128,marks:[{value:128,label:"128"},{value:1024,label:"1K"},{value:4096,label:"4K"},{value:16384,label:"16K"},{value:32768,label:"32K"}],sx:{"& .MuiSlider-markLabel":{fontSize:"0.65rem",whiteSpace:"nowrap"},"& .MuiSlider-mark":{height:8}}})}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[h.jsx(Se,{variant:"body2",color:"text.secondary",sx:{minWidth:"fit-content"},children:"精确值:"}),h.jsx(Er,{type:"number",value:a,onChange:L=>{const I=parseInt(L.target.value);!isNaN(I)&&I>=128&&I<=32768&&(m(I),window.dispatchEvent(new CustomEvent("thinkingBudgetChanged",{detail:I})))},size:"small",sx:{width:120},slotProps:{htmlInput:{min:128,max:32768}}}),h.jsx(Se,{variant:"body2",color:"text.secondary",children:"tokens"})]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",lineHeight:1.2},children:"思考预算控制模型的思考深度。较高的值允许更深入的思考，但会增加响应时间。"})]}),h.jsx(St,{sx:{my:2}})," ",h.jsx(de,{children:h.jsxs(Di,{fullWidth:!0,size:"small",children:[h.jsx(Kf,{id:"math-renderer-label",children:"数学公式渲染器"}),h.jsxs(UA,{labelId:"math-renderer-label",id:"math-renderer-select",value:s,label:"数学公式渲染器",onChange:E,children:[h.jsx(Ze,{value:"KaTeX",children:"KaTeX"}),h.jsx(Ze,{value:"MathJax",children:"MathJax"}),h.jsx(Ze,{value:"none",children:"禁用"})]})]})})]})})]})}const Wa=[{value:"auto",label:"Auto",description:"自动跟随系统主题"},{value:"vs-code-light",label:"VS Code Light",description:"VS Code 浅色主题"},{value:"vs-code-dark",label:"VS Code Dark",description:"VS Code 深色主题"},{value:"github-light",label:"GitHub Light",description:"GitHub 风格浅色主题"},{value:"github-dark",label:"GitHub Dark",description:"GitHub 风格深色主题"},{value:"one-dark-pro",label:"One Dark Pro",description:"Atom 风格深色主题"},{value:"one-light",label:"One Light",description:"Atom 风格浅色主题"},{value:"tomorrow",label:"Tomorrow",description:"清新浅色主题"},{value:"twilight",label:"Twilight",description:"暮光深色主题"},{value:"atom-dark",label:"Atom Dark",description:"Atom 编辑器深色主题"},{value:"darcula",label:"Darcula",description:"JetBrains 经典深色主题"},{value:"nord",label:"Nord",description:"北欧风格深色主题"},{value:"dracula",label:"Dracula",description:"经典深色主题"},{value:"monokai",label:"Monokai",description:"经典深色主题"},{value:"lucario",label:"Lucario",description:"蓝紫色深色主题"},{value:"material-dark",label:"Material Dark",description:"Material Design 深色主题"},{value:"material-light",label:"Material Light",description:"Material Design 浅色主题"},{value:"material-oceanic",label:"Material Oceanic",description:"Material 海洋主题"},{value:"duotone-dark",label:"Duotone Dark",description:"双色调深色主题"},{value:"duotone-light",label:"Duotone Light",description:"双色调浅色主题"},{value:"duotone-earth",label:"Duotone Earth",description:"双色调大地主题"},{value:"duotone-forest",label:"Duotone Forest",description:"双色调森林主题"},{value:"duotone-sea",label:"Duotone Sea",description:"双色调海洋主题"},{value:"duotone-space",label:"Duotone Space",description:"双色调太空主题"},{value:"synthwave-84",label:"Synthwave 84",description:"赛博朋克风格主题"},{value:"shades-of-purple",label:"Shades of Purple",description:"紫色系主题"},{value:"hopscotch",label:"Hopscotch",description:"跳房子主题"},{value:"coldark-cold",label:"Coldark Cold",description:"冷色调浅色主题"},{value:"coldark-dark",label:"Coldark Dark",description:"冷色调深色主题"},{value:"solarized-light",label:"Solarized Light",description:"Solarized 浅色主题"},{value:"base16-light",label:"Base16 Light",description:"Base16 浅色主题"},{value:"coy",label:"Coy",description:"简约浅色主题"},{value:"cb",label:"CB",description:"经典黑白主题"},{value:"pojoaque",label:"Pojoaque",description:"温暖色调主题"},{value:"xonokai",label:"Xonokai",description:"Monokai 变体主题"},{value:"z-touch",label:"Z-Touch",description:"触感风格主题"}],Vq=()=>{const t=Ic(),[e,r]=q.useState(!1),{codeStyle:n,codeEditor:s,codeShowLineNumbers:i,codeCollapsible:a,codeWrappable:o,codeDefaultCollapsed:A,mermaidEnabled:u}=ms(c=>c.settings),l=Wa.find(c=>c.value===n);return h.jsxs(h.Fragment,{children:[h.jsxs(cr,{component:"div",onClick:()=>r(!e),sx:{px:2,py:.5,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:"代码块设置",secondary:"配置代码显示和编辑功能",primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2}}),h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:e?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})]}),h.jsx(Qi,{in:e,timeout:"auto",unmountOnExit:!0,children:h.jsxs(ti,{sx:{pl:2,pr:2,py:0},children:[h.jsxs(cr,{sx:{px:1,py:1.5,flexDirection:"column",alignItems:"flex-start"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mb:1,width:"100%"},children:[h.jsx(Vp,{size:20,color:"#666",style:{marginRight:8}}),h.jsx(Se,{variant:"body2",fontWeight:"medium",children:"代码风格"})]}),h.jsx(Di,{fullWidth:!0,size:"small",children:h.jsxs(UA,{value:n,onChange:c=>t(bC(c.target.value)),sx:{fontSize:"0.875rem"},MenuProps:{PaperProps:{sx:{maxHeight:400}}},children:[h.jsx(Oo,{sx:{fontSize:"0.75rem",fontWeight:"bold",color:"primary.main"},children:"经典主题"}),Wa.slice(0,9).map(c=>h.jsx(Ze,{value:c.value,children:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:c.label}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:c.description})]})},c.value)),h.jsx(Oo,{sx:{fontSize:"0.75rem",fontWeight:"bold",color:"primary.main"},children:"编辑器主题"}),Wa.slice(9,15).map(c=>h.jsx(Ze,{value:c.value,children:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:c.label}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:c.description})]})},c.value)),h.jsx(Oo,{sx:{fontSize:"0.75rem",fontWeight:"bold",color:"primary.main"},children:"Material 系列"}),Wa.slice(15,18).map(c=>h.jsx(Ze,{value:c.value,children:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:c.label}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:c.description})]})},c.value)),h.jsx(Oo,{sx:{fontSize:"0.75rem",fontWeight:"bold",color:"primary.main"},children:"Duotone 系列"}),Wa.slice(18,24).map(c=>h.jsx(Ze,{value:c.value,children:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:c.label}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:c.description})]})},c.value)),h.jsx(Oo,{sx:{fontSize:"0.75rem",fontWeight:"bold",color:"primary.main"},children:"特色主题"}),Wa.slice(24).map(c=>h.jsx(Ze,{value:c.value,children:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:c.label}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:c.description})]})},c.value))]})}),l&&h.jsxs(Se,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:["当前: ",l.description]})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(xn,{sx:{minWidth:"36px"},children:h.jsx(Mi,{size:20,color:"#666"})}),h.jsx(Ft,{primary:"代码编辑",secondary:"启用代码块编辑功能",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"}}),h.jsx(qn,{checked:s,onChange:c=>t(wC(c.target.checked))})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(Ft,{primary:"代码显示行号",secondary:"在代码块左侧显示行号",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"},sx:{pl:4.5}}),h.jsx(qn,{checked:i,onChange:c=>t(yC(c.target.checked))})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(Ft,{primary:"代码可折叠",secondary:"长代码块可以折叠显示",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"},sx:{pl:4.5}}),h.jsx(qn,{checked:a,onChange:c=>t(xC(c.target.checked))})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(Ft,{primary:"代码可换行",secondary:"长代码行可以自动换行",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"},sx:{pl:4.5}}),h.jsx(qn,{checked:o,onChange:c=>t(vC(c.target.checked))})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(Ft,{primary:"默认收起代码块",secondary:"新代码块默认以折叠状态显示",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"},sx:{pl:4.5}}),h.jsx(qn,{checked:A,onChange:c=>t(BC(c.target.checked))})]}),h.jsxs(cr,{sx:{px:1,py:1},children:[h.jsx(Ft,{primary:"Mermaid图表",secondary:"启用Mermaid图表渲染功能",primaryTypographyProps:{variant:"body2",fontWeight:"medium"},secondaryTypographyProps:{variant:"caption"},sx:{pl:4.5}}),h.jsx(qn,{checked:u,onChange:c=>t(CC(c.target.checked))})]})]})})]})};function Gq(){const t=Ic(),e=ms(u=>u.settings),r=e.pasteLongTextAsFile??!1,n=e.pasteLongTextThreshold??1500,[s,i]=q.useState(!1),a=u=>{t(EC(u.target.checked))},o=u=>{const l=parseInt(u.target.value,10);!isNaN(l)&&l>=100&&l<=1e4&&t($0(l))},A=u=>{const l=parseInt(u.target.value,10);isNaN(l)||l<100?t($0(100)):l>1e4&&t($0(1e4))};return h.jsxs(h.Fragment,{children:[h.jsxs(cr,{component:"div",onClick:()=>i(!s),sx:{px:2,py:.5,cursor:"pointer",position:"relative",zIndex:1,touchAction:"manipulation",userSelect:"none","@media (hover: none)":{"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(0.98)",transition:"all 0.1s ease-out"}},"@media (hover: hover)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)",transform:"none !important",boxShadow:"none !important"},"&:focus":{backgroundColor:"transparent !important"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& *":{pointerEvents:"none","&:hover":{backgroundColor:"transparent !important",transform:"none !important"}}},children:[h.jsx(Ft,{primary:"输入设置",secondary:"粘贴和输入相关的功能设置",primaryTypographyProps:{fontWeight:"medium",fontSize:"0.95rem",lineHeight:1.2},secondaryTypographyProps:{fontSize:"0.75rem",lineHeight:1.2}}),h.jsx(Ii,{children:h.jsx(Ye,{edge:"end",size:"small",sx:{padding:"2px"},children:s?h.jsx(Bs,{size:16}):h.jsx(Nr,{size:16})})})]}),h.jsx(l0,{in:s,timeout:150,unmountOnExit:!0,children:h.jsxs(de,{sx:{px:2,pb:2},children:[h.jsx(de,{sx:{mb:2},children:h.jsx(Gs,{control:h.jsx(qn,{checked:r,onChange:a}),label:h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",children:"长文本粘贴为文件"}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:"当粘贴的文本超过设定长度时，自动转换为文件"})]}),sx:{width:"100%",margin:0,display:"flex",justifyContent:"space-between","& .MuiFormControlLabel-label":{flex:1,marginRight:1}},labelPlacement:"start"})}),r&&h.jsxs(h.Fragment,{children:[h.jsx(St,{sx:{my:1}}),h.jsxs(de,{sx:{mb:2},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(de,{children:[h.jsxs(Se,{variant:"body2",fontWeight:"medium",children:["长文本阈值: ",n," 字符"]}),h.jsx(Se,{variant:"caption",color:"text.secondary",children:"超过此字符数的文本将转换为文件"})]}),h.jsx(de,{sx:{width:"80px"},children:h.jsx(Er,{size:"small",type:"number",value:n,onChange:o,onBlur:A,inputProps:{min:100,max:1e4,step:100},sx:{"& .MuiInputBase-input":{fontSize:"0.875rem",textAlign:"center"}}})})]}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"建议范围：100-10000 字符。较小的值会让更多文本转为文件，较大的值则相反。"})]})]})]})})]})}const Rf={contextLength:16e3,contextCount:5,maxOutputTokens:8192,enableMaxOutputTokens:!0,mathRenderer:"KaTeX",defaultThinkingEffort:"medium",thinkingBudget:1024,streamOutput:!0,showMessageDivider:!0,copyableCodeBlocks:!0,renderUserInputAsMarkdown:!0};function Wq(){const[t,e]=q.useState(Rf),[r,n]=q.useState(""),s=q.useCallback(()=>{try{const u=localStorage.getItem("appSettings"),l=u?JSON.parse(u):{},c={...Rf,...l};e(c);const f=s5();f&&n(f)}catch(u){console.error("加载设置失败:",u),e(Rf)}},[]),i=q.useCallback((u,l)=>{try{const c=localStorage.getItem("appSettings"),m={...c?JSON.parse(c):{},[u]:l};return localStorage.setItem("appSettings",JSON.stringify(m)),e(g=>({...g,[u]:l})),window.dispatchEvent(new CustomEvent("appSettingsChanged",{detail:{settingId:u,value:l}})),!0}catch(c){return console.error(`保存设置 ${u} 失败:`,c),!1}},[]),a=q.useCallback(u=>{try{const l=localStorage.getItem("appSettings"),f={...l?JSON.parse(l):{},...u};return localStorage.setItem("appSettings",JSON.stringify(f)),e(m=>({...m,...u})),window.dispatchEvent(new CustomEvent("appSettingsChanged",{detail:{batchUpdate:u}})),!0}catch(l){return console.error("批量保存设置失败:",l),!1}},[]),o=q.useCallback(u=>{try{return JC(u),n(u),!0}catch{return!1}},[]),A=q.useCallback((u,l)=>t[u]!==void 0?t[u]:l,[t]);return q.useEffect(()=>{s()},[s]),{settings:t,userAvatar:r,updateSetting:i,updateSettings:a,updateUserAvatar:o,getSetting:A,loadSettings:s}}async function $q(t){try{const{dexieStorage:e}=await gs(async()=>{const{dexieStorage:n}=await import("./index-Bp4oiTTd.js").then(s=>s.hw);return{dexieStorage:n}},__vite__mapDeps([1,2])),r=await e.getAllAssistants();for(const n of r){const s={...n,maxTokens:t};await e.saveAssistant(s)}return console.log(`[SettingsStorage] 已同步更新 ${r.length} 个助手的maxTokens为 ${t}`),!0}catch(e){return console.error("同步助手maxTokens失败:",e),!1}}function Xq({settings:t,onSettingChange:e,mcpMode:r="function",toolsEnabled:n=!0,onMCPModeChange:s,onToolsToggle:i}){const a=Rp(),{userAvatar:o,updateSetting:A,updateUserAvatar:u,getSetting:l}=Wq(),[c,f]=q.useState(!1),m=()=>f(!0),g=()=>f(!1),b=B=>u(B),v=(B,C)=>{A(B,C),e&&e(B,C)},w=[{id:"general",title:"常规设置",settings:t}];return h.jsxs(ti,{sx:{p:0},children:[h.jsxs(WA,{onClick:()=>a("/settings"),sx:{px:2,py:.75,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.04)"}},children:[h.jsx(xn,{sx:{minWidth:"40px"},children:h.jsx(X7,{size:20,color:"#1976d2"})}),h.jsx(Ft,{primary:h.jsx(Se,{variant:"body2",fontWeight:"medium",sx:{fontSize:"0.95rem",lineHeight:1.2},children:"设置"}),secondary:h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",lineHeight:1.2},children:"进入完整设置页面"})}),h.jsx(de,{sx:{ml:"auto"},children:h.jsx(Zt,{title:"模型设置",children:h.jsx(Ye,{size:"small",color:"primary",onClick:B=>{B.stopPropagation(),a("/settings/assistant-settings")},sx:{bgcolor:"rgba(255, 193, 7, 0.1)",border:"2px solid #ffc107",borderRadius:"50%","&:hover":{bgcolor:"rgba(255, 193, 7, 0.2)"}},children:h.jsx(v7,{size:16})})})})]}),h.jsx(St,{sx:{my:.5}}),h.jsxs(cr,{sx:{px:2,py:1,display:"flex",justifyContent:"space-between",bgcolor:"rgba(255, 193, 7, 0.1)",borderLeft:"3px solid #ffc107"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(Gn,{src:o,sx:{width:36,height:36,mr:1.5,bgcolor:o?"transparent":"#87d068",borderRadius:"25%"},children:!o&&"我"}),h.jsxs(de,{children:[h.jsx(Se,{variant:"body2",fontWeight:"medium",sx:{fontSize:"0.9rem",lineHeight:1.2},children:"用户头像"}),h.jsx(Se,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",lineHeight:1.2},children:"设置您的个人头像"})]})]}),h.jsx(Zt,{title:"设置头像",children:h.jsx(Ye,{size:"small",color:"primary",onClick:m,sx:{bgcolor:"rgba(0, 0, 0, 0.04)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.1)"}},children:h.jsx(Eo,{size:16})})})]}),h.jsx(St,{sx:{my:.5}}),h.jsx(jq,{groups:w,onSettingChange:v}),h.jsx(St,{sx:{my:.5}}),h.jsx(Gq,{}),h.jsx(St,{sx:{my:.5}}),h.jsx(Kq,{}),h.jsx(St,{sx:{my:.5}}),h.jsx(Vq,{onSettingChange:v}),h.jsx(St,{sx:{my:.5}}),h.jsx(qq,{contextLength:l("contextLength",16e3),contextCount:l("contextCount",5),maxOutputTokens:l("maxOutputTokens",8192),enableMaxOutputTokens:l("enableMaxOutputTokens",!0),mathRenderer:l("mathRenderer","KaTeX"),thinkingEffort:l("defaultThinkingEffort","medium"),thinkingBudget:l("thinkingBudget",1024),onContextLengthChange:B=>A("contextLength",B),onContextCountChange:B=>A("contextCount",B),onMaxOutputTokensChange:async B=>{A("maxOutputTokens",B),await $q(B)},onEnableMaxOutputTokensChange:B=>A("enableMaxOutputTokens",B),onMathRendererChange:B=>A("mathRenderer",B),onThinkingEffortChange:B=>A("defaultThinkingEffort",B),onThinkingBudgetChange:B=>A("thinkingBudget",B)}),h.jsx(St,{sx:{my:.5}}),h.jsx(zq,{mcpMode:r,toolsEnabled:n,onMCPModeChange:s,onToolsToggle:i}),h.jsx(n5,{open:c,onClose:g,onSave:b})]})}const Yq=rt.memo(function(){const{loading:e,value:r,setValue:n,userAssistants:s,currentAssistant:i,assistantWithTopics:a,currentTopic:o,handleSelectAssistant:A,handleAddAssistant:u,handleUpdateAssistant:l,handleDeleteAssistant:c,handleSelectTopic:f,handleCreateTopic:m,handleDeleteTopic:g,handleUpdateTopic:b,settings:v,settingsArray:w,handleSettingChange:B,handleContextLengthChange:C,handleContextCountChange:x,handleMathRendererChange:E,handleThinkingEffortChange:D,mcpMode:_,toolsEnabled:L,handleMCPModeChange:I,handleToolsToggle:G,refreshTopics:W}=ZK(),Q=Ht(),j=dt(te=>te.settings.themeStyle,(te,$)=>te===$),T=q.useMemo(()=>Op(Q,j),[Q,j]),V=q.useDeferredValue(r),J=q.useDeferredValue(s),Y=q.useDeferredValue(i),oe=q.useDeferredValue(a),re=q.useDeferredValue(o),pe=(te,$)=>{console.log(`[SidebarTabs] 标签页切换: ${r} -> ${$}`,{currentAssistant:i?.id,assistantWithTopics:a?.id,topicsCount:a?.topics?.length||0,topicIds:a?.topicIds?.length||0,currentTopic:o?.id}),$===1&&(console.log("[SidebarTabs] 切换到话题标签页，话题详情:",a?.topics?.map(me=>({id:me.id,name:me.name}))||[]),!(a?.topics&&a.topics.length>0)&&W?(console.log("[SidebarTabs] 话题数据为空，刷新话题数据"),W()):console.log("[SidebarTabs] 话题数据已存在，跳过刷新以提升性能")),$===0&&console.log("[SidebarTabs] 切换到助手标签页"),q.startTransition(()=>{n($)})};return h.jsx(de,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:e?h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(KA,{})}):h.jsxs(h.Fragment,{children:[h.jsx(de,{sx:{borderBottom:1,borderColor:"divider"},children:h.jsxs(GA,{value:r,onChange:pe,"aria-label":"sidebar tabs",variant:"fullWidth",sx:{minHeight:"48px",margin:"0 10px",padding:"10px 0","& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{minHeight:"32px",borderRadius:"8px",transition:"none","&.Mui-selected":{backgroundColor:T.selectedColor},"&:hover":{backgroundColor:T.hoverColor}}},children:[h.jsx(Ei,{icon:h.jsx(Uc,{size:18}),label:"助手",..._f(0),sx:{minHeight:"32px",borderRadius:"8px",color:T.textPrimary,"& .MuiTab-iconWrapper":{marginBottom:"2px"},"&.Mui-selected":{color:T.textPrimary},"&:hover":{color:T.textPrimary}}}),h.jsx(Ei,{icon:h.jsx(zf,{size:18}),label:"话题",..._f(1),sx:{minHeight:"32px",borderRadius:"8px",color:T.textPrimary,"& .MuiTab-iconWrapper":{marginBottom:"2px"},"&.Mui-selected":{color:T.textPrimary},"&:hover":{color:T.textPrimary}}}),h.jsx(Ei,{icon:h.jsx(da,{size:18}),label:"设置",..._f(2),sx:{minHeight:"32px",borderRadius:"8px",color:T.textPrimary,"& .MuiTab-iconWrapper":{marginBottom:"2px"},"&.Mui-selected":{color:T.textPrimary},"&:hover":{color:T.textPrimary}}})]})}),h.jsx(If,{value:V,index:0,children:h.jsx(Dq,{userAssistants:J,currentAssistant:Y,onSelectAssistant:A,onAddAssistant:u,onUpdateAssistant:l,onDeleteAssistant:c})}),h.jsx(If,{value:V,index:1,children:h.jsx(Oq,{currentAssistant:oe||Y,currentTopic:re,onSelectTopic:f,onCreateTopic:m,onDeleteTopic:g,onUpdateTopic:b},oe?.id||Y?.id||"no-assistant")}),h.jsx(If,{value:V,index:2,children:h.jsx(Xq,{settings:w,onSettingChange:B,initialContextLength:v.contextLength,onContextLengthChange:C,initialContextCount:v.contextCount,onContextCountChange:x,initialMathRenderer:v.mathRenderer,onMathRendererChange:E,initialThinkingEffort:v.defaultThinkingEffort,onThinkingEffortChange:D,mcpMode:_,toolsEnabled:L,onMCPModeChange:I,onToolsToggle:G})})]})})}),Jq=rt.memo(function({mcpMode:e,toolsEnabled:r,onMCPModeChange:n,onToolsToggle:s}){const i=Sr(),a=dt(oe=>oe.messages.currentTopicId),{value:o,setValue:A,loading:u,userAssistants:l,setUserAssistants:c,currentAssistant:f,setCurrentAssistant:m,assistantWithTopics:g,currentTopic:b,updateAssistantTopic:v,refreshTopics:w}=tq(),{handleSelectAssistant:B,handleAddAssistant:C,handleUpdateAssistant:x,handleDeleteAssistant:E}=nq({currentAssistant:f,setCurrentAssistant:m,setUserAssistants:c,currentTopic:b,switchToTopicTab:()=>A(1)}),{handleCreateTopic:D}=o5(),_=q.useCallback(oe=>{console.log("[SidebarTabs] handleSelectTopic被调用:",oe.id,oe.name),q.startTransition(()=>{i(Ge.setCurrentTopicId(oe.id))}),console.log("[SidebarTabs] 话题切换完成")},[i]),L=q.useCallback(async(oe,re)=>{if(re.stopPropagation(),console.log("[SidebarTabs] 开始删除话题:",oe),!g?.topics?.find(te=>te.id===oe)||!f){console.warn("[SidebarTabs] 找不到要删除的话题或当前助手");return}if(a===oe&&g?.topics&&g.topics.length>1&&g.topics.filter($=>$.id!==oe).length>0){const $=g.topics.findIndex(me=>me.id===oe),he=$<g.topics.length-1?g.topics[$+1]:g.topics[$-1];console.log("[SidebarTabs] 删除当前话题，立即切换到:",he.name),q.startTransition(()=>{i(Ge.setCurrentTopicId(he.id))})}q.startTransition(()=>{g?.topics&&g.topics.length===1&&(console.log("[SidebarTabs] 删除最后一个话题，先清空currentTopicId"),i(Ge.setCurrentTopicId(""))),i(Kp({assistantId:f.id,topicId:oe}))}),Promise.resolve().then(async()=>{try{await Xt.deleteTopic(oe),console.log("[SidebarTabs] 话题数据库删除完成:",oe)}catch(te){console.error("[SidebarTabs] 删除话题失败，需要回滚UI状态:",te),w()}})},[i,g,f,a,w]),I=oe=>{v(oe)},{settings:G,settingsArray:W,handleSettingChange:Q,handleContextLengthChange:j,handleContextCountChange:T,handleMathRendererChange:V,handleThinkingEffortChange:J}=sq(),Y=q.useMemo(()=>({loading:u,value:o,userAssistants:l,currentAssistant:f,assistantWithTopics:g,currentTopic:b,setValue:A,setCurrentAssistant:m,handleSelectAssistant:B,handleAddAssistant:C,handleUpdateAssistant:x,handleDeleteAssistant:E,handleCreateTopic:D,handleSelectTopic:_,handleDeleteTopic:L,handleUpdateTopic:I,settings:G,settingsArray:W,handleSettingChange:Q,handleContextLengthChange:j,handleContextCountChange:T,handleMathRendererChange:V,handleThinkingEffortChange:J,mcpMode:e,toolsEnabled:r,handleMCPModeChange:n,handleToolsToggle:s,refreshTopics:w}),[u,o,l,f,g,b,A,m,B,C,x,E,D,_,L,I,G,W,Q,j,T,V,J,e,r,n,s,w]);return h.jsx(JK,{value:Y,children:h.jsx(Yq,{})})}),Zq="sidebar-drawer",eV=(t,e)=>{const r=t.mobileOpen===e.mobileOpen&&t.desktopOpen===e.desktopOpen&&t.mcpMode===e.mcpMode&&t.toolsEnabled===e.toolsEnabled;return r||console.log("🔄 MotionSidebar props变化，需要重新渲染",{mobileOpen:{prev:t.mobileOpen,next:e.mobileOpen},desktopOpen:{prev:t.desktopOpen,next:e.desktopOpen},mcpMode:{prev:t.mcpMode,next:e.mcpMode},toolsEnabled:{prev:t.toolsEnabled,next:e.toolsEnabled}}),r},tV=rt.memo(function({mobileOpen:e=!1,onMobileToggle:r,mcpMode:n,toolsEnabled:s,onMCPModeChange:i,onToolsToggle:a,desktopOpen:o=!0,onDesktopToggle:A}){const u=q.useRef(0);u.current+=1,console.log(`🎬 MotionSidebar渲染 #${u.current}`,{mobileOpen:e,desktopOpen:o});const l=Ht(),c=ba(l.breakpoints.down("md")),[f,m]=q.useState(!c),g=320;q.useEffect(()=>{c&&m(!1)},[c]);const b=q.useRef(r),v=q.useRef(A);q.useEffect(()=>{b.current=r},[r]),q.useEffect(()=>{v.current=A},[A]);const w=q.useMemo(()=>c?b.current?e:f:v.current?o:f,[c,e,f,o]),B=q.useCallback(()=>{c?b.current?b.current():m(!1):v.current?v.current():m(!1)},[c]);X6(Zq,c&&w,B);const C=q.useMemo(()=>h.jsxs(de,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto","&::-webkit-scrollbar":{width:"1px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.2)",borderRadius:"3px","&:hover":{background:"rgba(0, 0, 0, 0.3)"}},scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.2) transparent"},children:[(c||A)&&h.jsx(de,{sx:{display:"flex",justifyContent:"flex-end",p:1,minHeight:48,alignItems:"center"},children:h.jsx(Ye,{onClick:B,sx:{transition:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"scale(1.05)"},"&:active":{transform:"scale(0.95)"},"@media (hover: none)":{"&:hover":{backgroundColor:"transparent",transform:"none"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.08)",transform:"scale(0.95)"}}},children:h.jsx(ri,{size:20})})}),h.jsx(Jq,{mcpMode:n,toolsEnabled:s,onMCPModeChange:i,onToolsToggle:a})]}),[c,B,n,s,i,a,A]);return c?h.jsxs(h.Fragment,{children:[!w&&h.jsx(de,{sx:{position:"fixed",left:0,top:0,width:30,height:"100vh",zIndex:1300,backgroundColor:"transparent","&::after":{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:3,height:40,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"0 3px 3px 0",opacity:0,transition:"opacity 0.3s ease"},"&:active::after":{opacity:1}},onTouchStart:x=>{x.touches[0].clientX<30&&(console.log("📱 移动端边缘滑动触发"),b.current?b.current():m(!0))}}),h.jsx(SC,{variant:"temporary",anchor:"left",open:w,onClose:B,ModalProps:{keepMounted:!0,disablePortal:!1,BackdropProps:{sx:{backgroundColor:"rgba(0, 0, 0, 0.5)",transition:"opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)"}},disableScrollLock:!0,disableEnforceFocus:!0,disableAutoFocus:!0},sx:{"& .MuiDrawer-paper":{width:g,borderRadius:"0 16px 16px 0",boxShadow:l.shadows[16],transform:w?"translateX(0)":`translateX(-${g}px)`,transition:"transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",willChange:"transform",backfaceVisibility:"hidden"}},children:C})]}):h.jsx(de,{sx:{position:"fixed",left:0,top:0,width:g,height:"100vh",zIndex:0,boxSizing:"border-box",borderRight:`1px solid ${l.palette.divider}`,backgroundColor:l.palette.background.paper,transform:w?"translateX(0)":`translateX(-${g}px)`,transition:l.transitions.create(["transform"],{easing:l.transitions.easing.sharp,duration:l.transitions.duration.enteringScreen})},children:C})},eV),rV=({containerId:t})=>{const[e,r]=q.useState(!1),[n,s]=q.useState(!1),i=q.useRef(null),a=q.useRef(0),o=Ht(),A=ba(o.breakpoints.down("sm")),u=dt(D=>D.settings.messageNavigation||"none"),l=q.useCallback(()=>{i.current&&(clearTimeout(i.current),i.current=null),i.current=setTimeout(()=>{n||r(!1)},1500)},[n]),c=q.useCallback(()=>{A||(s(!0),r(!0),i.current&&(clearTimeout(i.current),i.current=null))},[A]),f=q.useCallback(()=>{A||(s(!1),l())},[l,A]),m=q.useCallback(()=>{const D=document.getElementById(t);return D?Array.from(D.querySelectorAll('[id^="message-"]')):[]},[t]),g=q.useCallback(D=>{D.scrollIntoView({behavior:"smooth",block:"start"})},[]),b=q.useCallback(()=>{const D=document.getElementById(t);D&&D.scrollTo({top:0,behavior:"smooth"})},[t]),v=q.useCallback(()=>{const D=document.getElementById(t);D&&D.scrollTo({top:D.scrollHeight,behavior:"smooth"})},[t]),w=q.useCallback(()=>{const D=m();if(D.length===0)return-1;const _=document.getElementById(t);if(!_)return-1;const L=_.getBoundingClientRect(),I=L.top,G=L.bottom;for(let W=0;W<D.length;W++){const Q=D[W].getBoundingClientRect(),j=Q.top,T=Q.bottom;if(j>=I&&T<=G||j<G&&T>I)return W}return-1},[m,t]),B=q.useCallback(()=>{l();const D=m();if(D.length===0)return b();const _=w();if(_===-1)return b();const L=_-1;if(L<0)return b();g(D[L])},[l,m,w,b,g]),C=q.useCallback(()=>{l();const D=m();if(D.length===0)return v();const _=w();if(_===-1)return v();const L=_+1;if(L>=D.length)return v();g(D[L])},[l,m,w,v,g]),x=q.useCallback(()=>{l(),b()},[l,b]),E=q.useCallback(()=>{l(),v()},[l,v]);return q.useEffect(()=>{if(!document.getElementById(t))return;const _=I=>{if(A)return;const G=Date.now();if(G-a.current<100)return;a.current=G;const Q=I.clientX>window.innerWidth-100;Q&&!n?(r(!0),l()):!Q&&!n&&r(!1)},L=I=>{if(!A)return;const G=I.touches[0];if(!G)return;const W=80,Q=200,j=window.innerHeight/2;G.clientX>window.innerWidth-W&&G.clientY>j-Q/2&&G.clientY<j+Q/2&&(r(!0),s(!1),l())};return A?window.addEventListener("touchstart",L,{passive:!0}):window.addEventListener("mousemove",_),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("touchstart",L),i.current&&(clearTimeout(i.current),i.current=null)}},[t,n,l,A]),q.useEffect(()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),u!=="buttons"?null:h.jsxs(h.Fragment,{children:[A&&!e&&h.jsx(de,{sx:{position:"fixed",right:0,top:"50%",transform:"translateY(-50%)",width:4,height:100,bgcolor:"primary.main",opacity:.3,borderRadius:"4px 0 0 4px",zIndex:999,pointerEvents:"none","@keyframes pulse":{"0%":{opacity:.3,transform:"translateY(-50%) scaleY(1)"},"50%":{opacity:.6,transform:"translateY(-50%) scaleY(1.1)"},"100%":{opacity:.3,transform:"translateY(-50%) scaleY(1)"}},animation:"pulse 2s ease-in-out infinite"}}),h.jsx(q3,{in:e,timeout:300,children:h.jsx(de,{onMouseEnter:c,onMouseLeave:f,sx:{position:"fixed",right:A?8:16,top:"50%",transform:"translateY(-50%)",zIndex:1e3,pointerEvents:e?"auto":"none"},children:h.jsxs(hr,{elevation:8,sx:{display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",bgcolor:A?"rgba(255, 255, 255, 0.85)":"background.paper",backdropFilter:"blur(8px)",border:"1px solid",borderColor:"divider",minWidth:A?36:"auto",...o.palette.mode==="dark"&&A&&{bgcolor:"rgba(18, 18, 18, 0.85)"}},children:[h.jsx(Zt,{title:"回到顶部",placement:"left",disableHoverListener:A,children:h.jsx(Ye,{onClick:x,size:"small",sx:{borderRadius:0,minHeight:A?36:"auto",minWidth:A?36:"auto",padding:A?"6px":"8px","&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},children:h.jsx(L7,{size:A?18:20})})}),h.jsx(Zt,{title:"上一条消息",placement:"left",disableHoverListener:A,children:h.jsx(Ye,{onClick:B,size:"small",sx:{borderRadius:0,minHeight:A?36:"auto",minWidth:A?36:"auto",padding:A?"6px":"8px","&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},children:h.jsx(Bs,{size:A?18:20})})}),h.jsx(Zt,{title:"下一条消息",placement:"left",disableHoverListener:A,children:h.jsx(Ye,{onClick:C,size:"small",sx:{borderRadius:0,minHeight:A?36:"auto",minWidth:A?36:"auto",padding:A?"6px":"8px","&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},children:h.jsx(Nr,{size:A?18:20})})}),h.jsx(Zt,{title:"回到底部",placement:"left",disableHoverListener:A,children:h.jsx(Ye,{onClick:E,size:"small",sx:{borderRadius:0,minHeight:A?36:"auto",minWidth:A?36:"auto",padding:A?"6px":"8px","&:hover":{bgcolor:"action.hover"},"&:active":{bgcolor:"action.selected"}},children:h.jsx(Q7,{size:A?18:20})})})]})})})]})},nV={showSettingsButton:!0,showModelSelector:!0,modelSelectorStyle:"full",showChatTitle:!0,showTopicName:!1,showNewTopicButton:!1,showClearButton:!1,showSearchButton:!1,showMenuButton:!0,leftComponents:["menuButton","chatTitle","topicName","newTopicButton","clearButton"],rightComponents:["searchButton","modelSelector","settingsButton"],componentPositions:[]},jl=320,Of={duration:.2,ease:[.25,.46,.45,.94]},nA={duration:.1},zl={SIDEBAR_CLOSED:{mainContent:{marginLeft:0,width:"100%"},inputContainer:{left:0,width:"100%"}},SIDEBAR_OPEN:{mainContent:{marginLeft:jl,width:`calc(100% - ${jl}px)`},inputContainer:{left:jl,width:`calc(100% - ${jl}px)`}}},sV=sn(t=>t.settings.themeStyle,t=>t.settings.inputLayoutStyle,t=>t.settings.topToolbar,t=>t.settings.modelSelectorStyle,t=>t.settings.chatBackground,(t,e,r,n,s)=>({themeStyle:t,inputLayoutStyle:e||"default",topToolbar:r,modelSelectorStyle:n,chatBackground:s||{enabled:!1,imageUrl:"",opacity:.3,size:"cover",position:"center",repeat:"no-repeat"}})),iV=({currentTopic:t,currentMessages:e,isStreaming:r,isLoading:n,isMobile:s,drawerOpen:i,setDrawerOpen:a,navigate:o,selectedModel:A,availableModels:u,handleModelSelect:l,handleModelMenuClick:c,handleModelMenuClose:f,menuOpen:m,handleClearTopic:g,handleDeleteMessage:b,handleRegenerateMessage:v,handleSwitchMessageVersion:w,handleResendMessage:B,webSearchActive:C,imageGenerationMode:x,videoGenerationMode:E,toolsEnabled:D,mcpMode:_,toggleWebSearch:L,toggleImageGenerationMode:I,toggleVideoGenerationMode:G,toggleToolsEnabled:W,handleMCPModeChange:Q,handleMessageSend:j,handleMultiModelSend:T,handleStopResponseClick:V,isDebating:J,handleStartDebate:Y,handleStopDebate:oe,showSearch:re,onSearchToggle:pe})=>{const te=q.useRef(0);te.current+=1,console.log(`🎬 ChatPageUI渲染 #${te.current}`,{drawerOpen:i,isMobile:s});const $=Ht(),{handleCreateTopic:he}=o5(),me=q.useCallback(()=>{console.log("🔘 侧边栏切换开始",{current:i}),q.startTransition(()=>{a(le=>!le)})},[a]),ye=q.useCallback(()=>{q.startTransition(()=>{a(le=>!le)})},[a]),ce=q.useCallback(()=>{q.startTransition(()=>{a(le=>!le)})},[a]),H=i&&!s,P=dt(sV),ge=Op($,P.themeStyle),ie={...nV,...P.topToolbar},Z=P.inputLayoutStyle==="default",se=q.useMemo(()=>S7(P.chatBackground),[P.chatBackground]),Ce=q.useMemo(()=>({mainContainer:{display:"flex",flexDirection:{xs:"column",sm:"row"},height:"100vh",bgcolor:ge.background},appBar:{bgcolor:ge.paper,color:ge.textPrimary,borderBottom:"1px solid",borderColor:ge.borderColor},messageContainer:{flexGrow:1,overflow:"auto",display:"flex",flexDirection:"column",width:"100%",maxWidth:"100%",backgroundColor:ge.background},welcomeContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%",p:3,textAlign:"center",bgcolor:ge.background},welcomeText:{fontWeight:400,color:ge.textPrimary,mb:1}}),[ge]),O=q.useCallback(()=>{pe?.()},[pe]),ue=q.useCallback(le=>{const Te=ie.componentPositions?.length>0,_e=ve=>Te||ie[ve];switch(le){case"menuButton":return _e("showMenuButton")?h.jsx(ci.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:nA,children:h.jsx(Ye,{edge:"start",color:"inherit",onClick:me,sx:{mr:Te?0:1},children:h.jsx(Cm,{name:"documentPanel",size:20})})},le):null;case"chatTitle":return _e("showChatTitle")?h.jsx(Se,{variant:"h6",noWrap:!0,component:"div",children:t?.name||"对话"},le):null;case"topicName":return _e("showTopicName")&&t?h.jsx(Se,{variant:"body1",noWrap:!0,sx:{color:"text.secondary",ml:Te?0:1},children:t.name},le):null;case"newTopicButton":return _e("showNewTopicButton")?h.jsx(ci.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:nA,children:h.jsx(Ye,{color:"inherit",onClick:he,size:"small",sx:{ml:Te?0:1},children:h.jsx(VA,{size:20})})},le):null;case"clearButton":return _e("showClearButton")&&t?h.jsx(ci.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:nA,children:h.jsx(Ye,{color:"inherit",onClick:g,size:"small",sx:{ml:Te?0:1},children:h.jsx(ki,{size:20})})},le):null;case"modelSelector":return _e("showModelSelector")?h.jsx(de,{sx:{display:"flex",alignItems:"center"},children:P.modelSelectorStyle==="dropdown"?h.jsx(C7,{selectedModel:A,availableModels:u,handleModelSelect:l,displayStyle:ie.modelSelectorDisplayStyle||"icon"}):h.jsxs(h.Fragment,{children:[h.jsx(E7,{selectedModel:A,onClick:c,displayStyle:ie.modelSelectorDisplayStyle||"icon"}),h.jsx(de,{sx:{position:"absolute",visibility:"hidden",pointerEvents:"none"},children:h.jsx(B7,{selectedModel:A,availableModels:u,handleModelSelect:l,handleMenuClick:c,handleMenuClose:f,menuOpen:m})})]})},le):null;case"searchButton":return _e("showSearchButton")?h.jsx(ci.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:nA,children:h.jsx(Ye,{color:re?"primary":"inherit",onClick:O,sx:{backgroundColor:re?"action.selected":"transparent","&:hover":{backgroundColor:"action.hover"}},children:h.jsx(Cm,{name:"search",size:20})})},le):null;case"settingsButton":return _e("showSettingsButton")?h.jsx(ci.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:nA,children:h.jsx(Ye,{color:"inherit",onClick:()=>o("/settings"),children:h.jsx(da,{size:20})})},le):null;default:return null}},[ie,P.modelSelectorStyle,i,t,A,u,m,re,me,he,g,l,c,f,o,O]),N=q.useCallback((le,Te,_e,ve)=>{t?j(le,Te,_e,ve):console.log("没有当前话题，无法发送消息")},[t,j]),F=q.useCallback((le,Te,_e,ve,Me)=>{t&&T?T(le,Te,_e,ve,Me):console.log("没有当前话题，无法发送多模型消息")},[t,T]),R={onSendMessage:N,availableModels:u,isLoading:n,allowConsecutiveMessages:!0,imageGenerationMode:x,videoGenerationMode:E,onSendImagePrompt:le=>{j(le)},webSearchActive:C,onStopResponse:V,isStreaming:r,isDebating:J,toolsEnabled:D,...T&&F&&{onSendMultiModelMessage:F},...Y&&oe&&{onStartDebate:Y,onStopDebate:oe}},Ae=q.useMemo(()=>P.inputLayoutStyle==="compact"?h.jsx(e7,{...R,onClearTopic:g,onNewTopic:he,toggleImageGenerationMode:I,toggleWebSearch:L,toggleToolsEnabled:W},"compact-input"):P.inputLayoutStyle==="integrated"?h.jsx(t7,{...R,onClearTopic:g,toggleImageGenerationMode:I,toggleVideoGenerationMode:G,toggleWebSearch:L,onToolsEnabledChange:W},"integrated-input"):h.jsx(r7,{...R},"default-input"),[P.inputLayoutStyle,R,g,he,I,L,W]),be=q.useMemo(()=>h.jsx("div",{className:"chat-input-wrapper",children:h.jsxs(ci.div,{animate:H?zl.SIDEBAR_OPEN.inputContainer:zl.SIDEBAR_CLOSED.inputContainer,transition:Of,style:{position:"relative",zIndex:2,backgroundColor:"transparent",boxShadow:"none",overflow:"hidden",display:"flex",flexDirection:"column",gap:0},children:[Z&&h.jsx(de,{sx:{width:"100%",display:"flex",justifyContent:"center",px:2},children:h.jsx(n7,{onClearTopic:g,imageGenerationMode:x,toggleImageGenerationMode:I,videoGenerationMode:E,toggleVideoGenerationMode:G,webSearchActive:C,toggleWebSearch:L,toolsEnabled:D,onToolsEnabledChange:W})}),h.jsx(de,{sx:{width:"100%",display:"flex",justifyContent:"center",px:s?0:2},children:Ae})]})}),[H,Z,Ae,s]);return h.jsxs(de,{sx:Ce.mainContainer,children:[h.jsx(tV,{mcpMode:_,toolsEnabled:D,onMCPModeChange:Q,onToolsToggle:W,...s?{mobileOpen:i,onMobileToggle:ye}:{desktopOpen:i,onDesktopToggle:ce}}),h.jsxs(de,{component:ci.div,animate:H?zl.SIDEBAR_OPEN.mainContent:zl.SIDEBAR_CLOSED.mainContent,transition:Of,sx:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",backgroundColor:ge.background,position:"fixed",top:0,right:0,zIndex:1},children:[h.jsx(TC,{position:"static",elevation:0,className:"status-bar-safe-area",sx:Ce.appBar,children:h.jsx(FC,{sx:{position:"relative",minHeight:"56px !important",justifyContent:ie.componentPositions?.length>0?"center":"space-between",userSelect:"none"},children:ie.componentPositions?.length>0?h.jsx(h.Fragment,{children:ie.componentPositions.map(le=>{const Te=ue(le.id);return Te?h.jsx(ci.div,{animate:{left:`${le.x}%`,top:`${le.y}%`},style:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:10,userSelect:"none"},transition:Of,children:Te},le.id):null})}):h.jsxs(h.Fragment,{children:[h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:1,userSelect:"none"},children:ie.leftComponents?.map(ue).filter(Boolean)}),h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:1,userSelect:"none"},children:ie.rightComponents?.map(ue).filter(Boolean)})]})})}),h.jsx(de,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 64px)",width:"100%",position:"relative",overflow:"hidden"},children:t?h.jsxs(h.Fragment,{children:[h.jsx(de,{className:"enhanced-chat-messages-container",sx:{...Ce.messageContainer,...se},children:h.jsx(Bm,{children:h.jsx(YK,{messages:e,onRegenerate:v,onDelete:b,onSwitchVersion:w,onResend:B})})}),h.jsx(rV,{containerId:"messageList"}),h.jsx(Bm,{children:be})]}):h.jsxs(h.Fragment,{children:[h.jsx(de,{className:"enhanced-chat-messages-container",sx:{...Ce.messageContainer,...se},children:h.jsx(de,{sx:Ce.welcomeContainer,children:h.jsx(Se,{variant:"h6",gutterBottom:!0,sx:Ce.welcomeText,children:"对话开始了，请输入您的问题"})})}),be]})})]})]})};function aV(t,e){const r=Sr(),[n,s]=q.useState(null),i=q.useRef(!0),a=q.useRef(void 0),o=dt(g=>g.messages.currentTopicId),A=dt(g=>g.assistants.assistants.find(b=>b.id===t?.id)),u=q.useMemo(()=>A?.topics||[],[A?.topics]),l=q.useCallback(g=>{i.current&&s(g)},[]),c=q.useCallback(async g=>{const b=u.find(v=>v.id===g);if(b)return b;try{return await ac.getTopic(g)}catch(v){return console.error(`[useActiveTopic] 获取话题 ${g} 失败:`,v),null}},[u]),f=q.useCallback(async(g,b)=>{if(u.length>0)return u[0];if(Array.isArray(b)&&b.length>0){const v=await ac.getTopic(b[0]);if(v)return v}try{const w=(await De.getAllTopics()).filter(B=>B.assistantId===g);if(w.length>0)return w.sort((B,C)=>{const x=new Date(B.lastMessageTime||B.updatedAt||B.createdAt||0).getTime();return new Date(C.lastMessageTime||C.updatedAt||C.createdAt||0).getTime()-x})[0]}catch(v){console.error("[useActiveTopic] 查找助手话题失败:",v)}return null},[u]);q.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),q.useEffect(()=>{n&&(console.log(`[useActiveTopic] 话题变更: ${n.name} (${n.id})`),lr.emit(hn.CHANGE_TOPIC,n),r(j3(n.id)))},[n,r]),q.useEffect(()=>{if(!t?.id)return;const g=a.current!==t.id;if(a.current=t.id,!g)return;l(null);const b=new AbortController;return(async()=>{try{const w=await f(t.id,t.topicIds);if(b.signal.aborted)return;w&&i.current&&(console.log(`[useActiveTopic] 设置助手的第一个话题: ${w.name}`),l(w))}catch(w){b.signal.aborted||console.error("[useActiveTopic] 加载助手话题失败:",w)}})(),()=>{b.abort()}},[t?.id,f,l]),q.useEffect(()=>{if(!o||!t?.id||n?.id===o)return;const g=new AbortController;return(async()=>{try{const v=await c(o);if(g.signal.aborted||!i.current)return;v&&v.assistantId===t.id?(console.log(`[useActiveTopic] 切换到话题: ${v.name}`),l(v)):console.warn(v?`[useActiveTopic] 话题 ${o} 不属于当前助手`:`[useActiveTopic] 找不到话题 ${o}`)}catch(v){g.signal.aborted||console.error("[useActiveTopic] 加载话题失败:",v)}})(),()=>{g.abort()}},[o,t?.id,n?.id,c,l]);const m=q.useCallback(g=>{console.log(`[useActiveTopic] 即时切换到话题: ${g.name} (${g.id})`),l(g)},[l]);return{activeTopic:n,setActiveTopic:m}}const oV=({open:t,onClose:e,onTopicSelect:r,onMessageSelect:n})=>{const[s,i]=q.useState(""),[a,o]=q.useState([]),[A,u]=q.useState(!1),[l,c]=q.useState({count:0,time:0,limited:!1,error:!1}),f=dt(I=>I.assistants.assistants),m=q.useMemo(()=>f.flatMap(I=>I.topics||[]),[f]),g=dt(I=>I.messages),b=q.useCallback(I=>{const G=[],W=[],Q=I.match(/"([^"]+)"/g);Q&&Q.forEach(V=>{const J=V.slice(1,-1).trim();J.length>0&&W.push(J.toLowerCase())});const T=I.replace(/"[^"]*"/g,"").match(/\S+/g);return T&&T.forEach(V=>{const J=V.toLowerCase().trim();J.length>0&&!W.includes(J)&&G.push(J)}),{keywords:G,phrases:W}},[]),v=q.useCallback((I,G)=>{if(!G.trim())return I;const{keywords:W,phrases:Q}=b(G);let j=I;return Q.forEach(T=>{try{const V=T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),J=new RegExp(`(${V})`,"gi");j=j.replace(J,"<mark>$1</mark>")}catch(V){console.warn("短语高亮失败:",T,V)}}),W.forEach(T=>{try{const V=T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),J=new RegExp(`(${V})`,"gi");j=j.replace(J,"<mark>$1</mark>")}catch(V){console.warn("关键词高亮失败:",T,V)}}),j},[b]),w=q.useCallback((I,G,W)=>{if(!I)return!1;const Q=I.toLowerCase();for(const j of W)if(Q.includes(j))return!0;for(const j of G)if(Q.includes(j))return!0;return!1},[]),B=q.useCallback(I=>{try{if(I.content&&typeof I.content=="string")return I.content.trim();const G=ma(I);return G?G.trim():""}catch(G){return G instanceof TypeError?console.warn("消息对象结构异常:",I?.id,G.message):G instanceof ReferenceError?console.warn("消息引用错误:",I?.id,G.message):console.warn("获取消息内容时发生未知错误:",I?.id,G),""}},[]),C=q.useCallback((I,G,W,Q=150)=>{if(!I||I.length<=Q)return I;const j=[];if(W.forEach(pe=>{const te=I.toLowerCase(),$=pe.toLowerCase();let he=0;for(;(he=te.indexOf($,he))!==-1;)j.push({start:he,end:he+pe.length,term:pe}),he+=pe.length}),G.forEach(pe=>{const te=I.toLowerCase(),$=pe.toLowerCase();let he=0;for(;(he=te.indexOf($,he))!==-1;)j.push({start:he,end:he+pe.length,term:pe}),he+=pe.length}),j.length===0)return I.substring(0,Q)+"...";j.sort((pe,te)=>pe.start-te.start);const T=j[0],V=Math.floor((T.start+T.end)/2),J=Math.floor(Q/2);let Y=Math.max(0,V-J),oe=Math.min(I.length,Y+Q);if(oe-Y<Q&&Y>0&&(Y=Math.max(0,oe-Q)),Y>0){const pe=I.indexOf(" ",Y);pe!==-1&&pe-Y<20&&(Y=pe+1)}if(oe<I.length){const pe=I.lastIndexOf(" ",oe);pe!==-1&&oe-pe<20&&(oe=pe)}let re=I.substring(Y,oe);return Y>0&&(re="..."+re),oe<I.length&&(re=re+"..."),re},[]),x=q.useCallback(async I=>{if(!I.trim()){o([]),c({count:0,time:0,limited:!1,error:!1});return}u(!0);const G=performance.now(),W=[],Q=100,j=150;try{const{keywords:T,phrases:V}=b(I);if(T.length===0&&V.length===0){o([]),c({count:0,time:0,limited:!1,error:!1});return}for(const oe of m){if(W.length>=Q){console.info(`搜索结果已达到最大限制 ${Q}，停止搜索`);break}const re=oe.name||"";re&&w(re,T,V)&&W.push({id:`topic-${oe.id}`,topicId:oe.id,topicName:re||"未命名话题",messageContent:"话题标题匹配",messageRole:"user",createdAt:oe.createdAt||new Date().toISOString(),highlightedContent:v(re,I)});try{const te=ha({messages:g},oe.id);if(te&&Array.isArray(te)&&te.length>0)for(const $ of te){if(W.length>=Q)break;const he=B($);if(he&&w(he,T,V)){const me=C(he,T,V,j);W.push({id:`message-${$.id}`,topicId:oe.id,topicName:oe.name||"未命名话题",messageContent:me,messageRole:$.role||"user",createdAt:$.createdAt||new Date().toISOString(),highlightedContent:v(me,I)})}}}catch(pe){console.warn(`搜索话题 ${oe.id} 的消息时发生错误:`,pe);continue}}const Y=(performance.now()-G)/1e3;W.sort((oe,re)=>new Date(re.createdAt).getTime()-new Date(oe.createdAt).getTime()),o(W),c({count:W.length,time:Y,limited:W.length>=Q,error:!1}),W.length>=Q&&console.info(`搜索结果已限制为 ${Q} 条，可能还有更多结果`)}catch(T){console.error("搜索过程中发生严重错误:",T),o([]),c({count:0,time:0,limited:!1,error:!0})}finally{u(!1)}},[m,v,b,w,B,C,g]),E=q.useMemo(()=>Wn.debounce(x,300),[x]);q.useEffect(()=>(E(s),()=>{E.cancel()}),[s,E]);const D=q.useCallback(()=>{i(""),o([]),c({count:0,time:0,limited:!1,error:!1})},[]),_=q.useCallback(I=>{if(I.id.startsWith("topic-"))r?.(I.topicId);else if(I.id.startsWith("message-")){const G=I.id.replace("message-","");n?.(I.topicId,G)}e()},[r,n,e]),L=q.useMemo(()=>{const I={};return a.forEach(G=>{const W=Mn(G.createdAt).format("MM/DD");I[W]||(I[W]=[]),I[W].push(G)}),I},[a]);return h.jsx(kr,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,slotProps:{paper:{sx:{borderRadius:3,maxHeight:"80vh",bgcolor:"background.paper",backgroundImage:"none",boxShadow:"0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"}},backdrop:{sx:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"}}},children:h.jsxs(Ir,{sx:{p:0,display:"flex",flexDirection:"column",height:"80vh"},children:[h.jsxs(de,{sx:{p:3,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[h.jsx(Se,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:"搜索话题和消息"}),h.jsx(de,{sx:{flexGrow:1}}),h.jsx(Ye,{onClick:e,size:"small",children:h.jsx(ri,{size:20})})]}),h.jsx(Er,{fullWidth:!0,placeholder:"搜索话题和消息...",value:s,onChange:I=>i(I.target.value),autoFocus:!0,variant:"outlined",size:"medium",slotProps:{input:{startAdornment:h.jsx(ya,{position:"start",children:h.jsx(ys,{size:20})}),endAdornment:s&&h.jsx(ya,{position:"end",children:h.jsx(Ye,{size:"small",onClick:D,children:h.jsx(ri,{size:18})})})}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px",bgcolor:"background.default","&:hover":{bgcolor:"action.hover"},"&.Mui-focused":{bgcolor:"background.paper"}}}}),s&&h.jsx(de,{sx:{mt:2,display:"flex",alignItems:"center",gap:1},children:A?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(KA,{size:16}),h.jsx(Se,{variant:"body2",color:"text.secondary",children:"搜索中..."})]}):l.error?h.jsx(Se,{variant:"body2",color:"error",children:"搜索时发生错误，请重试"}):h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[h.jsxs(Se,{variant:"body2",color:"text.secondary",children:["找到 ",l.count," 个结果 (",l.time.toFixed(3),"s)"]}),l.limited&&h.jsx(Se,{variant:"caption",color:"warning.main",sx:{bgcolor:"warning.light",px:1,py:.25,borderRadius:1,fontSize:"0.7rem"},children:"结果已限制，可能还有更多"})]})})]}),h.jsxs(de,{sx:{flex:1,overflow:"auto",p:3},children:[s&&a.length===0&&!A&&h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",color:"text.secondary"},children:[h.jsx(ys,{size:48,style:{opacity:.3,marginBottom:16}}),h.jsx(Se,{variant:"h6",sx:{mb:1},children:"没有找到匹配的结果"}),h.jsx(Se,{variant:"body2",children:"尝试使用不同的关键词"})]}),Object.entries(L).map(([I,G])=>h.jsxs(de,{sx:{mb:3},children:[h.jsx(Se,{variant:"h6",sx:{mb:2,color:"text.secondary",fontSize:"1.1rem",fontWeight:600},children:I}),h.jsx(St,{sx:{mb:2}}),h.jsx(ti,{disablePadding:!0,children:G.map(W=>h.jsxs(cr,{component:"div",onClick:()=>_(W),sx:{borderRadius:2,mb:1,cursor:"pointer",border:"1px solid",borderColor:"divider","&:hover":{bgcolor:"action.hover",borderColor:"primary.main"},flexDirection:"column",alignItems:"stretch"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[h.jsx(Se,{variant:"subtitle1",color:"primary",sx:{fontWeight:600},children:W.topicName}),h.jsx(Dt,{label:W.messageRole==="user"?"用户":"助手",size:"small",variant:"outlined",color:W.messageRole==="user"?"primary":"secondary",sx:{fontSize:"0.75rem",height:22}})]}),h.jsxs(de,{children:[h.jsx(Se,{component:"div",variant:"body2",sx:{mb:1,"& mark":{backgroundColor:"warning.light",color:"warning.contrastText",padding:"2px 4px",borderRadius:"4px",fontWeight:500}},dangerouslySetInnerHTML:{__html:W.highlightedContent||W.messageContent}}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(l5,{size:14}),h.jsx(Se,{component:"span",variant:"caption",color:"text.secondary",children:Mn(W.createdAt).format("HH:mm")})]})]})]},W.id))})]},I))]})]})})},UG=()=>{const t=Sr(),e=dt(O=>O.assistants.currentAssistant),{activeTopic:r}=aV(e||{}),n=q.useRef([]),[s,i]=q.useState(!1);q.useEffect(()=>{const ue=setTimeout(async()=>{try{console.log("[ChatPage] 检查并恢复未完成的视频生成任务"),await oA.resumeTasks()}catch(N){console.error("[ChatPage] 恢复视频任务失败:",N)}},1e3);return()=>clearTimeout(ue)},[]);const a=q.useMemo(()=>[],[]),o=q.useMemo(()=>r?.id?sn([O=>ha(O,r.id)],O=>Array.isArray(O)?O:a):()=>a,[r?.id,a]),A=dt(o);q.useEffect(()=>{n.current=A},[A]);const u=q.useMemo(()=>r?.id?sn([O=>W5(O,r.id)],O=>!!O):()=>!1,[r?.id]),l=q.useMemo(()=>r?.id?sn([O=>G5(O,r.id)],O=>!!O):()=>!1,[r?.id]),c=dt(u),m=dt(l),{isMobile:g,drawerOpen:b,setDrawerOpen:v,navigate:w}=D9(),{selectedModel:B,availableModels:C,handleModelSelect:x,handleModelMenuClick:E,handleModelMenuClose:D,menuOpen:_}=k9(),L=()=>{r&&Xt.clearTopicContent(r.id)},I=()=>{i(!s)},G=()=>{i(!1)},W=O=>{t(Ge.setCurrentTopicId(O))},Q=(O,ue)=>{t(Ge.setCurrentTopicId(O)),console.log(`[ChatPage] 切换到话题 ${O}，消息 ${ue}`)},{handleSendMessage:j,handleDeleteMessage:T,handleRegenerateMessage:V,handleSwitchMessageVersion:J,handleResendMessage:Y}=M9(B,r),{webSearchActive:oe,imageGenerationMode:re,videoGenerationMode:pe,toolsEnabled:te,mcpMode:$,toggleWebSearch:he,toggleImageGenerationMode:me,toggleVideoGenerationMode:ye,toggleToolsEnabled:ce,handleMCPModeChange:H,handleStopResponseClick:P,handleMessageSend:ge,handleMultiModelSend:ie}=_S(r,A,B,j),{isDebating:Z,handleStartDebate:se,handleStopDebate:Ce}=US({onSendMessage:j,currentTopic:r});return q.useEffect(()=>{const O=async N=>{if(!r||!e){console.error("[ChatPage] 无法创建分支: 缺少当前话题或助手");return}const F=n.current;if(N<0||N>=F.length){console.error(`[ChatPage] 无效的分支索引: ${N}, 消息总数: ${F.length}`);return}console.log(`[ChatPage] 开始创建分支，索引: ${N}, 消息总数: ${F.length}`),console.log("[ChatPage] 选中的消息:",F[N]),console.log(`[ChatPage] 将克隆 ${N+1} 条消息`);try{const k=await Xt.createTopic(`${r.name} (分支)`);if(!k){console.error("[ChatPage] 创建分支话题失败");return}t(zp({assistantId:e.id,topic:k}));const R=F.slice(0,N+1);for(const Ae of R){const be=Date.now(),le={...Ae,id:`${Ae.id}_clone_${be}`,topicId:k.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Te=[];if(Ae.blocks&&Ae.blocks.length>0)for(const _e of Ae.blocks)try{const ve=await De.getMessageBlock(_e);if(ve){const Me={...ve,id:`${ve.id}_clone_${be}`,messageId:le.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};Te.push(Me)}}catch(ve){console.warn(`[ChatPage] 无法克隆块 ${_e}:`,ve)}le.blocks=Te.map(_e=>_e.id),await Xt.saveMessageAndBlocks(le,Te)}t(Ge.setCurrentTopicId(k.id)),console.log(`[ChatPage] 成功创建分支话题: ${k.id}`)}catch(k){console.error("[ChatPage] 创建分支失败:",k)}},ue=lr.on(hn.NEW_BRANCH,O);return()=>{ue()}},[r,e,t]),h.jsxs(h.Fragment,{children:[h.jsx(iV,{currentTopic:r,currentMessages:A,isStreaming:c,isLoading:m,isMobile:g,drawerOpen:b,setDrawerOpen:v,navigate:w,selectedModel:B,availableModels:C,handleModelSelect:x,handleModelMenuClick:E,handleModelMenuClose:D,menuOpen:_,handleClearTopic:L,handleDeleteMessage:T,handleRegenerateMessage:V,handleSwitchMessageVersion:J,handleResendMessage:Y,webSearchActive:oe,imageGenerationMode:re,videoGenerationMode:pe,toolsEnabled:te,mcpMode:$,toggleWebSearch:he,toggleImageGenerationMode:me,toggleVideoGenerationMode:ye,toggleToolsEnabled:ce,handleMCPModeChange:H,handleMessageSend:ge,handleMultiModelSend:ie,handleStopResponseClick:P,isDebating:Z,handleStartDebate:se,handleStopDebate:Ce,showSearch:s,onSearchToggle:I}),h.jsx(oV,{open:s,onClose:G,onTopicSelect:W,onMessageSelect:Q})]})};export{UG as default};
